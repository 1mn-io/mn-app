import { d as je, r as P, a as R, c as O, o as Be, b as Te, w as Fe, e as n, f as s, g as o, h as i, t as c, i as m, F as h, j as M, n as _, k as w, v as $e, l as y, m as J, p as Ue, q as A, s as Le, u as qe, x as ze, y as Pe, z as Ee, A as Ie } from "./runtime-dom.esm-bundler-C-IhLZUr.js";
const De = (U, S) => {
  const v = U.__vccOpts || U;
  for (const [p, L] of S)
    v[p] = L;
  return v;
}, He = { class: "h-full bg-white dark:bg-gray-900" }, Ke = { class: "flex min-h-full flex-col justify-center px-6 py-12 lg:px-8 bg-white dark:bg-gray-900" }, Re = { class: "sm:mx-auto sm:w-full sm:max-w-sm text-gray-900 dark:text-gray-100" }, Je = { class: "form-header" }, Ne = { class: "mt-10 text-center text-2xl font-bold tracking-tight text-gray-900 dark:text-gray-100" }, We = {
  key: 0,
  class: "mt-2 text-center text-sm text-gray-600 dark:text-gray-400"
}, Ge = { class: "mt-10 max-w-2xl sm:mx-auto sm:w-full bg-white dark:bg-gray-900" }, Xe = {
  key: 0,
  class: "text-sm text-gray-500 dark:text-gray-400 mb-3 font-medium"
}, Ye = { class: "grid grid-cols-12 gap-4" }, Ze = {
  key: 0,
  class: "relative"
}, Qe = ["type", "id", "onUpdate:modelValue", "placeholder", "required", "disabled", "min", "max", "minlength", "maxlength", "pattern"], et = ["for"], tt = {
  key: 0,
  class: "text-red-500 ml-1"
}, rt = {
  key: 1,
  class: "relative"
}, at = ["id", "onUpdate:modelValue", "placeholder", "required", "disabled", "rows"], ot = ["for"], st = {
  key: 0,
  class: "text-red-500 ml-1"
}, nt = {
  key: 2,
  class: "relative"
}, lt = ["id", "onUpdate:modelValue", "required", "disabled", "onFocus"], pt = {
  value: "",
  disabled: "",
  selected: "",
  class: "text-gray-400"
}, ut = ["value"], it = {
  key: 0,
  class: "absolute right-8 top-1/2 transform -translate-y-1/2"
}, ct = ["onClick"], dt = ["for"], mt = {
  key: 0,
  class: "text-red-500 ml-1"
}, gt = {
  key: 3,
  class: "relative group"
}, yt = ["onClick"], ht = {
  key: 0,
  class: "absolute right-3 top-1/2 transform -translate-y-1/2"
}, xt = {
  key: 0,
  class: "text-red-500"
}, vt = { class: "flex flex-wrap gap-2 mb-1 items-center" }, bt = ["onClick"], kt = {
  key: 1,
  class: "flex items-center justify-between w-full"
}, _t = { class: "text-gray-900 dark:text-gray-100 text-sm" }, wt = ["onClick"], ft = ["onUpdate:modelValue", "onInput", "onFocus", "onKeydown", "placeholder", "disabled"], Ct = {
  key: 1,
  class: "flex-1 text-sm text-gray-500 italic"
}, Mt = ["onUpdate:modelValue", "onInput", "onFocus", "onKeydown", "placeholder", "disabled"], Ft = {
  key: 1,
  class: "flex-1 text-sm text-gray-500 italic"
}, $t = {
  key: 0,
  class: "absolute z-50 mt-1 w-full bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-md shadow-xl max-h-60 overflow-y-auto custom-scrollbar"
}, Ut = {
  key: 0,
  class: "px-4 py-3 text-sm text-gray-500 italic"
}, Lt = {
  key: 1,
  class: "px-4 py-3 text-sm text-gray-500 italic"
}, qt = ["onMousedown"], zt = {
  key: 0,
  class: "w-4 h-4",
  fill: "currentColor",
  viewBox: "0 0 20 20"
}, jt = ["onMousedown"], St = {
  key: 4,
  class: "flex items-center cursor-pointer text-gray-900 dark:text-gray-100"
}, Vt = ["id", "onUpdate:modelValue", "required", "disabled"], Ot = { class: "ml-2 text-sm" }, At = {
  key: 0,
  class: "text-red-500 ml-1"
}, Bt = {
  key: 5,
  class: "radio-group"
}, Tt = { class: "block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2" }, Pt = {
  key: 0,
  class: "text-red-500 ml-1"
}, Et = { class: "radio-options space-y-3" }, It = ["name", "value", "onUpdate:modelValue", "required", "disabled"], Dt = { class: "ml-2 text-sm" }, Ht = {
  key: 6,
  class: "file-upload-container"
}, Kt = ["for"], Rt = {
  key: 0,
  class: "text-red-500 ml-1"
}, Jt = ["id", "multiple", "accept", "onChange", "disabled"], Nt = ["onClick", "onDragover", "onDragleave", "onDrop"], Wt = { class: "flex flex-col items-center justify-center px-6 py-8 text-center" }, Gt = { class: "mt-1 text-xs text-gray-500 dark:text-gray-500" }, Xt = {
  key: 0,
  class: "mt-4 space-y-3"
}, Yt = { class: "flex items-center space-x-3 flex-1 min-w-0" }, Zt = { class: "flex-shrink-0" }, Qt = {
  key: 0,
  class: "w-8 h-8 text-purple-500",
  fill: "currentColor",
  viewBox: "0 0 20 20"
}, er = {
  key: 1,
  class: "w-8 h-8 text-gray-500",
  fill: "currentColor",
  viewBox: "0 0 20 20"
}, tr = { class: "flex-1 min-w-0" }, rr = { class: "text-sm font-medium text-gray-900 dark:text-gray-100 truncate" }, ar = { class: "text-xs text-gray-500 dark:text-gray-400" }, or = { key: 0 }, sr = { key: 1 }, nr = { key: 2 }, lr = {
  key: 0,
  class: "mt-1"
}, pr = { class: "h-1 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden" }, ur = { class: "flex items-center space-x-2 flex-shrink-0" }, ir = ["onClick"], cr = ["onClick"], dr = {
  key: 0,
  class: "relative"
}, mr = ["type", "id", "onUpdate:modelValue", "placeholder", "required", "disabled", "min", "max", "minlength", "maxlength", "pattern"], gr = ["for"], yr = {
  key: 0,
  class: "text-red-500 ml-1"
}, hr = {
  key: 1,
  class: "relative"
}, xr = ["id", "onUpdate:modelValue", "placeholder", "required", "disabled", "rows"], vr = ["for"], br = {
  key: 0,
  class: "text-red-500 ml-1"
}, kr = {
  key: 2,
  class: "relative"
}, _r = ["id", "onUpdate:modelValue", "required", "disabled", "onFocus"], wr = {
  value: "",
  disabled: "",
  selected: "",
  class: "text-gray-400"
}, fr = ["value"], Cr = {
  key: 0,
  class: "absolute right-8 top-1/2 transform -translate-y-1/2"
}, Mr = ["onClick"], Fr = ["for"], $r = {
  key: 0,
  class: "text-red-500 ml-1"
}, Ur = {
  key: 3,
  class: "relative group"
}, Lr = ["onClick"], qr = {
  key: 0,
  class: "absolute right-3 top-1/2 transform -translate-y-1/2"
}, zr = {
  key: 0,
  class: "text-red-500"
}, jr = { class: "flex flex-wrap gap-2 mb-1 items-center" }, Sr = ["onClick"], Vr = {
  key: 1,
  class: "flex items-center justify-between w-full"
}, Or = { class: "text-gray-900 dark:text-gray-100 text-sm" }, Ar = ["onClick"], Br = ["onUpdate:modelValue", "onInput", "onFocus", "onKeydown", "placeholder", "disabled"], Tr = {
  key: 1,
  class: "flex-1 text-sm text-gray-500 italic"
}, Pr = ["onUpdate:modelValue", "onInput", "onFocus", "onKeydown", "placeholder", "disabled"], Er = {
  key: 1,
  class: "flex-1 text-sm text-gray-500 italic"
}, Ir = {
  key: 0,
  class: "absolute z-50 mt-1 w-full bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-md shadow-xl max-h-60 overflow-y-auto custom-scrollbar"
}, Dr = {
  key: 0,
  class: "px-4 py-3 text-sm text-gray-500 italic"
}, Hr = {
  key: 1,
  class: "px-4 py-3 text-sm text-gray-500 italic"
}, Kr = ["onMousedown"], Rr = {
  key: 0,
  class: "w-4 h-4",
  fill: "currentColor",
  viewBox: "0 0 20 20"
}, Jr = ["onMousedown"], Nr = {
  key: 4,
  class: "flex items-center cursor-pointer text-gray-900 dark:text-gray-100"
}, Wr = ["id", "onUpdate:modelValue", "required", "disabled"], Gr = { class: "ml-2 text-sm" }, Xr = {
  key: 0,
  class: "text-red-500 ml-1"
}, Yr = {
  key: 5,
  class: "radio-group"
}, Zr = { class: "block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2" }, Qr = {
  key: 0,
  class: "text-red-500 ml-1"
}, ea = { class: "radio-options space-y-3" }, ta = ["name", "value", "onUpdate:modelValue", "required", "disabled"], ra = { class: "ml-2 text-sm" }, aa = {
  key: 6,
  class: "file-upload-container"
}, oa = ["for"], sa = {
  key: 0,
  class: "text-red-500 ml-1"
}, na = ["id", "multiple", "accept", "onChange", "disabled"], la = ["onClick", "onDragover", "onDragleave", "onDrop"], pa = { class: "flex flex-col items-center justify-center px-6 py-8 text-center" }, ua = { class: "mt-1 text-xs text-gray-500 dark:text-gray-500" }, ia = {
  key: 0,
  class: "mt-4 space-y-3"
}, ca = { class: "flex items-center space-x-3 flex-1 min-w-0" }, da = { class: "flex-shrink-0" }, ma = {
  key: 0,
  class: "w-8 h-8 text-purple-500",
  fill: "currentColor",
  viewBox: "0 0 20 20"
}, ga = {
  key: 1,
  class: "w-8 h-8 text-gray-500",
  fill: "currentColor",
  viewBox: "0 0 20 20"
}, ya = { class: "flex-1 min-w-0" }, ha = { class: "text-sm font-medium text-gray-900 dark:text-gray-100 truncate" }, xa = { class: "text-xs text-gray-500 dark:text-gray-400" }, va = { key: 0 }, ba = { key: 1 }, ka = { key: 2 }, _a = {
  key: 0,
  class: "mt-1"
}, wa = { class: "h-1 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden" }, fa = { class: "flex items-center space-x-2 flex-shrink-0" }, Ca = ["onClick"], Ma = ["onClick"], Fa = { class: "form-actions flex flex-col sm:flex-row gap-4 mt-8" }, $a = ["disabled"], Ua = { key: 0 }, La = { key: 1 }, qa = ["disabled"], za = {
  key: 0,
  class: "fixed inset-0 z-50 overflow-y-auto"
}, ja = { class: "flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0" }, Sa = { class: "inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full sm:p-6" }, Va = { class: "absolute top-0 right-0 pt-4 pr-4" }, Oa = { class: "sm:flex sm:items-start" }, Aa = { class: "mt-3 text-center sm:mt-0 sm:text-left w-full" }, Ba = { class: "mt-2" }, Ta = ["src"], Pa = ["src"], Ea = {
  key: 2,
  class: "p-4 text-center"
}, Ia = ["href"], Da = { class: "fixed bottom-4 right-4 z-50 space-y-2" }, Ha = { class: "flex items-center justify-between" }, Ka = { class: "text-sm font-medium" }, Ra = ["onClick"], Ja = /* @__PURE__ */ je({
  __name: "Formv2",
  props: {
    _p: {},
    _$p: {},
    _$cb: {}
  },
  setup(U) {
    const S = U, v = P(!1), p = R({}), L = P(null), B = P("other"), E = P([]);
    let re = 0;
    const f = P(null), g = R({}), T = P({}), d = R({}), C = R({}), V = R({}), x = R({});
    P({});
    const F = O(() => S._$p.data.curr.data || {}), $ = O(() => F.value.layout || { title: "Form" }), se = (t) => t && Array.isArray(t.children), ae = O(() => {
      const t = F.value.fields || [];
      return t.length === 0 ? [] : se(t[0]) ? t : [{
        description: "",
        children: t
      }];
    }), ne = O(() => {
      const t = F.value.fields || [];
      return t.length > 0 && se(t[0]);
    }), le = O(() => {
      const t = ae.value, r = [];
      return t.forEach((e) => {
        e.children && r.push(...e.children);
      }), r;
    }), I = O(() => le.value);
    O(() => I.value.every((t) => {
      if (!t.required) return !0;
      const r = p[t.name];
      if (t.type === "file") {
        const e = x[t.name];
        return e && e.files.length > 0 && e.files.every((l) => l.uploaded);
      }
      if (r == null) return !1;
      if (typeof r == "string") {
        const e = r.trim();
        if (e === "" || t.validation && (t.validation.minLength && e.length < t.validation.minLength || t.validation.maxLength && e.length > t.validation.maxLength || t.validation.pattern && !new RegExp(t.validation.pattern).test(e)))
          return !1;
      }
      return !(typeof r == "boolean" && !r);
    }));
    const Se = O(() => Object.values(x).some((t) => t.isUploading)), pe = (t) => {
      const r = t.grid || 12;
      return ne.value ? {
        1: "col-span-12 sm:col-span-1",
        2: "col-span-12 sm:col-span-2",
        3: "col-span-12 sm:col-span-3",
        4: "col-span-12 sm:col-span-4",
        5: "col-span-12 sm:col-span-5",
        6: "col-span-12 sm:col-span-6",
        7: "col-span-12 sm:col-span-7",
        8: "col-span-12 sm:col-span-8",
        9: "col-span-12 sm:col-span-9",
        10: "col-span-12 sm:col-span-10",
        11: "col-span-12 sm:col-span-11",
        12: "col-span-12"
      }[r] || "col-span-12" : r === 1 ? "col-span-2 md:col-span-1" : "col-span-2";
    }, N = async (t, r) => {
      if (t.data?.api && !d[t.name]) {
        d[t.name] = !0;
        try {
          let e = t.data.api;
          const l = t.data.method || "GET", a = {
            "Content-Type": "application/json",
            ...t.data.headers || {}
          };
          if (r && t.data.searchable) {
            const z = t.data.searchParam || "search", j = new URL(e, window.location.origin);
            j.searchParams.set(z, r), e = j.toString();
          }
          if (t.data.params) {
            const z = new URL(e, window.location.origin);
            Object.entries(t.data.params).forEach(([j, K]) => {
              z.searchParams.set(j, String(K));
            }), e = z.toString();
          }
          const u = await fetch(e, {
            method: l,
            headers: a,
            body: l === "POST" && t.data.params ? JSON.stringify(t.data.params) : void 0
          });
          if (!u.ok)
            throw new Error(`Failed to load options: ${u.statusText}`);
          const b = await u.json();
          let k = [];
          if (t.data.transform)
            k = t.data.transform(b);
          else {
            const z = Array.isArray(b) ? b : b.items || b.results || b.data || [], j = t.data.valueField || "value", K = t.data.labelField || "label";
            k = z.map((oe) => ({
              value: oe[j],
              label: oe[K] || String(oe[j])
            }));
          }
          C[t.name] = k;
        } catch (e) {
          console.error("Error loading dynamic options:", e), q("error", `Failed to load options for ${t.label}`);
        } finally {
          d[t.name] = !1;
        }
      }
    }, G = (t) => C[t.name] || t.options || [], ue = (t) => {
      (t.data?.lazyLoad === !0 || !G(t).length) && N(t);
    }, D = (t) => {
      const r = (g[t.name] || "").toLowerCase();
      return G(t).filter(
        (l) => l.label.toLowerCase().includes(r) || String(l.value).toLowerCase().includes(r)
      );
    }, X = (t, r) => {
      const e = C[t.name]?.find((a) => a.value === r);
      if (e) return e.label;
      const l = t.options?.find((a) => a.value === r);
      return l ? l.label : r;
    }, W = (t) => {
      f.value = t.name, t.data?.api && (t.data.lazyLoad || !t.options?.length && !C[t.name]) && N(t), Pe(() => {
        T.value[t.name]?.focus();
      });
    }, Y = (t) => {
      if (!t.data?.api || !t.data.searchable) return;
      V[t.name] && clearTimeout(V[t.name]);
      const r = t.data.debounce || 300;
      V[t.name] = setTimeout(() => {
        N(t, g[t.name]);
      }, r);
    }, ie = (t) => {
      const r = I.value.find((e) => e.name === t);
      r && W(r);
    }, Z = (t) => t.type === "search-select" && p[t.name] ? "" : f.value === t.name ? d[t.name] ? "Loading options..." : (t.type === "multi-select", "Type to search...") : t.data?.api && t.data.lazyLoad ? "Click to load options..." : t.placeholder || "Select an option", ce = (t, r) => {
      if (console.log("toggleOption called:", t.name, r, t.type), t.type === "multi-select") {
        Array.isArray(p[t.name]) || (p[t.name] = []);
        const e = p[t.name].indexOf(r);
        e > -1 ? p[t.name].splice(e, 1) : p[t.name].push(r), g[t.name] = "";
      } else t.type === "search-select" && (p[t.name] = r, setTimeout(() => {
        f.value = null, g[t.name] = "";
      }, 100));
    }, H = (t) => {
      const r = g[t.name]?.trim();
      if (r) {
        if (t.type === "multi-select") {
          if (Array.isArray(p[t.name]) || (p[t.name] = []), !p[t.name].includes(r)) {
            if (p[t.name].push(r), C[t.name])
              C[t.name].some((e) => e.value === r) || C[t.name].push({ value: r, label: r });
            else if (!t.options?.some((e) => e.value === r)) {
              const e = [...t.options || [], { value: r, label: r }];
              t.options = e;
            }
          }
        } else if (t.type === "search-select") {
          if (p[t.name] = r, C[t.name])
            C[t.name].some((e) => e.value === r) || C[t.name].push({ value: r, label: r });
          else if (!t.options?.some((e) => e.value === r)) {
            const e = [...t.options || [], { value: r, label: r }];
            t.options = e;
          }
        }
        setTimeout(() => {
          f.value = null, g[t.name] = "";
        }, 100);
      }
    }, de = (t, r) => {
      if (Array.isArray(p[t])) {
        const e = typeof r == "string" ? parseInt(r, 10) : r;
        !isNaN(e) && e >= 0 && e < p[t].length && p[t].splice(e, 1);
      }
    }, Q = (t, r) => {
      const e = p[t];
      return e == null ? !1 : Array.isArray(e) ? e.includes(r) : e === r;
    }, me = (t) => {
      p[t] = "", g[t] = "", f.value = t, setTimeout(() => {
        T.value[t] && T.value[t].focus();
      }, 10);
    }, ee = (t) => {
      !g[t] && Array.isArray(p[t]) && p[t].length > 0 && p[t].pop();
    }, ge = {
      mounted(t, r) {
        t.clickOutsideEvent = (e) => {
          t === e.target || t.contains(e.target) || r.value();
        }, document.addEventListener("mousedown", t.clickOutsideEvent);
      },
      unmounted(t) {
        document.removeEventListener("mousedown", t.clickOutsideEvent);
      }
    }, q = (t, r) => {
      const e = ++re;
      E.value.push({ id: e, type: t, message: r }), setTimeout(() => {
        ye(e);
      }, 5e3);
    }, ye = (t) => {
      const r = E.value.findIndex((e) => e.id === t);
      r > -1 && E.value.splice(r, 1);
    }, Ve = () => {
      I.value.forEach((t) => {
        p[t.name] = t.type === "checkbox" ? !1 : "";
      }), Object.keys(C).forEach((t) => delete C[t]), Object.keys(g).forEach((t) => delete g[t]), Object.keys(x).forEach((t) => {
        x[t] = { files: [], isDragging: !1, isUploading: !1 };
      }), q("info", "All fields cleared.");
    }, he = (t) => {
      const r = document.getElementById(t);
      r && r.click();
    }, xe = (t, r) => {
      const e = t.target;
      if (!e.files?.length) return;
      const l = Array.from(e.files);
      _e(l, r), e.value = "";
    }, ve = (t, r) => {
      t.preventDefault(), x[r.name] ? x[r.name].isDragging = !0 : x[r.name] = { files: [], isDragging: !0, isUploading: !1 };
    }, be = (t, r) => {
      t.preventDefault(), x[r.name] && (x[r.name].isDragging = !1);
    }, ke = (t, r) => {
      if (t.preventDefault(), x[r.name] && (x[r.name].isDragging = !1), !t.dataTransfer?.files.length) return;
      const e = Array.from(t.dataTransfer.files);
      _e(e, r);
    }, _e = async (t, r) => {
      x[r.name] || (x[r.name] = { files: [], isDragging: !1, isUploading: !1 });
      const e = [];
      t.forEach((l) => {
        if (r.validation?.allowedTypes && !r.validation.allowedTypes.includes(l.type)) {
          q("error", `File type ${l.type} is not allowed`);
          return;
        }
        if (r.validation?.maxSize && l.size > r.validation.maxSize) {
          q("error", `File ${l.name} is too large`);
          return;
        }
        const a = {
          id: Date.now() + Math.random().toString(36).substr(2, 9),
          file: l,
          uploaded: !1,
          uploadProgress: 0
        };
        x[r.name].files.push(a), e.push(a);
      }), e.length > 0 && await Oe(r.name, r);
    }, we = (t, r) => {
      x[t] && (x[t].files.splice(r, 1), fe(t));
    }, Oe = async (t, r) => {
      const e = x[t];
      if (!e || e.isUploading) return;
      e.isUploading = !0;
      const l = r.uploadConfig?.cloudName || F.value.cloudinary?.cloudName, a = r.uploadConfig?.uploadPreset || F.value.cloudinary?.uploadPreset, b = e.files.filter((k) => !k.uploaded).map(async (k) => {
        try {
          if (!l || !a) {
            q("error", "Cloudinary configuration missing");
            return;
          }
          const z = new FormData();
          z.append("file", k.file), z.append("upload_preset", a);
          const j = await fetch(`https://api.cloudinary.com/v1_1/${l}/auto/upload`, {
            method: "POST",
            body: z
          });
          if (!j.ok) throw new Error("Upload failed");
          const K = await j.json();
          k.uploaded = !0, k.cloudinaryUrl = K.secure_url, k.publicId = K.public_id, k.uploadProgress = 100, fe(t);
        } catch {
          k.error = "Upload failed", q("error", `Failed to upload ${k.file.name}`);
        }
      });
      await Promise.allSettled(b), e.isUploading = !1;
    }, fe = (t) => {
      const r = x[t];
      if (!r) {
        p[t] = null;
        return;
      }
      const e = r.files.filter((l) => l.uploaded);
      e.length === 0 ? p[t] = null : r.files.length === 1 ? p[t] = e[0].cloudinaryUrl : p[t] = e.map((l) => ({
        url: l.cloudinaryUrl,
        publicId: l.publicId,
        fileName: l.file.name,
        fileType: l.file.type
      }));
    }, Ce = (t) => {
      if (!t.cloudinaryUrl) return;
      L.value = t.cloudinaryUrl;
      const r = t.file.type;
      r.startsWith("image/") ? B.value = "image" : r === "application/pdf" ? B.value = "pdf" : B.value = "other";
    }, te = (t) => {
      if (t === 0) return "0 Bytes";
      const r = 1024, e = ["Bytes", "KB", "MB", "GB"], l = Math.floor(Math.log(t) / Math.log(r));
      return parseFloat((t / Math.pow(r, l)).toFixed(2)) + " " + e[l];
    }, Ae = async () => {
      if (Object.values(x).some((e) => e.isUploading)) {
        q("info", "Please wait for files to finish uploading...");
        return;
      }
      const r = I.value.filter((e) => e.type === "file" && e.required);
      for (const e of r)
        if (!p[e.name]) {
          q("error", `${e.label} is required.`);
          return;
        }
      v.value = !0;
      try {
        const e = JSON.parse(JSON.stringify(p));
        if (F.value.api?.submit) {
          if (!(await fetch(F.value.api.submit && "https://dummyjson.com/posts", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(e)
          })).ok) throw new Error("Server submission failed");
          q("success", "Form submitted successfully!");
        } else
          console.log("Final JSON Payload to Backend:", e), q("success", "Form logic complete! (Check console for JSON)");
      } catch (e) {
        q("error", e.message);
      } finally {
        v.value = !1;
      }
    }, Me = () => {
      console.log("Initializing form data"), le.value.forEach((t) => {
        t.type === "file" ? (x[t.name] = { files: [], isDragging: !1, isUploading: !1 }, p[t.name] = t.defaultValue || null) : t.type === "multi-select" ? p[t.name] = Array.isArray(t.defaultValue) ? [...t.defaultValue] : [] : t.type === "search-select" ? p[t.name] = t.defaultValue || "" : p[t.name] = t.defaultValue || (t.type === "checkbox" ? !1 : (t.type === "select", ""));
      });
    };
    return Be(() => {
      Me(), I.value.forEach((t) => {
        t.data?.api && t.data.lazyLoad !== !0 && N(t);
      });
    }), Te(() => {
      Object.values(V).forEach((t) => {
        t && clearTimeout(t);
      });
    }), Fe(() => F.value, () => {
      Object.keys(C).forEach((t) => delete C[t]), Object.keys(d).forEach((t) => delete d[t]), Object.keys(V).forEach((t) => {
        V[t] && clearTimeout(V[t]), delete V[t];
      }), Me(), I.value.forEach((t) => {
        t.data?.api && t.data.lazyLoad !== !0 && N(t);
      });
    }, { deep: !0 }), Fe(() => p, (t) => {
      console.log("Form data updated:", JSON.parse(JSON.stringify(t)));
    }, { deep: !0 }), (t, r) => (s(), n("div", {
      class: _({ dark: $.value.theme === "dark" })
    }, [
      o("div", He, [
        o("div", Ke, [
          o("div", Re, [
            o("div", Je, [
              o("h2", Ne, c($.value.title || "Form"), 1),
              $.value.subtitle ? (s(), n("p", We, c($.value.subtitle), 1)) : i("", !0)
            ])
          ]),
          o("div", Ge, [
            o("form", {
              onSubmit: m(Ae, ["prevent"]),
              class: "form-content space-y-6 bg-white dark:bg-gray-900"
            }, [
              ne.value ? (s(!0), n(h, { key: 0 }, M(ae.value, (e, l) => (s(), n("div", {
                key: l,
                class: _(["form-group", $.value.spacing === "compact" ? "mb-4" : $.value.spacing === "comfortable" ? "mb-8" : "mb-6"])
              }, [
                e.description ? (s(), n("p", Xe, c(e.description), 1)) : i("", !0),
                o("div", Ye, [
                  (s(!0), n(h, null, M(e.children, (a) => (s(), n("div", {
                    key: a.name,
                    class: _(pe(a))
                  }, [
                    ["text", "email", "password", "number", "tel", "date"].includes(a.type) ? (s(), n("div", Ze, [
                      w(o("input", {
                        type: a.type === "date" ? "date" : a.type,
                        id: a.name,
                        "onUpdate:modelValue": (u) => p[a.name] = u,
                        placeholder: a.placeholder,
                        required: a.required,
                        disabled: a.disabled || v.value,
                        min: a.validation?.min,
                        max: a.validation?.max,
                        minlength: a.validation?.minLength,
                        maxlength: a.validation?.maxLength,
                        pattern: a.validation?.pattern,
                        class: "peer block w-full rounded-md bg-white dark:bg-gray-800 px-3 pb-2 pt-6 text-base text-gray-900 dark:text-gray-100 border border-gray-300 dark:border-gray-700 placeholder:text-transparent focus:placeholder:text-gray-400 dark:focus:placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-600 dark:focus:ring-purple-500 focus:border-transparent sm:text-sm"
                      }, null, 8, Qe), [
                        [$e, p[a.name]]
                      ]),
                      o("label", {
                        for: a.name,
                        class: "absolute -top-2 left-3 bg-white dark:bg-gray-800 px-1 text-xs text-gray-600 dark:text-gray-400 transition-all duration-200 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 dark:peer-placeholder-shown:text-gray-500 peer-placeholder-shown:top-4 peer-placeholder-shown:bg-transparent peer-placeholder-shown:px-0 peer-placeholder-shown:left-3 peer-focus:-top-2 peer-focus:text-xs peer-focus:text-purple-600 dark:peer-focus:text-purple-400 peer-focus:bg-white dark:peer-focus:bg-gray-800 peer-focus:px-1 pointer-events-none"
                      }, [
                        y(c(a.label) + " ", 1),
                        a.required ? (s(), n("span", tt, "*")) : i("", !0)
                      ], 8, et)
                    ])) : a.type === "textarea" ? (s(), n("div", rt, [
                      w(o("textarea", {
                        id: a.name,
                        "onUpdate:modelValue": (u) => p[a.name] = u,
                        placeholder: a.placeholder,
                        required: a.required,
                        disabled: a.disabled || v.value,
                        rows: a.validation?.maxLength ? Math.min(10, Math.ceil(a.validation.maxLength / 50)) : 4,
                        class: "peer block w-full rounded-md bg-white dark:bg-gray-800 px-3 pb-2 pt-6 text-base text-gray-900 dark:text-gray-100 border border-gray-300 dark:border-gray-700 placeholder:text-transparent focus:placeholder:text-gray-400 dark:focus:placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-600 dark:focus:ring-purple-500 focus:border-transparent sm:text-sm resize-y"
                      }, null, 8, at), [
                        [J, p[a.name]]
                      ]),
                      o("label", {
                        for: a.name,
                        class: "absolute -top-2 left-3 bg-white dark:bg-gray-800 px-1 text-xs text-gray-600 dark:text-gray-400 transition-all duration-200 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 dark:peer-placeholder-shown:text-gray-500 peer-placeholder-shown:top-4 peer-placeholder-shown:bg-transparent peer-placeholder-shown:px-0 peer-placeholder-shown:left-3 peer-focus:-top-2 peer-focus:text-xs peer-focus:text-purple-600 dark:peer-focus:text-purple-400 peer-focus:bg-white dark:peer-focus:bg-gray-800 peer-focus:px-1 pointer-events-none"
                      }, [
                        y(c(a.label) + " ", 1),
                        a.required ? (s(), n("span", st, "*")) : i("", !0)
                      ], 8, ot)
                    ])) : a.type === "select" ? (s(), n("div", nt, [
                      w(o("select", {
                        id: a.name,
                        "onUpdate:modelValue": (u) => p[a.name] = u,
                        required: a.required,
                        disabled: a.disabled || v.value || d[a.name],
                        class: _([
                          "peer block w-full rounded-md bg-white dark:bg-gray-800 px-3 pb-2 pt-6 text-base dark:text-gray-100 border border-gray-300 dark:border-gray-700 focus:outline-none focus:ring-2 focus:ring-purple-600 dark:focus:ring-purple-500 focus:border-transparent sm:text-sm appearance-none bg-no-repeat bg-[right_0.5rem_center] bg-[length:1.5em_1.5em] pr-10",
                          p[a.name] ? "text-gray-900" : "text-transparent",
                          d[a.name] ? "opacity-50 cursor-wait" : ""
                        ]),
                        onFocus: (u) => ue(a)
                      }, [
                        o("option", pt, [
                          d[a.name] ? (s(), n(h, { key: 0 }, [
                            y(" Loading options... ")
                          ], 64)) : (s(), n(h, { key: 1 }, [
                            y(c(a.placeholder || "Select an option"), 1)
                          ], 64))
                        ]),
                        (s(!0), n(h, null, M(G(a), (u) => (s(), n("option", {
                          key: u.value,
                          value: u.value,
                          class: "text-gray-900 dark:text-gray-100"
                        }, c(u.label), 9, ut))), 128))
                      ], 42, lt), [
                        [Ue, p[a.name]]
                      ]),
                      d[a.name] ? (s(), n("div", it, [...r[7] || (r[7] = [
                        o("svg", {
                          class: "animate-spin h-4 w-4 text-purple-600",
                          xmlns: "http://www.w3.org/2000/svg",
                          fill: "none",
                          viewBox: "0 0 24 24"
                        }, [
                          o("circle", {
                            class: "opacity-25",
                            cx: "12",
                            cy: "12",
                            r: "10",
                            stroke: "currentColor",
                            "stroke-width": "4"
                          }),
                          o("path", {
                            class: "opacity-75",
                            fill: "currentColor",
                            d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
                          })
                        ], -1)
                      ])])) : i("", !0),
                      p[a.name] && !a.required && !d[a.name] ? (s(), n("button", {
                        key: 1,
                        type: "button",
                        onClick: m((u) => p[a.name] = "", ["stop"]),
                        class: "absolute right-8 top-1/2 transform -translate-y-1/2 p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full",
                        title: "Clear selection"
                      }, [...r[8] || (r[8] = [
                        o("svg", {
                          class: "w-3 h-3 text-gray-500",
                          fill: "none",
                          stroke: "currentColor",
                          viewBox: "0 0 24 24"
                        }, [
                          o("path", {
                            "stroke-linecap": "round",
                            "stroke-linejoin": "round",
                            "stroke-width": "2",
                            d: "M6 18L18 6M6 6l12 12"
                          })
                        ], -1)
                      ])], 8, ct)) : i("", !0),
                      o("label", {
                        for: a.name,
                        class: "absolute -top-2 left-3 bg-white dark:bg-gray-800 px-1 text-xs text-gray-600 dark:text-gray-400 transition-all duration-200 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 dark:peer-placeholder-shown:text-gray-500 peer-placeholder-shown:top-4 peer-placeholder-shown:bg-transparent peer-placeholder-shown:px-0 peer-placeholder-shown:left-3 peer-focus:-top-2 peer-focus:text-xs peer-focus:text-purple-600 dark:peer-focus:text-purple-400 peer-focus:bg-white dark:peer-focus:bg-gray-800 peer-focus:px-1 pointer-events-none"
                      }, [
                        y(c(a.label) + " ", 1),
                        a.required ? (s(), n("span", mt, "*")) : i("", !0)
                      ], 8, dt)
                    ])) : a.type === "multi-select" || a.type === "search-select" ? w((s(), n("div", gt, [
                      o("div", {
                        class: _([
                          "min-h-[56px] w-full rounded-md bg-white dark:bg-gray-800 px-3 pb-2 pt-6 border transition-all cursor-text",
                          f.value === a.name ? "ring-2 ring-purple-600 border-transparent" : "border-gray-300 dark:border-gray-700",
                          d[a.name] ? "opacity-50 cursor-wait" : ""
                        ]),
                        onClick: m((u) => ie(a.name), ["stop"])
                      }, [
                        d[a.name] ? (s(), n("div", ht, [...r[9] || (r[9] = [
                          o("svg", {
                            class: "animate-spin h-4 w-4 text-purple-600",
                            xmlns: "http://www.w3.org/2000/svg",
                            fill: "none",
                            viewBox: "0 0 24 24"
                          }, [
                            o("circle", {
                              class: "opacity-25",
                              cx: "12",
                              cy: "12",
                              r: "10",
                              stroke: "currentColor",
                              "stroke-width": "4"
                            }),
                            o("path", {
                              class: "opacity-75",
                              fill: "currentColor",
                              d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
                            })
                          ], -1)
                        ])])) : i("", !0),
                        o("label", {
                          class: _([
                            "absolute -top-2 left-3 pb-4 bg-white dark:bg-gray-800 px-1 text-xs transition-all duration-200 pointer-events-none",
                            p[a.name] && (Array.isArray(p[a.name]) ? p[a.name].length > 0 : p[a.name] !== "") || g[a.name] || f.value === a.name ? "text-purple-600 dark:text-purple-400" : "top-4 text-base text-gray-400 bg-transparent px-0 left-3"
                          ])
                        }, [
                          y(c(a.label) + " ", 1),
                          a.required ? (s(), n("span", xt, "*")) : i("", !0)
                        ], 2),
                        o("div", vt, [
                          a.type === "multi-select" && Array.isArray(p[a.name]) && p[a.name].length > 0 ? (s(!0), n(h, { key: 0 }, M(p[a.name], (u, b) => (s(), n("span", {
                            key: b,
                            class: "flex items-center gap-1 px-2 py-0.5 bg-purple-100 dark:bg-purple-900/40 text-purple-700 dark:text-purple-300 text-xs font-medium rounded"
                          }, [
                            y(c(X(a, u)) + " ", 1),
                            o("button", {
                              onClick: m((k) => de(a.name, b), ["stop"]),
                              class: "hover:text-purple-900"
                            }, "×", 8, bt)
                          ]))), 128)) : a.type === "search-select" && p[a.name] && !g[a.name] ? (s(), n("div", kt, [
                            o("span", _t, c(X(a, p[a.name])), 1),
                            o("button", {
                              type: "button",
                              onClick: m((u) => me(a.name), ["stop"]),
                              class: "ml-2 p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full transition-colors",
                              title: "Clear selection"
                            }, [...r[10] || (r[10] = [
                              o("svg", {
                                class: "w-3 h-3 text-gray-500",
                                fill: "none",
                                stroke: "currentColor",
                                viewBox: "0 0 24 24"
                              }, [
                                o("path", {
                                  "stroke-linecap": "round",
                                  "stroke-linejoin": "round",
                                  "stroke-width": "2",
                                  d: "M6 18L18 6M6 6l12 12"
                                })
                              ], -1)
                            ])], 8, wt)
                          ])) : i("", !0),
                          a.type === "search-select" && (!p[a.name] || g[a.name] || f.value === a.name) ? (s(), n(h, { key: 2 }, [
                            d[a.name] ? i("", !0) : w((s(), n("input", {
                              key: 0,
                              onClick: r[0] || (r[0] = m(() => {
                              }, ["stop"])),
                              ref_for: !0,
                              ref: (u) => T.value[a.name] = u,
                              "onUpdate:modelValue": (u) => g[a.name] = u,
                              onInput: (u) => Y(a),
                              type: "text",
                              class: "flex-1 bg-transparent border-none outline-none p-0 text-sm text-gray-900 dark:text-gray-100 min-w-[50px]",
                              onFocus: (u) => W(a),
                              onKeydown: [
                                A(m((u) => H(a), ["prevent"]), ["enter"]),
                                A((u) => ee(a.name), ["backspace"])
                              ],
                              placeholder: Z(a),
                              disabled: d[a.name]
                            }, null, 40, ft)), [
                              [J, g[a.name]]
                            ]),
                            d[a.name] ? (s(), n("div", Ct, " Loading options... ")) : i("", !0)
                          ], 64)) : a.type === "multi-select" ? (s(), n(h, { key: 3 }, [
                            d[a.name] ? i("", !0) : w((s(), n("input", {
                              key: 0,
                              onClick: r[1] || (r[1] = m(() => {
                              }, ["stop"])),
                              ref_for: !0,
                              ref: (u) => T.value[a.name] = u,
                              "onUpdate:modelValue": (u) => g[a.name] = u,
                              onInput: (u) => Y(a),
                              type: "text",
                              class: "flex-1 bg-transparent border-none outline-none p-0 text-sm text-gray-900 dark:text-gray-100 min-w-[50px]",
                              onFocus: (u) => W(a),
                              onKeydown: [
                                A(m((u) => H(a), ["prevent"]), ["enter"]),
                                A((u) => ee(a.name), ["backspace"])
                              ],
                              placeholder: Z(a),
                              disabled: d[a.name]
                            }, null, 40, Mt)), [
                              [J, g[a.name]]
                            ]),
                            d[a.name] ? (s(), n("div", Ft, " Loading options... ")) : i("", !0)
                          ], 64)) : i("", !0)
                        ])
                      ], 10, yt),
                      f.value === a.name ? (s(), n("div", $t, [
                        d[a.name] ? (s(), n("div", Ut, " Loading options... ")) : D(a).length === 0 && !g[a.name]?.trim() ? (s(), n("div", Lt, " No options available ")) : i("", !0),
                        (s(!0), n(h, null, M(D(a), (u) => (s(), n("div", {
                          key: u.value,
                          onMousedown: m((b) => ce(a, u.value), ["stop", "prevent"]),
                          class: _([
                            "px-4 py-2 text-sm cursor-pointer hover:bg-purple-50 dark:hover:bg-purple-900/20 flex justify-between items-center",
                            Q(a.name, u.value) ? "text-purple-600 dark:text-purple-400 font-bold bg-purple-50/50 dark:bg-purple-900/10" : "text-gray-700 dark:text-gray-300"
                          ])
                        }, [
                          o("span", null, c(u.label), 1),
                          Q(a.name, u.value) ? (s(), n("svg", zt, [...r[11] || (r[11] = [
                            o("path", {
                              "fill-rule": "evenodd",
                              d: "M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",
                              "clip-rule": "evenodd"
                            }, null, -1)
                          ])])) : i("", !0)
                        ], 42, qt))), 128)),
                        D(a).length === 0 && g[a.name]?.trim() && !d[a.name] ? (s(), n("div", {
                          key: 2,
                          onMousedown: m((u) => H(a), ["stop", "prevent"]),
                          class: "px-4 py-3 text-sm text-gray-500 italic cursor-pointer hover:bg-purple-50 dark:hover:bg-purple-900/20"
                        }, ' Press Enter to add "' + c(g[a.name]) + '" ', 41, jt)) : i("", !0)
                      ])) : i("", !0)
                    ])), [
                      [ge, () => f.value = null]
                    ]) : a.type === "checkbox" ? (s(), n("label", St, [
                      w(o("input", {
                        type: "checkbox",
                        id: a.name,
                        "onUpdate:modelValue": (u) => p[a.name] = u,
                        required: a.required,
                        disabled: a.disabled || v.value,
                        class: "h-4 w-4 rounded accent-purple-600 border-gray-300 dark:border-gray-700 dark:bg-purple-700 text-purple-600 dark:text-purple-500 focus:ring-purple-600 dark:focus:ring-purple-500"
                      }, null, 8, Vt), [
                        [Le, p[a.name]]
                      ]),
                      o("span", Ot, [
                        y(c(a.label) + " ", 1),
                        a.required ? (s(), n("span", At, "*")) : i("", !0)
                      ])
                    ])) : a.type === "radio" ? (s(), n("div", Bt, [
                      o("label", Tt, [
                        y(c(a.label) + " ", 1),
                        a.required ? (s(), n("span", Pt, "*")) : i("", !0)
                      ]),
                      o("div", Et, [
                        (s(!0), n(h, null, M(a.options, (u) => (s(), n("label", {
                          key: u.value,
                          class: "flex items-center cursor-pointer text-gray-900 dark:text-gray-100"
                        }, [
                          w(o("input", {
                            type: "radio",
                            name: a.name,
                            value: u.value,
                            "onUpdate:modelValue": (b) => p[a.name] = b,
                            required: a.required,
                            disabled: a.disabled || v.value,
                            class: "h-4 w-4 accent-purple-600 border-gray-300 dark:border-gray-700 text-purple-600 dark:text-purple-500 focus:ring-purple-600 dark:focus:ring-purple-500"
                          }, null, 8, It), [
                            [qe, p[a.name]]
                          ]),
                          o("span", Dt, c(u.label), 1)
                        ]))), 128))
                      ])
                    ])) : a.type === "file" ? (s(), n("div", Ht, [
                      o("label", {
                        for: a.name,
                        class: "block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2"
                      }, [
                        y(c(a.label) + " ", 1),
                        a.required ? (s(), n("span", Rt, "*")) : i("", !0)
                      ], 8, Kt),
                      o("input", {
                        type: "file",
                        id: a.name,
                        multiple: a.uploadConfig?.multiple || !1,
                        accept: a.validation?.allowedTypes?.join(",") || "*",
                        onChange: (u) => xe(u, a),
                        disabled: a.disabled || v.value,
                        class: "hidden",
                        ref_for: !0,
                        ref: "fileInput"
                      }, null, 40, Jt),
                      o("div", {
                        onClick: (u) => he(a.name),
                        class: _([
                          "mt-2 cursor-pointer rounded-lg border-2 border-dashed transition-all duration-200",
                          x[a.name]?.isDragging ? "border-purple-500 bg-purple-50 dark:bg-purple-900/20" : "border-gray-300 dark:border-gray-600 hover:border-purple-400 dark:hover:border-purple-500"
                        ]),
                        onDragover: m((u) => ve(u, a), ["prevent"]),
                        onDragleave: m((u) => be(u, a), ["prevent"]),
                        onDrop: m((u) => ke(u, a), ["prevent"])
                      }, [
                        o("div", Wt, [
                          r[12] || (r[12] = o("svg", {
                            class: "w-12 h-12 text-gray-400 dark:text-gray-500 mb-3",
                            fill: "none",
                            stroke: "currentColor",
                            viewBox: "0 0 24 24"
                          }, [
                            o("path", {
                              "stroke-linecap": "round",
                              "stroke-linejoin": "round",
                              "stroke-width": "1.5",
                              d: "M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"
                            })
                          ], -1)),
                          r[13] || (r[13] = o("div", { class: "text-sm text-gray-600 dark:text-gray-400" }, [
                            o("span", { class: "font-semibold text-purple-600 dark:text-purple-400" }, "Click to upload"),
                            y(" or drag and drop ")
                          ], -1)),
                          o("div", Gt, [
                            a.validation?.allowedTypes ? (s(), n(h, { key: 0 }, [
                              y(c(a.validation.allowedTypes.map((u) => u.split("/")[1]).join(", ")) + " files ", 1)
                            ], 64)) : (s(), n(h, { key: 1 }, [
                              y(" Any file type ")
                            ], 64)),
                            a.validation?.maxSize ? (s(), n(h, { key: 2 }, [
                              y(" (Max " + c(te(a.validation.maxSize)) + ") ", 1)
                            ], 64)) : i("", !0)
                          ])
                        ])
                      ], 42, Nt),
                      x[a.name]?.files?.length ? (s(), n("div", Xt, [
                        (s(!0), n(h, null, M(x[a.name].files, (u, b) => (s(), n("div", {
                          key: u.id,
                          class: "flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg"
                        }, [
                          o("div", Yt, [
                            o("div", Zt, [
                              u.file.type.startsWith("image/") ? (s(), n("svg", Qt, [...r[14] || (r[14] = [
                                o("path", {
                                  "fill-rule": "evenodd",
                                  d: "M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",
                                  "clip-rule": "evenodd"
                                }, null, -1)
                              ])])) : (s(), n("svg", er, [...r[15] || (r[15] = [
                                o("path", {
                                  "fill-rule": "evenodd",
                                  d: "M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z",
                                  "clip-rule": "evenodd"
                                }, null, -1)
                              ])]))
                            ]),
                            o("div", tr, [
                              o("p", rr, c(u.file.name), 1),
                              o("p", ar, [
                                y(c(te(u.file.size)) + " ", 1),
                                u.uploadProgress !== void 0 ? (s(), n("span", or, " • " + c(u.uploadProgress) + "% uploaded ", 1)) : u.uploaded ? (s(), n("span", nr, " • Uploaded ✓ ")) : (s(), n("span", sr, " • Ready to upload "))
                              ]),
                              u.uploadProgress !== void 0 ? (s(), n("div", lr, [
                                o("div", pr, [
                                  o("div", {
                                    class: "h-full bg-purple-600 dark:bg-purple-500 transition-all duration-300",
                                    style: ze({ width: u.uploadProgress + "%" })
                                  }, null, 4)
                                ])
                              ])) : i("", !0)
                            ])
                          ]),
                          o("div", ur, [
                            (s(), n("button", {
                              key: 0,
                              onClick: m((k) => we(a.name, b), ["stop"]),
                              type: "button",
                              class: "p-1 text-gray-400 hover:text-red-500 transition-colors"
                            }, [...r[16] || (r[16] = [
                              o("svg", {
                                class: "w-5 h-5",
                                fill: "none",
                                stroke: "currentColor",
                                viewBox: "0 0 24 24"
                              }, [
                                o("path", {
                                  "stroke-linecap": "round",
                                  "stroke-linejoin": "round",
                                  "stroke-width": "2",
                                  d: "M6 18L18 6M6 6l12 12"
                                })
                              ], -1)
                            ])], 8, ir)),
                            u.uploaded && u.cloudinaryUrl ? (s(), n("button", {
                              key: 1,
                              type: "button",
                              onClick: m((k) => Ce(u), ["stop"]),
                              class: "p-1 text-gray-400 hover:text-purple-600 dark:hover:text-purple-400 transition-colors",
                              title: "Preview file"
                            }, [...r[17] || (r[17] = [
                              o("svg", {
                                class: "w-5 h-5",
                                fill: "none",
                                stroke: "currentColor",
                                viewBox: "0 0 24 24"
                              }, [
                                o("path", {
                                  "stroke-linecap": "round",
                                  "stroke-linejoin": "round",
                                  "stroke-width": "2",
                                  d: "M15 12a3 3 0 11-6 0 3 3 0 016 0z"
                                }),
                                o("path", {
                                  "stroke-linecap": "round",
                                  "stroke-linejoin": "round",
                                  "stroke-width": "2",
                                  d: "M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"
                                })
                              ], -1)
                            ])], 8, cr)) : i("", !0)
                          ])
                        ]))), 128))
                      ])) : i("", !0)
                    ])) : i("", !0)
                  ], 2))), 128))
                ])
              ], 2))), 128)) : (s(), n("div", {
                key: 1,
                class: _([
                  "form-fields",
                  $.value.layout === "two-column" ? "grid grid-cols-2 md:grid-cols-2 gap-6" : $.value.layout === "grid" ? "grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6" : "space-y-6"
                ])
              }, [
                (s(!0), n(h, null, M(ae.value[0]?.children || [], (e) => (s(), n("div", {
                  key: e.name,
                  class: _([
                    "form-field",
                    $.value.spacing === "compact" ? "mb-4" : $.value.spacing === "comfortable" ? "mb-8" : "mb-6",
                    pe(e)
                  ])
                }, [
                  ["text", "email", "password", "number", "tel", "date"].includes(e.type) ? (s(), n("div", dr, [
                    w(o("input", {
                      type: e.type === "date" ? "date" : e.type,
                      id: e.name,
                      "onUpdate:modelValue": (l) => p[e.name] = l,
                      placeholder: e.placeholder,
                      required: e.required,
                      disabled: e.disabled || v.value,
                      min: e.validation?.min,
                      max: e.validation?.max,
                      minlength: e.validation?.minLength,
                      maxlength: e.validation?.maxLength,
                      pattern: e.validation?.pattern,
                      class: "peer block w-full rounded-md bg-white dark:bg-gray-800 px-3 pb-2 pt-6 text-base text-gray-900 dark:text-gray-100 border border-gray-300 dark:border-gray-700 placeholder:text-transparent focus:placeholder:text-gray-400 dark:focus:placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-600 dark:focus:ring-purple-500 focus:border-transparent sm:text-sm"
                    }, null, 8, mr), [
                      [$e, p[e.name]]
                    ]),
                    o("label", {
                      for: e.name,
                      class: "absolute -top-2 left-3 bg-white dark:bg-gray-800 px-1 text-xs text-gray-600 dark:text-gray-400 transition-all duration-200 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 dark:peer-placeholder-shown:text-gray-500 peer-placeholder-shown:top-4 peer-placeholder-shown:bg-transparent peer-placeholder-shown:px-0 peer-placeholder-shown:left-3 peer-focus:-top-2 peer-focus:text-xs peer-focus:text-purple-600 dark:peer-focus:text-purple-400 peer-focus:bg-white dark:peer-focus:bg-gray-800 peer-focus:px-1 pointer-events-none"
                    }, [
                      y(c(e.label) + " ", 1),
                      e.required ? (s(), n("span", yr, "*")) : i("", !0)
                    ], 8, gr)
                  ])) : e.type === "textarea" ? (s(), n("div", hr, [
                    w(o("textarea", {
                      id: e.name,
                      "onUpdate:modelValue": (l) => p[e.name] = l,
                      placeholder: e.placeholder,
                      required: e.required,
                      disabled: e.disabled || v.value,
                      rows: e.validation?.maxLength ? Math.min(10, Math.ceil(e.validation.maxLength / 50)) : 4,
                      class: "peer block w-full rounded-md bg-white dark:bg-gray-800 px-3 pb-2 pt-6 text-base text-gray-900 dark:text-gray-100 border border-gray-300 dark:border-gray-700 placeholder:text-transparent focus:placeholder:text-gray-400 dark:focus:placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-600 dark:focus:ring-purple-500 focus:border-transparent sm:text-sm resize-y"
                    }, null, 8, xr), [
                      [J, p[e.name]]
                    ]),
                    o("label", {
                      for: e.name,
                      class: "absolute -top-2 left-3 bg-white dark:bg-gray-800 px-1 text-xs text-gray-600 dark:text-gray-400 transition-all duration-200 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 dark:peer-placeholder-shown:text-gray-500 peer-placeholder-shown:top-4 peer-placeholder-shown:bg-transparent peer-placeholder-shown:px-0 peer-placeholder-shown:left-3 peer-focus:-top-2 peer-focus:text-xs peer-focus:text-purple-600 dark:peer-focus:text-purple-400 peer-focus:bg-white dark:peer-focus:bg-gray-800 peer-focus:px-1 pointer-events-none"
                    }, [
                      y(c(e.label) + " ", 1),
                      e.required ? (s(), n("span", br, "*")) : i("", !0)
                    ], 8, vr)
                  ])) : e.type === "select" ? (s(), n("div", kr, [
                    w(o("select", {
                      id: e.name,
                      "onUpdate:modelValue": (l) => p[e.name] = l,
                      required: e.required,
                      disabled: e.disabled || v.value || d[e.name],
                      class: _([
                        "peer block w-full rounded-md bg-white dark:bg-gray-800 px-3 pb-2 pt-6 text-base dark:text-gray-100 border border-gray-300 dark:border-gray-700 focus:outline-none focus:ring-2 focus:ring-purple-600 dark:focus:ring-purple-500 focus:border-transparent sm:text-sm appearance-none bg-no-repeat bg-[right_0.5rem_center] bg-[length:1.5em_1.5em] pr-10",
                        p[e.name] ? "text-gray-900" : "text-transparent",
                        d[e.name] ? "opacity-50 cursor-wait" : ""
                      ]),
                      onFocus: (l) => ue(e)
                    }, [
                      o("option", wr, [
                        d[e.name] ? (s(), n(h, { key: 0 }, [
                          y(" Loading options... ")
                        ], 64)) : (s(), n(h, { key: 1 }, [
                          y(c(e.placeholder || "Select an option"), 1)
                        ], 64))
                      ]),
                      (s(!0), n(h, null, M(G(e), (l) => (s(), n("option", {
                        key: l.value,
                        value: l.value,
                        class: "text-gray-900 dark:text-gray-100"
                      }, c(l.label), 9, fr))), 128))
                    ], 42, _r), [
                      [Ue, p[e.name]]
                    ]),
                    d[e.name] ? (s(), n("div", Cr, [...r[18] || (r[18] = [
                      o("svg", {
                        class: "animate-spin h-4 w-4 text-purple-600",
                        xmlns: "http://www.w3.org/2000/svg",
                        fill: "none",
                        viewBox: "0 0 24 24"
                      }, [
                        o("circle", {
                          class: "opacity-25",
                          cx: "12",
                          cy: "12",
                          r: "10",
                          stroke: "currentColor",
                          "stroke-width": "4"
                        }),
                        o("path", {
                          class: "opacity-75",
                          fill: "currentColor",
                          d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
                        })
                      ], -1)
                    ])])) : i("", !0),
                    p[e.name] && !e.required && !d[e.name] ? (s(), n("button", {
                      key: 1,
                      type: "button",
                      onClick: m((l) => p[e.name] = "", ["stop"]),
                      class: "absolute right-8 top-1/2 transform -translate-y-1/2 p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full",
                      title: "Clear selection"
                    }, [...r[19] || (r[19] = [
                      o("svg", {
                        class: "w-3 h-3 text-gray-500",
                        fill: "none",
                        stroke: "currentColor",
                        viewBox: "0 0 24 24"
                      }, [
                        o("path", {
                          "stroke-linecap": "round",
                          "stroke-linejoin": "round",
                          "stroke-width": "2",
                          d: "M6 18L18 6M6 6l12 12"
                        })
                      ], -1)
                    ])], 8, Mr)) : i("", !0),
                    o("label", {
                      for: e.name,
                      class: "absolute -top-2 left-3 bg-white dark:bg-gray-800 px-1 text-xs text-gray-600 dark:text-gray-400 transition-all duration-200 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 dark:peer-placeholder-shown:text-gray-500 peer-placeholder-shown:top-4 peer-placeholder-shown:bg-transparent peer-placeholder-shown:px-0 peer-placeholder-shown:left-3 peer-focus:-top-2 peer-focus:text-xs peer-focus:text-purple-600 dark:peer-focus:text-purple-400 peer-focus:bg-white dark:peer-focus:bg-gray-800 peer-focus:px-1 pointer-events-none"
                    }, [
                      y(c(e.label) + " ", 1),
                      e.required ? (s(), n("span", $r, "*")) : i("", !0)
                    ], 8, Fr)
                  ])) : e.type === "multi-select" || e.type === "search-select" ? w((s(), n("div", Ur, [
                    o("div", {
                      class: _([
                        "min-h-[56px] w-full rounded-md bg-white dark:bg-gray-800 px-3 pb-2 pt-6 border transition-all cursor-text",
                        f.value === e.name ? "ring-2 ring-purple-600 border-transparent" : "border-gray-300 dark:border-gray-700",
                        d[e.name] ? "opacity-50 cursor-wait" : ""
                      ]),
                      onClick: m((l) => ie(e.name), ["stop"])
                    }, [
                      d[e.name] ? (s(), n("div", qr, [...r[20] || (r[20] = [
                        o("svg", {
                          class: "animate-spin h-4 w-4 text-purple-600",
                          xmlns: "http://www.w3.org/2000/svg",
                          fill: "none",
                          viewBox: "0 0 24 24"
                        }, [
                          o("circle", {
                            class: "opacity-25",
                            cx: "12",
                            cy: "12",
                            r: "10",
                            stroke: "currentColor",
                            "stroke-width": "4"
                          }),
                          o("path", {
                            class: "opacity-75",
                            fill: "currentColor",
                            d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
                          })
                        ], -1)
                      ])])) : i("", !0),
                      o("label", {
                        class: _([
                          "absolute -top-2 left-3 bg-white dark:bg-gray-800 px-1 text-xs transition-all duration-200 pointer-events-none",
                          p[e.name] && (Array.isArray(p[e.name]) ? p[e.name].length > 0 : p[e.name] !== "") || g[e.name] || f.value === e.name ? "text-purple-600 dark:text-purple-400" : "top-4 text-base text-gray-400 bg-transparent px-0 left-3"
                        ])
                      }, [
                        y(c(e.label) + " ", 1),
                        e.required ? (s(), n("span", zr, "*")) : i("", !0)
                      ], 2),
                      o("div", jr, [
                        e.type === "multi-select" && Array.isArray(p[e.name]) && p[e.name].length > 0 ? (s(!0), n(h, { key: 0 }, M(p[e.name], (l, a) => (s(), n("span", {
                          key: a,
                          class: "flex items-center gap-1 px-2 py-0.5 bg-purple-100 dark:bg-purple-900/40 text-purple-700 dark:text-purple-300 text-xs font-medium rounded"
                        }, [
                          y(c(X(e, l)) + " ", 1),
                          o("button", {
                            onClick: m((u) => de(e.name, a), ["stop"]),
                            class: "hover:text-purple-900"
                          }, "×", 8, Sr)
                        ]))), 128)) : e.type === "search-select" && p[e.name] && !g[e.name] ? (s(), n("div", Vr, [
                          o("span", Or, c(X(e, p[e.name])), 1),
                          o("button", {
                            type: "button",
                            onClick: m((l) => me(e.name), ["stop"]),
                            class: "ml-2 p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full transition-colors",
                            title: "Clear selection"
                          }, [...r[21] || (r[21] = [
                            o("svg", {
                              class: "w-3 h-3 text-gray-500",
                              fill: "none",
                              stroke: "currentColor",
                              viewBox: "0 0 24 24"
                            }, [
                              o("path", {
                                "stroke-linecap": "round",
                                "stroke-linejoin": "round",
                                "stroke-width": "2",
                                d: "M6 18L18 6M6 6l12 12"
                              })
                            ], -1)
                          ])], 8, Ar)
                        ])) : i("", !0),
                        e.type === "search-select" && (!p[e.name] || g[e.name] || f.value === e.name) ? (s(), n(h, { key: 2 }, [
                          d[e.name] ? i("", !0) : w((s(), n("input", {
                            key: 0,
                            onClick: r[2] || (r[2] = m(() => {
                            }, ["stop"])),
                            ref_for: !0,
                            ref: (l) => T.value[e.name] = l,
                            "onUpdate:modelValue": (l) => g[e.name] = l,
                            onInput: (l) => Y(e),
                            type: "text",
                            class: "flex-1 bg-transparent border-none outline-none p-0 text-sm text-gray-900 dark:text-gray-100 min-w-[50px]",
                            onFocus: (l) => W(e),
                            onKeydown: [
                              A(m((l) => H(e), ["prevent"]), ["enter"]),
                              A((l) => ee(e.name), ["backspace"])
                            ],
                            placeholder: Z(e),
                            disabled: d[e.name]
                          }, null, 40, Br)), [
                            [J, g[e.name]]
                          ]),
                          d[e.name] ? (s(), n("div", Tr, " Loading options... ")) : i("", !0)
                        ], 64)) : e.type === "multi-select" ? (s(), n(h, { key: 3 }, [
                          d[e.name] ? i("", !0) : w((s(), n("input", {
                            key: 0,
                            onClick: r[3] || (r[3] = m(() => {
                            }, ["stop"])),
                            ref_for: !0,
                            ref: (l) => T.value[e.name] = l,
                            "onUpdate:modelValue": (l) => g[e.name] = l,
                            onInput: (l) => Y(e),
                            type: "text",
                            class: "flex-1 bg-transparent border-none outline-none p-0 text-sm text-gray-900 dark:text-gray-100 min-w-[50px]",
                            onFocus: (l) => W(e),
                            onKeydown: [
                              A(m((l) => H(e), ["prevent"]), ["enter"]),
                              A((l) => ee(e.name), ["backspace"])
                            ],
                            placeholder: Z(e),
                            disabled: d[e.name]
                          }, null, 40, Pr)), [
                            [J, g[e.name]]
                          ]),
                          d[e.name] ? (s(), n("div", Er, " Loading options... ")) : i("", !0)
                        ], 64)) : i("", !0)
                      ])
                    ], 10, Lr),
                    f.value === e.name ? (s(), n("div", Ir, [
                      d[e.name] ? (s(), n("div", Dr, " Loading options... ")) : D(e).length === 0 && !g[e.name]?.trim() ? (s(), n("div", Hr, " No options available ")) : i("", !0),
                      (s(!0), n(h, null, M(D(e), (l) => (s(), n("div", {
                        key: l.value,
                        onMousedown: m((a) => ce(e, l.value), ["stop", "prevent"]),
                        class: _([
                          "px-4 py-2 text-sm cursor-pointer hover:bg-purple-50 dark:hover:bg-purple-900/20 flex justify-between items-center",
                          Q(e.name, l.value) ? "text-purple-600 dark:text-purple-400 font-bold bg-purple-50/50 dark:bg-purple-900/10" : "text-gray-700 dark:text-gray-300"
                        ])
                      }, [
                        o("span", null, c(l.label), 1),
                        Q(e.name, l.value) ? (s(), n("svg", Rr, [...r[22] || (r[22] = [
                          o("path", {
                            "fill-rule": "evenodd",
                            d: "M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",
                            "clip-rule": "evenodd"
                          }, null, -1)
                        ])])) : i("", !0)
                      ], 42, Kr))), 128)),
                      D(e).length === 0 && g[e.name]?.trim() && !d[e.name] ? (s(), n("div", {
                        key: 2,
                        onMousedown: m((l) => H(e), ["stop", "prevent"]),
                        class: "px-4 py-3 text-sm text-gray-500 italic cursor-pointer hover:bg-purple-50 dark:hover:bg-purple-900/20"
                      }, ' Press Enter to add "' + c(g[e.name]) + '" ', 41, Jr)) : i("", !0)
                    ])) : i("", !0)
                  ])), [
                    [ge, () => f.value = null]
                  ]) : e.type === "checkbox" ? (s(), n("label", Nr, [
                    w(o("input", {
                      type: "checkbox",
                      id: e.name,
                      "onUpdate:modelValue": (l) => p[e.name] = l,
                      required: e.required,
                      disabled: e.disabled || v.value,
                      class: "h-4 w-4 rounded accent-purple-600 border-gray-300 dark:border-gray-700 dark:bg-purple-700 text-purple-600 dark:text-purple-500 focus:ring-purple-600 dark:focus:ring-purple-500"
                    }, null, 8, Wr), [
                      [Le, p[e.name]]
                    ]),
                    o("span", Gr, [
                      y(c(e.label) + " ", 1),
                      e.required ? (s(), n("span", Xr, "*")) : i("", !0)
                    ])
                  ])) : e.type === "radio" ? (s(), n("div", Yr, [
                    o("label", Zr, [
                      y(c(e.label) + " ", 1),
                      e.required ? (s(), n("span", Qr, "*")) : i("", !0)
                    ]),
                    o("div", ea, [
                      (s(!0), n(h, null, M(e.options, (l) => (s(), n("label", {
                        key: l.value,
                        class: "flex items-center cursor-pointer text-gray-900 dark:text-gray-100"
                      }, [
                        w(o("input", {
                          type: "radio",
                          name: e.name,
                          value: l.value,
                          "onUpdate:modelValue": (a) => p[e.name] = a,
                          required: e.required,
                          disabled: e.disabled || v.value,
                          class: "h-4 w-4 accent-purple-600 border-gray-300 dark:border-gray-700 text-purple-600 dark:text-purple-500 focus:ring-purple-600 dark:focus:ring-purple-500"
                        }, null, 8, ta), [
                          [qe, p[e.name]]
                        ]),
                        o("span", ra, c(l.label), 1)
                      ]))), 128))
                    ])
                  ])) : e.type === "file" ? (s(), n("div", aa, [
                    o("label", {
                      for: e.name,
                      class: "block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2"
                    }, [
                      y(c(e.label) + " ", 1),
                      e.required ? (s(), n("span", sa, "*")) : i("", !0)
                    ], 8, oa),
                    o("input", {
                      type: "file",
                      id: e.name,
                      multiple: e.uploadConfig?.multiple || !1,
                      accept: e.validation?.allowedTypes?.join(",") || "*",
                      onChange: (l) => xe(l, e),
                      disabled: e.disabled || v.value,
                      class: "hidden",
                      ref_for: !0,
                      ref: "fileInput"
                    }, null, 40, na),
                    o("div", {
                      onClick: (l) => he(e.name),
                      class: _([
                        "mt-2 cursor-pointer rounded-lg border-2 border-dashed transition-all duration-200",
                        x[e.name]?.isDragging ? "border-purple-500 bg-purple-50 dark:bg-purple-900/20" : "border-gray-300 dark:border-gray-600 hover:border-purple-400 dark:hover:border-purple-500"
                      ]),
                      onDragover: m((l) => ve(l, e), ["prevent"]),
                      onDragleave: m((l) => be(l, e), ["prevent"]),
                      onDrop: m((l) => ke(l, e), ["prevent"])
                    }, [
                      o("div", pa, [
                        r[23] || (r[23] = o("svg", {
                          class: "w-12 h-12 text-gray-400 dark:text-gray-500 mb-3",
                          fill: "none",
                          stroke: "currentColor",
                          viewBox: "0 0 24 24"
                        }, [
                          o("path", {
                            "stroke-linecap": "round",
                            "stroke-linejoin": "round",
                            "stroke-width": "1.5",
                            d: "M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"
                          })
                        ], -1)),
                        r[24] || (r[24] = o("div", { class: "text-sm text-gray-600 dark:text-gray-400" }, [
                          o("span", { class: "font-semibold text-purple-600 dark:text-purple-400" }, "Click to upload"),
                          y(" or drag and drop ")
                        ], -1)),
                        o("div", ua, [
                          e.validation?.allowedTypes ? (s(), n(h, { key: 0 }, [
                            y(c(e.validation.allowedTypes.map((l) => l.split("/")[1]).join(", ")) + " files ", 1)
                          ], 64)) : (s(), n(h, { key: 1 }, [
                            y(" Any file type ")
                          ], 64)),
                          e.validation?.maxSize ? (s(), n(h, { key: 2 }, [
                            y(" (Max " + c(te(e.validation.maxSize)) + ") ", 1)
                          ], 64)) : i("", !0)
                        ])
                      ])
                    ], 42, la),
                    x[e.name]?.files?.length ? (s(), n("div", ia, [
                      (s(!0), n(h, null, M(x[e.name].files, (l, a) => (s(), n("div", {
                        key: l.id,
                        class: "flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg"
                      }, [
                        o("div", ca, [
                          o("div", da, [
                            l.file.type.startsWith("image/") ? (s(), n("svg", ma, [...r[25] || (r[25] = [
                              o("path", {
                                "fill-rule": "evenodd",
                                d: "M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",
                                "clip-rule": "evenodd"
                              }, null, -1)
                            ])])) : (s(), n("svg", ga, [...r[26] || (r[26] = [
                              o("path", {
                                "fill-rule": "evenodd",
                                d: "M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z",
                                "clip-rule": "evenodd"
                              }, null, -1)
                            ])]))
                          ]),
                          o("div", ya, [
                            o("p", ha, c(l.file.name), 1),
                            o("p", xa, [
                              y(c(te(l.file.size)) + " ", 1),
                              l.uploadProgress !== void 0 ? (s(), n("span", va, " • " + c(l.uploadProgress) + "% uploaded ", 1)) : l.uploaded ? (s(), n("span", ka, " • Uploaded ✓ ")) : (s(), n("span", ba, " • Ready to upload "))
                            ]),
                            l.uploadProgress !== void 0 ? (s(), n("div", _a, [
                              o("div", wa, [
                                o("div", {
                                  class: "h-full bg-purple-600 dark:bg-purple-500 transition-all duration-300",
                                  style: ze({ width: l.uploadProgress + "%" })
                                }, null, 4)
                              ])
                            ])) : i("", !0)
                          ])
                        ]),
                        o("div", fa, [
                          (s(), n("button", {
                            key: 0,
                            onClick: m((u) => we(e.name, a), ["stop"]),
                            type: "button",
                            class: "p-1 text-gray-400 hover:text-red-500 transition-colors"
                          }, [...r[27] || (r[27] = [
                            o("svg", {
                              class: "w-5 h-5",
                              fill: "none",
                              stroke: "currentColor",
                              viewBox: "0 0 24 24"
                            }, [
                              o("path", {
                                "stroke-linecap": "round",
                                "stroke-linejoin": "round",
                                "stroke-width": "2",
                                d: "M6 18L18 6M6 6l12 12"
                              })
                            ], -1)
                          ])], 8, Ca)),
                          l.uploaded && l.cloudinaryUrl ? (s(), n("button", {
                            key: 1,
                            type: "button",
                            onClick: m((u) => Ce(l), ["stop"]),
                            class: "p-1 text-gray-400 hover:text-purple-600 dark:hover:text-purple-400 transition-colors",
                            title: "Preview file"
                          }, [...r[28] || (r[28] = [
                            o("svg", {
                              class: "w-5 h-5",
                              fill: "none",
                              stroke: "currentColor",
                              viewBox: "0 0 24 24"
                            }, [
                              o("path", {
                                "stroke-linecap": "round",
                                "stroke-linejoin": "round",
                                "stroke-width": "2",
                                d: "M15 12a3 3 0 11-6 0 3 3 0 016 0z"
                              }),
                              o("path", {
                                "stroke-linecap": "round",
                                "stroke-linejoin": "round",
                                "stroke-width": "2",
                                d: "M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"
                              })
                            ], -1)
                          ])], 8, Ma)) : i("", !0)
                        ])
                      ]))), 128))
                    ])) : i("", !0)
                  ])) : i("", !0)
                ], 2))), 128))
              ], 2)),
              o("div", Fa, [
                o("button", {
                  type: "submit",
                  disabled: v.value || Se.value,
                  class: "flex-1 flex justify-center rounded-md bg-purple-600 dark:bg-purple-700 px-3 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-purple-700 dark:hover:bg-purple-600 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-purple-600 dark:focus-visible:outline-purple-500 disabled:opacity-50 transition-all duration-200"
                }, [
                  v.value ? (s(), n("span", Ua, c($.value.submitButton?.loadingText || "Processing..."), 1)) : (s(), n("span", La, c($.value.submitButton?.text || "Submit"), 1))
                ], 8, $a),
                F.value.actions?.secondary ? (s(), n("button", {
                  key: 0,
                  type: "button",
                  onClick: Ve,
                  disabled: v.value,
                  class: "flex-1 rounded-md border border-purple-600 dark:border-purple-400 bg-transparent px-3 py-2.5 text-sm font-semibold text-purple-600 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/30 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-purple-600 dark:focus-visible:outline-purple-500 disabled:opacity-50 transition-colors"
                }, c(F.value.actions.secondary || "Reset"), 9, qa)) : i("", !0),
                F.value.actions?.cancel ? (s(), n("button", {
                  key: 1,
                  type: "button",
                  onClick: r[4] || (r[4] = () => {
                  }),
                  class: "flex-1 rounded-md border border-gray-300 dark:border-gray-600 bg-transparent px-3 py-2.5 text-sm font-semibold text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-gray-300 dark:focus-visible:outline-gray-600 transition-colors"
                }, c(F.value.actions.cancel), 1)) : i("", !0)
              ])
            ], 32)
          ])
        ])
      ]),
      L.value ? (s(), n("div", za, [
        o("div", ja, [
          o("div", {
            class: "fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",
            onClick: r[5] || (r[5] = (e) => L.value = null)
          }),
          r[33] || (r[33] = o("span", { class: "hidden sm:inline-block sm:align-middle sm:h-screen" }, "​", -1)),
          o("div", Sa, [
            o("div", Va, [
              o("button", {
                type: "button",
                class: "bg-white dark:bg-gray-800 rounded-md text-gray-400 hover:text-gray-500",
                onClick: r[6] || (r[6] = (e) => L.value = null)
              }, [...r[29] || (r[29] = [
                o("span", { class: "sr-only" }, "Close", -1),
                o("svg", {
                  class: "h-6 w-6",
                  fill: "none",
                  viewBox: "0 0 24 24",
                  stroke: "currentColor"
                }, [
                  o("path", {
                    "stroke-linecap": "round",
                    "stroke-linejoin": "round",
                    "stroke-width": "2",
                    d: "M6 18L18 6M6 6l12 12"
                  })
                ], -1)
              ])])
            ]),
            o("div", Oa, [
              o("div", Aa, [
                r[32] || (r[32] = o("h3", { class: "text-lg leading-6 font-medium text-gray-900 dark:text-gray-100 mb-4" }, " File Preview ", -1)),
                o("div", Ba, [
                  B.value === "image" ? (s(), n("img", {
                    key: 0,
                    src: L.value,
                    class: "max-w-full h-auto mx-auto"
                  }, null, 8, Ta)) : B.value === "pdf" ? (s(), n("iframe", {
                    key: 1,
                    src: L.value,
                    class: "w-full h-96 border-0"
                  }, null, 8, Pa)) : (s(), n("div", Ea, [
                    r[30] || (r[30] = o("svg", {
                      class: "mx-auto h-12 w-12 text-gray-400",
                      fill: "none",
                      stroke: "currentColor",
                      viewBox: "0 0 24 24"
                    }, [
                      o("path", {
                        "stroke-linecap": "round",
                        "stroke-linejoin": "round",
                        "stroke-width": "2",
                        d: "M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
                      })
                    ], -1)),
                    r[31] || (r[31] = o("p", { class: "mt-2 text-sm text-gray-500 dark:text-gray-400" }, " Preview not available for this file type. ", -1)),
                    o("a", {
                      href: L.value,
                      target: "_blank",
                      class: "mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-purple-600 hover:bg-purple-700"
                    }, " Download File ", 8, Ia)
                  ]))
                ])
              ])
            ])
          ])
        ])
      ])) : i("", !0),
      o("div", Da, [
        (s(!0), n(h, null, M(E.value, (e) => (s(), n("div", {
          key: e.id,
          class: _([
            "rounded-lg shadow-lg px-4 py-3 max-w-xs transform transition-all duration-300",
            e.type === "success" ? "bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200" : e.type === "error" ? "bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200" : "bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200"
          ])
        }, [
          o("div", Ha, [
            o("span", Ka, c(e.message), 1),
            o("button", {
              onClick: (l) => ye(e.id),
              class: "ml-4 text-gray-500 hover:text-gray-700"
            }, [...r[34] || (r[34] = [
              o("svg", {
                class: "w-4 h-4",
                fill: "none",
                stroke: "currentColor",
                viewBox: "0 0 24 24"
              }, [
                o("path", {
                  "stroke-linecap": "round",
                  "stroke-linejoin": "round",
                  "stroke-width": "2",
                  d: "M6 18L18 6M6 6l12 12"
                })
              ], -1)
            ])], 8, Ra)
          ])
        ], 2))), 128))
      ])
    ], 2));
  }
}), Na = /* @__PURE__ */ De(Ja, [["__scopeId", "data-v-31ad2825"]]), Wa = /* @__PURE__ */ je({
  __name: "index",
  props: {
    _p: {},
    _$p: {},
    _$cb: {}
  },
  setup(U) {
    return (S, v) => (s(), Ee(Na, {
      _p: U._p,
      _$p: U._$p,
      _$cb: U._$cb
    }, null, 8, ["_p", "_$p", "_$cb"]));
  }
}), Xa = async (U) => ({
  set: async (S, v) => {
    console.log(`--hydrator [${S.data.curr.type}]`);
    const L = Ie(Wa, {
      _p: U,
      _$p: S,
      _$cb: v
    }), B = {
      r: "",
      style: "",
      //set..
      evt: {
        change: () => {
          v?.change({ _$p: S });
        }
      }
    }, E = document.getElementById(U.f.name("vue-root"));
    return L.mount(E), B;
  }
});
export {
  Xa as hydrator,
  Xa as index
};
