"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const O=require("./runtime-dom.esm-bundler-DRih1udo.cjs");var du=typeof window<"u",Pi=["__key","__init","__shim","__original","__index","__prevKey"];function fr(){return Math.random().toString(36).substring(2,15)}function fu(e,t){return[...e instanceof Set?e:new Set(e)]}function X(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function K(e,t,r=!0,n=["__key"]){if(e===t)return!0;if(typeof t=="object"&&typeof e=="object"){if(e instanceof Map||e instanceof Set)return!1;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(e instanceof RegExp&&t instanceof RegExp)return mu(e,t);if(e===null||t===null||Object.keys(e).length!==Object.keys(t).length)return!1;for(const o of n)if((o in e||o in t)&&e[o]!==t[o])return!1;for(const o in e)if(!(o in t)||e[o]!==t[o]&&!r||r&&!K(e[o],t[o],r,n))return!1;return!0}return!1}function mu(e,t){return e.source===t.source&&e.flags.split("").sort().join("")===t.flags.split("").sort().join("")}function Be(e){const t=typeof e;if(t==="number")return!1;if(e===void 0)return!0;if(t==="string")return e==="";if(t==="object"){if(e===null)return!0;for(const r in e)return!1;return!(e instanceof RegExp||e instanceof Date)}return!1}function hu(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function gu(e){const t=`^${hu(e)}$`,r={MM:"(0[1-9]|1[012])",M:"([1-9]|1[012])",DD:"([012][0-9]|3[01])",D:"([012]?[0-9]|3[01])",YYYY:"\\d{4}",YY:"\\d{2}"},n=Object.keys(r);return new RegExp(n.reduce((o,s)=>o.replace(s,r[s]),t))}function Tt(e){return Object.prototype.toString.call(e)==="[object Object]"}function Xt(e){return Tt(e)||Array.isArray(e)}function $t(e){if(Tt(e)===!1||e.__FKNode__||e.__POJO__===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(Tt(r)===!1||r.hasOwnProperty("isPrototypeOf")===!1)}var yt=(e,t,r=!1,n=!1)=>{if(t===null)return null;const o={};if(typeof t=="string")return t;for(const s in e)if(X(t,s)&&(t[s]!==void 0||!n)){if(r&&Array.isArray(e[s])&&Array.isArray(t[s])){o[s]=e[s].concat(t[s]);continue}if(t[s]===void 0)continue;$t(e[s])&&$t(t[s])?o[s]=yt(e[s],t[s],r,n):o[s]=t[s]}else o[s]=e[s];for(const s in t)!X(o,s)&&t[s]!==void 0&&(o[s]=t[s]);return o};function vu(e){if(e[0]!=='"'&&e[0]!=="'"||e[0]!==e[e.length-1])return!1;const t=e[0];for(let r=1;r<e.length;r++)if(e[r]===t&&(r===1||e[r-1]!=="\\")&&r!==e.length-1)return!1;return!0}function $u(e){if(!e.length)return"";let t="",r="";for(let n=0;n<e.length;n++){const o=e.charAt(n);(o!=="\\"||r==="\\")&&(t+=o),r=o}return t}function Bt(...e){return e.reduce((t,r)=>{const{value:n,name:o,modelValue:s,config:a,plugins:i,...l}=r;return Object.assign(t,l)},{})}function yu(e){const t=[];let r="",n=0,o="",s="";for(let a=0;a<e.length;a++){const i=e.charAt(a);i===o&&s!=="\\"?o="":(i==="'"||i==='"')&&!o&&s!=="\\"?o=i:i==="("&&!o?n++:i===")"&&!o&&n--,i===","&&!o&&n===0?(t.push(r),r=""):(i!==" "||o)&&(r+=i),s=i}return r&&t.push(r),t}function js(e,t){const r={},n=t.filter(s=>s instanceof RegExp),o=new Set(t);for(const s in e)!o.has(s)&&!n.some(a=>a.test(s))&&(r[s]=e[s]);return r}function Ys(e,t){const r={},n=t.filter(o=>o instanceof RegExp);return t.forEach(o=>{o instanceof RegExp||(r[o]=e[o])}),Object.keys(e).forEach(o=>{n.some(s=>s.test(o))&&(r[o]=e[o])}),r}function Jt(e){return e.replace(/-([a-z0-9])/gi,(t,r)=>r.toUpperCase())}function Vi(e){return e.replace(/([a-z0-9])([A-Z])/g,(t,r,n)=>r+"-"+n.toLowerCase()).replace(" ","-").toLowerCase()}function Bo(e,t=Pi){if(e!==null&&typeof e=="object"){let r;if(Array.isArray(e)?r=[...e]:$t(e)&&(r={...e}),r)return xu(e,r,t),r}return e}function bt(e,t=Pi){if(e===null||e instanceof RegExp||e instanceof Date||e instanceof Map||e instanceof Set||typeof File=="function"&&e instanceof File)return e;let r;Array.isArray(e)?r=e.map(n=>typeof n=="object"?bt(n,t):n):r=Object.keys(e).reduce((n,o)=>(n[o]=typeof e[o]=="object"?bt(e[o],t):e[o],n),{});for(const n of t)n in e&&Object.defineProperty(r,n,{enumerable:!1,value:e[n]});return r}function We(e){return typeof e=="object"?bt(e):e}function bu(e,t){if(!e||typeof e!="object")return null;const r=t.split(".");let n=e;for(const o in r){const s=r[o];if(X(n,s)&&(n=n[s]),+o===r.length-1)return n;if(!n||typeof n!="object")return null}return null}function W(e){return e!==void 0&&e!=="false"&&e!==!1?!0:void 0}function nr(e){return Object.isFrozen(e)?e:Object.defineProperty(e,"__init",{enumerable:!1,value:!0})}function fs(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]/g," ").trim().replace(/\s+/g,"-")}function xu(e,t,r){for(const n of r)n in e&&Object.defineProperty(t,n,{enumerable:!1,value:e[n]});return t}function me(e,t,r){if(!du)return;r||(r=document);const n=r.getElementById(e);if(n)return t(n);const o=new MutationObserver(()=>{const s=r?.getElementById(e);s&&(o?.disconnect(),t(s))});o.observe(r,{childList:!0,subtree:!0})}function wu(e){let t=!1;return((...r)=>{if(!t)return t=!0,queueMicrotask(()=>t=!1),e(...r)})}function _u(e){if(!(e==="false"||e===!1))return!0}function ms(){const e=[];let t=0;const r=o=>e.push(o),n=o=>{const s=e[t];return typeof s=="function"?s(o,a=>(t++,n(a))):(t=0,o)};return r.dispatch=n,r.unshift=o=>e.unshift(o),r.remove=o=>{const s=e.indexOf(o);s>-1&&e.splice(s,1)},r}function Fi(){const e=new Map,t=new Map;let r;const n=(o,s)=>{if(r){r.set(s.name,[o,s]);return}e.has(s.name)&&e.get(s.name).forEach(a=>{(s.origin===o||a.modifiers.includes("deep"))&&a.listener(s)}),s.bubble&&o.bubble(s)};return n.flush=()=>{e.clear(),t.clear(),r?.clear()},n.on=(o,s,a="push")=>{const[i,...l]=o.split("."),p=s.receipt||fr(),u={modifiers:l,event:i,listener:s,receipt:p};return e.has(i)?e.get(i)[a](u):e.set(i,[u]),t.has(p)?t.get(p)[a](i):t.set(p,[i]),p},n.off=o=>{t.has(o)&&(t.get(o)?.forEach(s=>{const a=e.get(s);Array.isArray(a)&&e.set(s,a.filter(i=>i.receipt!==o))}),t.delete(o))},n.pause=o=>{r||(r=new Map),o&&o.walk(s=>s._e.pause())},n.play=o=>{if(!r)return;const s=r;r=void 0,s.forEach(([a,i])=>n(a,i)),o&&o.walk(a=>a._e.play())},n}function ku(e,t,r,n,o=!0,s){return t._e(e,{payload:n,name:r,bubble:o,origin:e,meta:s}),e}function Su(e,t,r){return jr(e.parent)&&e.parent._e(e.parent,r),e}function Du(e,t,r,n,o){return t._e.on(r,n,o)}function Cu(e,t,r){return t._e.off(r),e}var hs=ms();hs((e,t)=>(e.message||(e.message=`E${e.code}`),t(e)));var gs=ms();gs((e,t)=>{e.message||(e.message=`W${e.code}`);const r=t(e);return console&&typeof console.warn=="function"&&console.warn(r.message),r});function xt(e,t={}){gs.dispatch({code:e,data:t})}function Ae(e,t={}){throw Error(hs.dispatch({code:e,data:t}).message)}function be(e,t){return{blocking:!1,key:fr(),meta:{},type:"state",visible:!0,...e}}var Zs={apply:Mu,set:Au,remove:Ni,filter:Iu,reduce:Eu,release:Vu,touch:Tu};function Lu(e=!1){const t={};let r,n=e,o=[];const s=new Map;let a;const i=new Proxy(t,{get(...l){const[p,u]=l;return u==="buffer"?n:u==="_b"?o:u==="_m"?s:u==="_r"?a:X(Zs,u)?Zs[u].bind(null,t,i,r):Reflect.get(...l)},set(l,p,u){return p==="_n"?(r=u,a==="__n"&&Bi(r,i),!0):p==="_b"?(o=u,!0):p==="buffer"?(n=u,!0):p==="_r"?(a=u,!0):(Ae(101,r),!1)}});return i}function Au(e,t,r,n){if(t.buffer)return t._b.push([[n]]),t;if(e[n.key]!==n){if(typeof n.value=="string"&&n.meta.localize!==!1){const s=n.value;n.value=r.t(n),n.value!==s&&(n.meta.locale=r.props.locale)}const o=`message-${X(e,n.key)?"updated":"added"}`;e[n.key]=Object.freeze(r.hook.message.dispatch(n)),r.emit(o,n)}return t}function Tu(e,t){for(const r in e){const n={...e[r]};t.set(n)}}function Ni(e,t,r,n){if(X(e,n)){const o=e[n];delete e[n],r.emit("message-removed",o)}return t.buffer===!0&&(t._b=t._b.filter(o=>(o[0]=o[0].filter(s=>s.key!==n),o[1]||o[0].length))),t}function Iu(e,t,r,n,o){for(const s in e){const a=e[s];(!o||a.type===o)&&!n(a)&&Ni(e,t,r,s)}}function Eu(e,t,r,n,o){for(const s in e){const a=e[s];o=n(o,a)}return o}function Mu(e,t,r,n,o){if(Array.isArray(n)){if(t.buffer){t._b.push([n,o]);return}const s=new Set(n.map(a=>(t.set(a),a.key)));typeof o=="string"?t.filter(a=>a.type!==o||s.has(a.key)):typeof o=="function"&&t.filter(a=>!o(a)||s.has(a.key))}else for(const s in n){const a=r.at(s);a?a.store.apply(n[s],o):Pu(r,t,s,n[s],o)}}function Ou(e,...t){const r=`${e.name}-set`,n=o=>be({key:fs(o),type:"error",value:o,meta:{source:r,autoClear:!0}});return t.filter(o=>!!o).map(o=>{if(typeof o=="string"&&(o=[o]),Array.isArray(o))return o.map(s=>n(s));{const s={};for(const a in o)Array.isArray(o[a])?s[a]=o[a].map(i=>n(i)):s[a]=[n(o[a])];return s}})}function Pu(e,t,r,n,o){const s=t._m;s.has(r)||s.set(r,[]),t._r||(t._r=Bi(e,t)),s.get(r)?.push([n,o])}function Bi(e,t){return e.on("child.deep",({payload:r})=>{t._m.forEach((n,o)=>{e.at(o)===r&&(n.forEach(([s,a])=>{r.store.apply(s,a)}),t._m.delete(o))}),t._m.size===0&&t._r&&(e.off(t._r),t._r=void 0)})}function Vu(e,t){t.buffer=!1,t._b.forEach(([r,n])=>t.apply(r,n)),t._b=[]}function Fu(){const e={};let t;return{count:(...r)=>Nu(t,e,...r),init(r){t=r,r.on("message-added.deep",Us(e,1)),r.on("message-removed.deep",Us(e,-1))},merge:r=>qs(t,e,r),settled(r){return X(e,r)?e[r].promise:Promise.resolve()},unmerge:r=>qs(t,e,r,!0),value(r){return X(e,r)?e[r].count:0}}}function Nu(e,t,r,n,o=0){if(n=Bu(n||r),!X(t,r)){const s={condition:n,count:0,name:r,node:e,promise:Promise.resolve(),resolve:()=>{}};t[r]=s,o=e.store.reduce((a,i)=>a+s.condition(i)*1,o),e.each(a=>{a.ledger.count(s.name,s.condition),o+=a.ledger.value(s.name)})}return Ri(t[r],o).promise}function Bu(e){return typeof e=="function"?e:t=>t.type===e}function Ri(e,t){const r=e.count,n=e.count+t;return e.count=n,r===0&&n!==0?(e.node.emit(`unsettled:${e.name}`,e.count,!1),e.promise=new Promise(o=>e.resolve=o)):r!==0&&n===0&&(e.node.emit(`settled:${e.name}`,e.count,!1),e.resolve()),e.node.emit(`count:${e.name}`,e.count,!1),e}function Us(e,t){return r=>{for(const n in e){const o=e[n];o.condition(r.payload)&&Ri(o,t)}}}function qs(e,t,r,n=!1){const o=e;for(const s in t){const a=t[s].condition;n||r.ledger.count(s,a);const i=r.ledger.value(s)*(n?-1:1);if(e){do e.ledger.count(s,a,i),e=e.parent;while(e);e=o}}}var vs=new Map,cn=new Map,$s=Fi();function Ru(e){e.props.id&&(vs.set(e.props.id,e),cn.set(e,e.props.id),$s(e,{payload:e,name:e.props.id,bubble:!1,origin:e}))}function Hu(e){if(cn.has(e)){const t=cn.get(e);cn.delete(e),vs.delete(t),$s(e,{payload:null,name:t,bubble:!1,origin:e})}}function Kr(e){return vs.get(e)}function Wu(e,t){return $s.on(e,t)}function Ro(e,t,r){let n=!0;return t in e.config._t?n=!1:e.emit(`config:${t}`,r,!1),t in e.props||(e.emit("prop",{prop:t,value:r}),e.emit(`prop:${t}`,r)),n}function Ku(e={}){const t=new Set,r={...e,_add:o=>t.add(o),_rm:o=>t.delete(o)};return new Proxy(r,{set(o,s,a,i){return typeof s=="string"&&t.forEach(l=>Ro(l,s,a)),Reflect.set(o,s,a,i)}})}function Hi(e,t){const r=(t||document).getElementById(e);if(r instanceof HTMLFormElement){const n=new Event("submit",{cancelable:!0,bubbles:!0});r.dispatchEvent(n);return}xt(151,e)}function ju(e){const t=r=>{for(const n in r.store){const o=r.store[n];o.type==="error"||o.type==="ui"&&n==="incomplete"?r.store.remove(n):o.type==="state"&&r.store.set({...o,value:!1})}};t(e),e.walk(t)}function Wi(e,t){const r=typeof e=="string"?Kr(e):e;if(r){const n=a=>{const i=We(a.props.initial);return i!==void 0?i:a.type==="group"?{}:a.type==="list"?[]:void 0};r._e.pause(r);const o=We(t);return t&&!Be(t)&&(r.props.initial=Xt(o)?nr(o):o,r.props._init=r.props.initial),r.input(n(r),!1),r.walk(a=>{a.type==="list"&&a.sync||a.input(n(a),!1)}),r.input(Be(o)&&o?o:n(r),!1),r.type!=="input"&&t&&!Be(t)&&Xt(t)&&r.walk(a=>{a.props.initial=Xt(a.value)?nr(a.value):a.value,a.props._init=a.props.initial}),r._e.play(r),ju(r),r.emit("reset",r),r}xt(152,e)}var Yu={delimiter:".",delay:0,locale:"en",rootClasses:e=>({[`formkit-${Vi(e)}`]:!0})},Ki=Symbol("index"),Ho=Symbol("removed"),Wo=Symbol("moved"),ji=Symbol("inserted");function Zu(e){return e.type==="list"&&Array.isArray(e._value)}function jr(e){return e&&typeof e=="object"&&e.__FKNode__===!0}var dn=(e,t,r)=>{Ae(102,[e,r])},Uu={_c:ie(mc,dn,!1),add:ie(ac),addProps:ie(sc),address:ie(gc,dn,!1),at:ie(vc),bubble:ie(Su),clearErrors:ie(Dc),calm:ie(rc),config:ie(!1),define:ie(oc),disturb:ie(tc),destroy:ie(nc),extend:ie(Lc),hydrate:ie(Qu),index:ie(fc,dc,!1),input:ie(Ui),each:ie(pc),emit:ie(ku),find:ie(yc),on:ie(Du),off:ie(Cu),parent:ie(!1,ic),plugins:ie(!1),remove:ie(lc),root:ie(xc,dn,!1),reset:ie(kc),resetConfig:ie(cc),setErrors:ie(Sc),submit:ie(_c),t:ie(wc),use:ie(ys),name:ie(hc,!1,!1),walk:ie(uc)};function qu(){return new Map(Object.entries(Uu))}function ie(e,t,r=!0){return{get:e?(n,o)=>r?(...s)=>e(n,o,...s):e(n,o):!1,set:t!==void 0?t:dn.bind(null)}}function zu(){const e=new Map;return new Proxy(e,{get(t,r){return e.has(r)||e.set(r,ms()),e.get(r)}})}var Yi=0,Gu=0;function Xu(e){return e.parent?.type==="list"?Ki:e.name||`${e.props?.type||"input"}_${++Yi}`}function Zi(e){return e.type==="group"?nr(e.value&&typeof e.value=="object"&&!Array.isArray(e.value)?e.value:{}):e.type==="list"?nr(Array.isArray(e.value)?e.value:[]):e.value}function Ui(e,t,r,n=!0){return t._value=Ju(e,e.hook.input.dispatch(r)),e.emit("input",t._value),e.isCreated&&e.type==="input"&&K(t._value,t.value)&&!e.props.mergeStrategy?(e.emit("commitRaw",t.value),t.settled):(t.isSettled&&e.disturb(),n?(t._tmo&&clearTimeout(t._tmo),t._tmo=setTimeout(yn,e.props.delay,e,t)):yn(e,t),t.settled)}function Ju(e,t){switch(e.type){case"input":break;case"group":(!t||typeof t!="object")&&Ae(107,[e,t]);break;case"list":Array.isArray(t)||Ae(108,[e,t]);break}return t}function yn(e,t,r=!0,n=!0){t._value=t.value=e.hook.commit.dispatch(t._value),e.type!=="input"&&n&&e.hydrate(),e.emit("commitRaw",t.value),e.emit("commit",t.value),r&&e.calm()}function qi(e,{name:t,value:r,from:n}){if(!Object.isFrozen(e._value)){if(Zu(e)){const o=r===Ho?[]:r===Wo&&typeof n=="number"?e._value.splice(n,1):[r];e._value.splice(t,r===Wo||n===ji?0:1,...o);return}r!==Ho?e._value[t]=r:delete e._value[t]}}function Qu(e,t){const r=t._value;return e.type==="list"&&e.sync&&ec(e,t),t.children.forEach(n=>{if(typeof r=="object")if(n.name in r){const o=n.type!=="input"||r[n.name]&&typeof r[n.name]=="object"?nr(r[n.name]):r[n.name];if(!n.isSettled||(!Xt(o)||n.props.mergeStrategy)&&K(o,n._value))return;n.input(o,!1)}else(e.type!=="list"||typeof n.name=="number")&&qi(t,{name:n.name,value:n.value}),r.__init||(n.type==="group"?n.input({},!1):n.type==="list"?n.input([],!1):n.input(void 0,!1))}),e}function ec(e,t){const r=e._value;if(!Array.isArray(r))return;const n=[],o=new Set(t.children),s=new Map;r.forEach((i,l)=>{if(t.children[l]&&t.children[l]._value===i)n.push(t.children[l]),o.delete(t.children[l]);else{n.push(null);const p=s.get(i)||[];p.push(l),s.set(i,p)}}),o.size&&s.size&&o.forEach(i=>{if(s.has(i._value)){const l=s.get(i._value),p=l.shift();n[p]=i,o.delete(i),l.length||s.delete(i._value)}});const a=[];for(let i=0;i<n.length;i++)n[i]===null&&a.push(i);for(;o.size&&a.length;){const i=o.values().next().value,l=a.shift();if(l===void 0||i===void 0)break;n[l]=i,o.delete(i)}a.forEach(i=>{n[i]=Ec({value:r[i]})}),o.size&&o.forEach(i=>{if(!("__FKP"in i)){const l=i._c.parent;if(!l||Mc(l))return;l.ledger.unmerge(i),i._c.parent=null,i.destroy()}}),t.children=n}function tc(e,t){return t._d<=0&&(t.isSettled=!1,e.emit("settled",!1,!1),t.settled=new Promise(r=>{t._resolve=r}),e.parent&&e.parent?.disturb()),t._d++,e}function rc(e,t,r){if(r!==void 0&&e.type!=="input"){qi(t,r);const n=!!(e.config.mergeStrategy&&e.config.mergeStrategy[r.name]);return yn(e,t,!0,n)}t._d>0&&t._d--,t._d===0&&(t.isSettled=!0,e.emit("settled",!0,!1),e.parent&&e.parent?.calm({name:e.name,value:t.value}),t._resolve&&t._resolve(t.value))}function nc(e,t){e.emit("destroying",e),e.store.filter(()=>!1),e.parent&&e.parent.remove(e),Hu(e),e.emit("destroyed",e),t._e.flush(),t._value=t.value=void 0;for(const r in t.context)delete t.context[r];t.plugins.clear(),t.context=null}function oc(e,t,r){t.type=r.type;const n=bt(r);e.props.__propDefs=zi(e.props.__propDefs??[],n?.props||[]),n.props=e.props.__propDefs,t.props.definition=n,t.value=t._value=Zi({type:e.type,value:t.value}),r.forceTypeProp&&(e.props.type&&(e.props.originalType=e.props.type),t.props.type=r.forceTypeProp),r.family&&(t.props.family=r.family),r.features&&r.features.forEach(o=>o(e)),r.props&&e.addProps(r.props),e.emit("defined",r)}function sc(e,t,r){const n=Array.isArray(r)?r:Object.keys(r),o=Array.isArray(r)?{}:n.reduce((a,i)=>("default"in r[i]&&(a[i]=r[i].default),a),{});if(e.props.attrs){const a={...e.props.attrs};e.props._emit=!1;for(const l in a){const p=Jt(l);n.includes(p)&&(e.props[p]=a[l],delete a[l])}Array.isArray(r)||n.forEach(l=>{"default"in r[l]&&e.props[l]===void 0&&(e.props[l]=o[l])});const i=We(t._value);e.props.initial=e.type!=="input"?nr(i):i,e.props._emit=!0,e.props.attrs=a}const s=zi(e.props.__propDefs??[],r);return e.props.definition&&(e.props.definition.props=s),e.props.__propDefs=s,e.emit("added-props",r),e}function Ko(e){return Array.isArray(e)?e.reduce((t,r)=>(t[r]={},t),{}):e}function zi(e,t){return Array.isArray(e)&&Array.isArray(t)?e.concat(t):yt(Ko(e),Ko(t))}function ac(e,t,r,n){if(e.type==="input"&&Ae(100,e),r.parent&&r.parent!==e&&r.parent.remove(r),!t.children.includes(r)){if(n!==void 0&&e.type==="list"){const o=t.children[n];o&&"__FKP"in o?(r._c.uid=o.uid,t.children.splice(n,1,r)):t.children.splice(n,0,r),Array.isArray(e.value)&&e.value.length<t.children.length&&e.disturb().calm({name:n,value:r.value,from:ji})}else t.children.push(r);r.isSettled||e.disturb()}if(r.parent!==e){if(r.parent=e,r.parent!==e)return e.remove(r),r.parent.add(r),e}else r.use(e.plugins);return yn(e,t,!1),e.ledger.merge(r),e.emit("child",r),e}function ic(e,t,r,n){return jr(n)?(e.parent&&e.parent!==n&&e.parent.remove(e),t.parent=n,e.resetConfig(),n.children.includes(e)?e.use(n.plugins):n.add(e),!0):n===null?(t.parent=null,!0):!1}function lc(e,t,r){const n=t.children.indexOf(r);if(n!==-1){r.isSettled&&e.disturb(),t.children.splice(n,1);let o=W(r.props.preserve),s=r.parent;for(;o===void 0&&s;)o=W(s.props.preserve),s=s.parent;o?e.calm():e.calm({name:e.type==="list"?n:r.name,value:Ho}),r.parent=null,r.config._rmn=r}return e.ledger.unmerge(r),e.emit("childRemoved",r),e}function pc(e,t,r){t.children.forEach(n=>!("__FKP"in n)&&r(n))}function uc(e,t,r,n=!1,o=!1){t.children.some(s=>{if("__FKP"in s)return!1;const a=r(s);return n&&a===!1?!0:o&&a===!1?!1:s.walk(r,n,o)})}function cc(e,t){const r=e.parent||void 0;t.config=Gi(e.config._t,r),e.walk(n=>n.resetConfig())}function ys(e,t,r,n=!0,o=!0){return Array.isArray(r)||r instanceof Set?(r.forEach(s=>ys(e,t,s)),e):(t.plugins.has(r)||(o&&typeof r.library=="function"&&r.library(e),n&&r(e)!==!1&&(t.plugins.add(r),e.children.forEach(s=>s.use(r)))),e)}function dc(e,t,r,n){if(jr(e.parent)){const o=e.parent.children,s=n>=o.length?o.length-1:n<0?0:n,a=o.indexOf(e);return a===-1?!1:(o.splice(a,1),o.splice(s,0,e),e.parent.children=o,e.parent.type==="list"&&e.parent.disturb().calm({name:s,value:Wo,from:a}),!0)}return!1}function fc(e){if(e.parent){const t=[...e.parent.children].indexOf(e);return t===-1?e.parent.children.length:t}return-1}function mc(e,t){return t}function hc(e,t){return e.parent?.type==="list"?e.index:t.name!==Ki?t.name:e.index}function gc(e,t){return t.parent?t.parent.address.concat([e.name]):[e.name]}function vc(e,t,r){const n=typeof r=="string"?r.split(e.config.delimiter):r;if(!n.length)return;const o=n[0];let s=e.parent;for(s||(String(n[0])===String(e.name)&&n.shift(),s=e),o==="$parent"&&n.shift();s&&n.length;){const a=n.shift();switch(a){case"$root":s=e.root;break;case"$parent":s=s.parent;break;case"$self":s=e;break;default:s=s.children.find(i=>!("__FKP"in i)&&String(i.name)===String(a))||$c(s,a)}}return s||void 0}function $c(e,t){const r=String(t).match(/^(find)\((.*)\)$/);if(r){const[,n,o]=r,s=o.split(",").map(a=>a.trim());return n==="find"?e.find(s[0],s[1]):void 0}}function yc(e,t,r,n){return bc(e,r,n)}function bc(e,t,r="name"){const n=typeof r=="string"?s=>s[r]==t:r,o=[e];for(;o.length;){const s=o.shift();if(!("__FKP"in s)){if(n(s,t))return s;o.push(...s.children)}}}function xc(e){let t=e;for(;t.parent;)t=t.parent;return t}function Gi(e={},t){let r;return new Proxy(e,{get(...n){const o=n[1];if(o==="_t")return e;const s=Reflect.get(...n);if(s!==void 0)return s;if(t){const a=t.config[o];if(a!==void 0)return a}if(e.rootConfig&&typeof o=="string"){const a=e.rootConfig[o];if(a!==void 0)return a}return o==="delay"&&r?.type==="input"?20:Yu[o]},set(...n){const o=n[1],s=n[2];if(o==="_n")return r=s,e.rootConfig&&e.rootConfig._add(r),!0;if(o==="_rmn")return e.rootConfig&&e.rootConfig._rm(r),r=void 0,!0;if(!K(e[o],s,!1)){const a=Reflect.set(...n);return r&&(r.emit(`config:${o}`,s,!1),Ro(r,o,s),r.walk(i=>Ro(i,o,s),!1,!0)),a}return!0}})}function wc(e,t,r,n="ui"){const o=typeof r=="string"?{key:r,value:r,type:n}:r,s=e.hook.text.dispatch(o);return e.emit("text",s,!1),s.value}function _c(e){const t=e.name;do{if(e.props.isForm===!0)break;e.parent||Ae(106,t),e=e.parent}while(e);e.props.id&&Hi(e.props.id,e.props.__root)}function kc(e,t,r){return Wi(e,r)}function Sc(e,t,r,n){const o=`${e.name}-set`,s=e.hook.setErrors.dispatch({localErrors:r,childErrors:n});return Ou(e,s.localErrors,s.childErrors).forEach(a=>{e.store.apply(a,i=>i.meta.source===o)}),e}function Dc(e,t,r=!0,n){return e.store.filter(o=>!(n===void 0||o.meta.source===n),"error"),r&&(n=n||`${e.name}-set`,e.walk(o=>{o.store.filter(s=>!(s.type==="error"&&s.meta&&s.meta.source===n))})),e}function Cc(e){const t={initial:typeof e=="object"?We(e):e};let r,n=!0,o={};return new Proxy(t,{get(...s){const[a,i]=s;let l;X(t,i)?(l=Reflect.get(...s),o[i]?.boolean&&(l=_u(l))):r&&typeof i=="string"&&r.config[i]!==void 0?(l=r.config[i],i==="mergeStrategy"&&r?.type==="input"&&Tt(l)&&r.name in l&&(l=l[r.name])):l=o[i]?.default;const p=o[i]?.getter;return o[i]?.boolean&&(l=!!l),p?p(l,r):l},set(s,a,i,l){if(a==="_n")return r=i,!0;if(a==="_emit")return n=i,!0;let{prop:p,value:u}=r.hook.prop.dispatch({prop:a,value:i});const c=o[p]?.setter;if(u=c?c(u,r):u,!K(t[p],u,!1)||typeof u=="object"){const f=Reflect.set(s,p,u,l);return p==="__propDefs"&&(o=Ko(u)),n&&(r.emit("prop",{prop:p,value:u}),typeof p=="string"&&r.emit(`prop:${p}`,u)),f}return!0}})}function Lc(e,t,r,n){return t.traps.set(r,n),e}function Ac(e,t){if(e.props.definition)return e.define(e.props.definition);for(const r of t){if(e.props.definition)return;typeof r.library=="function"&&r.library(e)}}function Tc(e){const t=Zi(e),r=Gi(e.config||{},e.parent);return{_d:0,_e:Fi(),uid:Symbol(),_resolve:!1,_tmo:!1,_value:t,children:fu(e.children||[]),config:r,hook:zu(),isCreated:!1,isSettled:!0,ledger:Fu(),name:Xu(e),parent:e.parent||null,plugins:new Set,props:Cc(t),settled:Promise.resolve(t),store:Lu(!0),sync:e.sync||!1,traps:qu(),type:e.type||"input",value:t}}function Ic(e,t){const r=t.props?.id;if(r||delete t.props?.id,e.ledger.init(e.store._n=e.props._n=e.config._n=e),e.props._emit=!1,Object.assign(e.props,r?{}:{id:`input_${Gu++}`},t.props??{}),e.props._emit=!0,Ac(e,new Set([...t.plugins||[],...e.parent?e.parent.plugins:[]])),t.plugins)for(const n of t.plugins)ys(e,e._c,n,!0,!1);return e.each(n=>e.add(n)),e.parent&&e.parent.add(e,t.index),e.type==="input"&&e.children.length&&Ae(100,e),Ui(e,e._c,e._value,!1),e.store.release(),r&&Ru(e),e.emit("created",e),e.isCreated=!0,e}function Ec(e){return{__FKP:!0,uid:Symbol(),name:e?.name??`p_${Yi++}`,value:e?.value??null,_value:e?.value??null,type:e?.type??"input",props:{},use:()=>{},input(t){return this._value=t,this.value=t,Promise.resolve()},isSettled:!0}}function Mc(e){return"__FKP"in e}function Oc(e){const t=e||{},r=Tc(t),n=new Proxy(r,{get(...o){const[,s]=o;if(s==="__FKNode__")return!0;const a=r.traps.get(s);return a&&a.get?a.get(n,r):Reflect.get(...o)},set(...o){const[,s,a]=o,i=r.traps.get(s);return i&&i.set?i.set(n,r,s,a):Reflect.set(...o)}});return Ic(n,t)}function It(e){return typeof e!="string"&&X(e,"$el")}function Or(e){return typeof e!="string"&&X(e,"$cmp")}function Yt(e){return!e||typeof e=="string"?!1:X(e,"if")&&X(e,"then")}function Pc(e){return typeof e!="string"&&"$formkit"in e}function Vc(e){if(typeof e=="string")return{$el:"text",children:e};if(Pc(e)){const{$formkit:t,for:r,if:n,children:o,bind:s,...a}=e;return Object.assign({$cmp:"FormKit",props:{...a,type:t}},n?{if:n}:{},r?{for:r}:{},o?{children:o}:{},s?{bind:s}:{})}return e}function He(e){let t;const r=new Set,n=function(y,m){return typeof y=="function"?y(m):y},o=[{"&&":(h,y,m)=>n(h,m)&&n(y,m),"||":(h,y,m)=>n(h,m)||n(y,m)},{"===":(h,y,m)=>n(h,m)===n(y,m),"!==":(h,y,m)=>n(h,m)!==n(y,m),"==":(h,y,m)=>n(h,m)==n(y,m),"!=":(h,y,m)=>n(h,m)!=n(y,m),">=":(h,y,m)=>n(h,m)>=n(y,m),"<=":(h,y,m)=>n(h,m)<=n(y,m),">":(h,y,m)=>n(h,m)>n(y,m),"<":(h,y,m)=>n(h,m)<n(y,m)},{"+":(h,y,m)=>n(h,m)+n(y,m),"-":(h,y,m)=>n(h,m)-n(y,m)},{"*":(h,y,m)=>n(h,m)*n(y,m),"/":(h,y,m)=>n(h,m)/n(y,m),"%":(h,y,m)=>n(h,m)%n(y,m)}],s=o.reduce((h,y)=>h.concat(Object.keys(y)),[]),a=new Set(s.map(h=>h.charAt(0)));function i(h,y,m,S){const g=h.filter(_=>_.startsWith(y));return g.length?g.find(_=>S.length>=m+_.length&&S.substring(m,m+_.length)===_?_:!1):!1}function l(h,y,m=1){let S=m?y.substring(h+1).trim():y.substring(0,h).trim();if(!S.length)return-1;if(!m){const _=S.split("").reverse(),C=_.findIndex(k=>a.has(k));S=_.slice(C).join("")}const g=S[0];return o.findIndex(_=>{const C=Object.keys(_);return!!i(C,g,0,S)})}function p(h,y){let m="";const S=y.length;let g=0;for(let _=h;_<S;_++){const C=y.charAt(_);if(C==="(")g++;else if(C===")")g--;else if(g===0&&C===" ")continue;if(g===0&&i(s,C,_,y))return[m,_-1];m+=C}return[m,y.length-1]}function u(h,y=0){const m=o[y],S=h.length,g=Object.keys(m);let _=0,C=!1,k=null,D="",w=null,L,x="",b="",v="",T="",N=0;const q=(Q,U)=>{Q?v+=U:D+=U};for(let Q=0;Q<S;Q++)if(x=b,b=h.charAt(Q),(b==="'"||b==='"')&&x!=="\\"&&(_===0&&!C||_&&!T)){_?T=b:C=b,q(_,b);continue}else if(C&&(b!==C||x==="\\")||T&&(b!==T||x==="\\")){q(_,b);continue}else if(C===b){C=!1,q(_,b);continue}else if(T===b){T=!1,q(_,b);continue}else{if(b===" ")continue;if(b==="(")_===0?N=Q:v+=b,_++;else if(b===")")if(_--,_===0){const U=typeof D=="string"&&D.startsWith("$")?D:void 0,ue=U&&h.charAt(Q+1)===".";let ge="";ue&&([ge,Q]=p(Q+2,h));const De=k?y:l(N,h,0),te=l(Q,h);De===-1&&te===-1?(D=c(v,-1,U,ge),typeof D=="string"&&(D=v)):k&&(De>=te||te===-1)&&y===De?(w=k.bind(null,c(v,-1,U,ge)),k=null,D=""):te>De&&y===te?D=c(v,-1,U,ge):D+=`(${v})${ue?`.${ge}`:""}`,v=""}else v+=b;else if(_===0&&(L=i(g,b,Q,h))){Q===0&&Ae(103,[L,h]),Q+=L.length-1,Q===h.length-1&&Ae(104,[L,h]),k?D&&(w=k.bind(null,c(D,y)),k=m[L].bind(null,w),D=""):w?(k=m[L].bind(null,c(w,y)),w=null):(k=m[L].bind(null,c(D,y)),D="");continue}else q(_,b)}return D&&k&&(k=k.bind(null,c(D,y))),k=!k&&w?w:k,!k&&D&&(k=(Q,U)=>typeof Q=="function"?Q(U):Q,k=k.bind(null,c(D,y))),!k&&!D&&Ae(105,h),k}function c(h,y,m,S){if(m){const g=c(m,o.length);let _,C=S?He(`$${S}`):!1;if(typeof g=="function"){const k=yu(String(h)).map(D=>c(D,-1));return D=>{const w=g(D);return typeof w!="function"?(xt(150,m),w):(_=w(...k.map(L=>typeof L=="function"?L(D):L)),C&&(C=C.provide(L=>{const x=t(L);return L.reduce((v,T)=>{if(T===S||S?.startsWith(`${T}(`)){const q=bu(_,T);v[T]=()=>q}else v[T]=x[T];return v},{})})),C?C():_)}}}else if(typeof h=="string"){if(h==="true")return!0;if(h==="false")return!1;if(h==="undefined")return;if(vu(h))return $u(h.substring(1,h.length-1));if(!isNaN(+h))return Number(h);if(y<o.length-1)return u(h,y+1);if(h.startsWith("$")){const g=h.substring(1);return r.add(g),function(C){return g in C?C[g]():void 0}}return h}return h}const f=u(e.startsWith("$:")?e.substring(2):e),d=Array.from(r);function $(h){return t=h,Object.assign(f.bind(null,h(d)),{provide:$})}return Object.assign(f,{provide:$})}function fn(e,t,r){return r?typeof r=="string"?r.split(" ").reduce((o,s)=>Object.assign(o,{[s]:!0}),{}):typeof r=="function"?fn(e,t,r(t,e)):r:{}}function Fc(e,t,...r){const n=r.reduce((o,s)=>{if(!s)return oo(o);const{$reset:a,...i}=s;return oo(a?i:Object.assign(o,i))},{});return Object.keys(e.hook.classes.dispatch({property:t,classes:n}).classes).filter(o=>n[o]).join(" ")||null}function oo(e){const t="$remove:";let r=!1;const n=Object.keys(e).filter(o=>(e[o]&&o.startsWith(t)&&(r=!0),e[o]));return n.length>1&&r&&n.filter(s=>s.startsWith(t)).map(s=>{const a=s.substring(t.length);e[a]=!1,e[s]=!1}),e}function Nc(e,t,r){const n=Kr(e);n?n.setErrors(t,r):xt(651,e)}function Bc(e,t=!0){const r=Kr(e);r?r.clearErrors(t):xt(652,e)}var bn="1.7.2",Xi=new WeakSet;function Wn(e,t){const r=t||Object.assign(new Map,{active:!1}),n=new Map,o=function(u){r.active&&(r.has(e)||r.set(e,new Set),r.get(e)?.add(u))},s=function(u){return new Proxy(u,{get(...c){return typeof c[1]=="string"&&o(`prop:${c[1]}`),Reflect.get(...c)}})},a=function(u){return new Proxy(u,{get(...c){return c[1]==="value"?f=>(o(`count:${f}`),u.value(f)):Reflect.get(...c)}})},i=function(u,c){return jr(u)?Wn(u,r):(c==="value"&&o("commit"),c==="_value"&&o("input"),c==="props"?s(u):c==="ledger"?a(u):(c==="children"&&(o("child"),o("childRemoved")),u))},{proxy:l,revoke:p}=Proxy.revocable(e,{get(...u){switch(u[1]){case"_node":return e;case"deps":return r;case"watch":return(f,d,$)=>el(l,f,d,$);case"observe":return()=>{const f=new Map(r);return r.clear(),r.active=!0,f};case"stopObserve":return()=>{const f=new Map(r);return r.active=!1,f};case"receipts":return n;case"kill":return()=>{Qi(n),Xi.add(u[2]),p()}}const c=Reflect.get(...u);return typeof c=="function"?(...f)=>{const d=c(...f);return i(d,u[1])}:i(c,u[1])}});return l}function Ji(e,[t,r],n,o){t.forEach((s,a)=>{s.forEach(i=>{e.receipts.has(a)||e.receipts.set(a,{});const l=e.receipts.get(a)??{};l[i]=l[i]??[],l[i].push(a.on(i,n,o)),e.receipts.set(a,l)})}),r.forEach((s,a)=>{s.forEach(i=>{if(e.receipts.has(a)){const l=e.receipts.get(a);l&&X(l,i)&&(l[i].map(a.off),delete l[i],e.receipts.set(a,l))}})})}function Qi(e){e.forEach((t,r)=>{for(const n in t)t[n].map(r.off)}),e.clear()}function el(e,t,r,n){const o=i=>{const l=e.stopObserve();Ji(e,tl(s,l),()=>el(e,t,r,n),n),r&&r(i)},s=new Map(e.deps);e.observe();const a=t(e);a instanceof Promise?a.then(i=>o(i)):o(a)}function tl(e,t){const r=new Map,n=new Map;return t.forEach((o,s)=>{if(!e.has(s))r.set(s,o);else{const a=new Set,i=e.get(s);o.forEach(l=>!i?.has(l)&&a.add(l)),r.set(s,a)}}),e.forEach((o,s)=>{if(!t.has(s))n.set(s,o);else{const a=new Set,i=t.get(s);o.forEach(l=>!i?.has(l)&&a.add(l)),n.set(s,a)}}),[r,n]}function bs(e){return Xi.has(e)}var rl=function({value:t}){return["yes","on","1",1,!0,"true"].includes(t)};rl.skipEmpty=!1;var Rc=rl,Hc=function({value:e},t=!1){const r=Date.parse(t||new Date),n=Date.parse(String(e));return isNaN(n)?!1:n>r},Wc=Hc,Kc=function({value:e},t=!1){const r=Date.parse(t||new Date),n=Date.parse(String(e));return isNaN(n)?!1:n>r||n===r},jc=Kc,Yc=function(e,t){if(!t)return!1;const r=Date.parse(String(e.value)),n=Date.parse(String(e.at(t)?.value));return isNaN(n)?!0:isNaN(r)?!1:r>n},Zc=Yc,Uc=function({value:e},t="default"){const r={default:new RegExp("^\\p{L}+$","u"),latin:/^[a-z]+$/i},n=X(r,t)?t:"default";return r[n].test(String(e))},qc=Uc,zc=function({value:e},t="default"){const r={default:/^[\p{L} ]+$/u,latin:/^[a-z ]+$/i},n=X(r,t)?t:"default";return r[n].test(String(e))},Gc=zc,Xc=function({value:e},t="default"){const r={default:/^[0-9\p{L}]+$/u,latin:/^[0-9a-z]+$/i},n=X(r,t)?t:"default";return r[n].test(String(e))},Jc=Xc,Qc=function({value:e},t=!1){const r=Date.parse(t||new Date),n=Date.parse(String(e));return isNaN(n)?!1:n<r},ed=Qc,td=function(e,t){if(!t)return!1;const r=Date.parse(String(e.value)),n=Date.parse(String(e.at(t)?.value));return isNaN(n)?!0:isNaN(r)?!1:r<n},rd=td,nd=function({value:e},t=!1){const r=Date.parse(t||new Date),n=Date.parse(String(e));return isNaN(n)?!1:n<r||n===r},od=nd,sd=function({value:t},r,n){if(!isNaN(t)&&!isNaN(r)&&!isNaN(n)){const o=1*t;r=Number(r),n=Number(n);const[s,a]=r<=n?[r,n]:[n,r];return o>=1*s&&o<=1*a}return!1},ad=sd,zs=/(_confirm(?:ed)?)$/,id=function(t,r,n="loose"){r||(r=zs.test(t.name)?t.name.replace(zs,""):`${t.name}_confirm`);const o=t.at(r)?.value;return n==="strict"?t.value===o:t.value==o},ld=id,pd=function({value:e},t="default"){const r={default:new RegExp("\\p{L}","u"),latin:/[a-z]/i},n=X(r,t)?t:"default";return r[n].test(String(e))},ud=pd,cd=function({value:e},t="default"){const r={default:/[\p{L} ]/u,latin:/[a-z ]/i},n=X(r,t)?t:"default";return r[n].test(String(e))},dd=cd,fd=function({value:e},t="default"){const r={default:/[0-9\p{L}]/u,latin:/[0-9a-z]/i},n=X(r,t)?t:"default";return r[n].test(String(e))},md=fd,hd=function({value:e},t="default"){const r={default:new RegExp("\\p{Ll}","u"),latin:/[a-z]/},n=X(r,t)?t:"default";return r[n].test(String(e))},gd=hd,vd=function({value:t}){return/[0-9]/.test(String(t))},$d=vd,yd=function({value:e}){return/[!-/:-@[-`{-~]/.test(String(e))},bd=yd,xd=function({value:e},t="default"){const r={default:new RegExp("\\p{Lu}","u"),latin:/[A-Z]/},n=X(r,t)?t:"default";return r[n].test(String(e))},wd=xd,_d=function({value:t},r,n){r=r instanceof Date?r.getTime():Date.parse(r),n=n instanceof Date?n.getTime():Date.parse(n);const o=t instanceof Date?t.getTime():Date.parse(String(t));if(r&&isNaN(n))n=r,r=Date.now();else if(r===void 0||o===void 0)return!1;return o>=r&&o<=n},kd=_d,Sd=function({value:t},r){return r&&typeof r=="string"?gu(r).test(String(t)):!isNaN(Date.parse(String(t)))},Dd=Sd,Cd=function({value:t}){return/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(String(t))},Ld=Cd,Ad=function({value:t},...r){return typeof t=="string"&&r.length?r.some(n=>t.endsWith(n)):typeof t=="string"&&r.length===0},Td=Ad,Id=function({value:t},...r){return r.some(n=>typeof n=="object"?K(n,t):n==t)},Ed=Id,Md=function({value:t},r=0,n=1/0){r=parseInt(r),n=isNaN(parseInt(n))?1/0:parseInt(n);const o=r<=n?r:n,s=n>=r?n:r;if(typeof t=="string"||Array.isArray(t))return t.length>=o&&t.length<=s;if(t&&typeof t=="object"){const a=Object.keys(t).length;return a>=o&&a<=s}return!1},Od=Md,Pd=function({value:e},t="default"){const r={default:new RegExp("^\\p{Ll}+$","u"),allow_non_alpha:/^[0-9\p{Ll}!-/:-@[-`{-~]+$/u,allow_numeric:/^[0-9\p{Ll}]+$/u,allow_numeric_dashes:/^[0-9\p{Ll}-]+$/u,latin:/^[a-z]+$/},n=X(r,t)?t:"default";return r[n].test(String(e))},Vd=Pd,Fd=function({value:t},...r){return r.some(n=>(typeof n=="string"&&n.substr(0,1)==="/"&&n.substr(-1)==="/"&&(n=new RegExp(n.substr(1,n.length-2))),n instanceof RegExp?n.test(String(t)):n===t))},Nd=Fd,Bd=function({value:t},r=10){return Array.isArray(t)?t.length<=r:Number(t)<=Number(r)},Rd=Bd,Hd=function({value:t},r=1){return Array.isArray(t)?t.length>=r:Number(t)>=Number(r)},Wd=Hd,Kd=function({value:t},...r){return!r.some(n=>typeof n=="object"?K(n,t):n===t)},jd=Kd,Yd=function({value:t}){return!isNaN(t)},Zd=Yd,nl=function(e,...t){return Be(e.value)?t.map(n=>e.at(n)?.value).some(n=>!Be(n)):!0};nl.skipEmpty=!1;var Ud=nl,ol=function({value:t},r="default"){return r==="trim"&&typeof t=="string"?!Be(t.trim()):!Be(t)};ol.skipEmpty=!1;var qd=ol,zd=function({value:t},...r){return typeof t=="string"&&r.length?r.some(n=>t.startsWith(n)):typeof t=="string"&&r.length===0},Gd=zd,Xd=function({value:e}){return/^[!-/:-@[-`{-~]+$/.test(String(e))},Jd=Xd,Qd=function({value:e},t="default"){const r={default:new RegExp("^\\p{Lu}+$","u"),latin:/^[A-Z]+$/},n=X(r,t)?t:"default";return r[n].test(String(e))},ef=Qd,tf=function({value:t},...r){try{const n=r.length?r:["http:","https:"],o=new URL(String(t));return n.includes(o.protocol)}catch{return!1}},rf=tf;const nf=Object.freeze(Object.defineProperty({__proto__:null,accepted:Rc,alpha:qc,alpha_spaces:Gc,alphanumeric:Jc,between:ad,confirm:ld,contains_alpha:ud,contains_alpha_spaces:dd,contains_alphanumeric:md,contains_lowercase:gd,contains_numeric:$d,contains_symbol:bd,contains_uppercase:wd,date_after:Wc,date_after_node:Zc,date_after_or_equal:jc,date_before:ed,date_before_node:rd,date_before_or_equal:od,date_between:kd,date_format:Dd,email:Ld,ends_with:Td,is:Ed,length:Od,lowercase:Vd,matches:Nd,max:Rd,min:Wd,not:jd,number:Zd,require_one:Ud,required:qd,starts_with:Gd,symbol:Jd,uppercase:ef,url:rf},Symbol.toStringTag,{value:"Module"}));var jo=be({type:"state",blocking:!0,visible:!1,value:!0,key:"validating"});function of(e={}){return function(r){let n=We(r.props.validationRules||{}),o={...e,...n};const s={input:fr(),rerun:null,isPassing:!0};let a=We(r.props.validation);r.on("prop:validation",({payload:l})=>i(l,n)),r.on("prop:validationRules",({payload:l})=>i(a,l));function i(l,p){K(Object.keys(n||{}),Object.keys(p||{}))&&K(a,l)||(n=We(p),a=We(l),o={...e,...n},r.props.parsedRules?.forEach(u=>{sl(u),Qi(u.observer.receipts),u.observer.kill()}),r.store.filter(()=>!1,"validation"),r.props.parsedRules=Xs(l,o,r),s.isPassing=!0,Yo(r,r.props.parsedRules,s))}r.props.parsedRules=Xs(a,o,r),Yo(r,r.props.parsedRules,s)}}function Yo(e,t,r){bs(e)||(r.input=fr(),e.store.set(be({key:"failing",value:!r.isPassing,visible:!1})),r.isPassing=!0,e.store.filter(n=>!n.meta.removeImmediately,"validation"),t.forEach(n=>n.debounce&&clearTimeout(n.timer)),t.length&&(e.store.set(jo),Zo(0,t,r,!1,()=>{e.store.remove(jo.key),e.store.set(be({key:"failing",value:!r.isPassing,visible:!1}))})))}function Zo(e,t,r,n,o){const s=t[e];if(!s)return o();const a=s.observer;if(bs(a))return;const i=r.input;s.state=null;function l(p,u){if(r.input!==i)return;r.isPassing=r.isPassing&&!!u,s.queued=!1;const c=a.stopObserve(),f=tl(s.deps,c);if(Ji(a,f,function(){try{a.store.set(jo)}catch{}s.queued=!0,r.rerun&&clearTimeout(r.rerun),r.rerun=setTimeout(Yo,0,a,t,r)},"unshift"),s.deps=c,s.state=u,u===!1?af(s,n||p):sl(s),t.length>e+1){const d=t[e+1];(u||d.force||!d.skipEmpty)&&d.state===null&&(d.queued=!0),Zo(e+1,t,r,n||p,o)}else o()}(!Be(a.value)||!s.skipEmpty)&&(r.isPassing||s.force)?s.queued?sf(s,a,p=>{p instanceof Promise?p.then(u=>l(!0,u)):l(!1,p)}):Zo(e+1,t,r,n,o):Be(a.value)&&s.skipEmpty&&r.isPassing?(a.observe(),a.value,l(!1,r.isPassing)):l(!1,null)}function sf(e,t,r){e.debounce?e.timer=setTimeout(()=>{t.observe(),r(e.rule(t,...e.args))},e.debounce):(t.observe(),r(e.rule(t,...e.args)))}function sl(e){const t=`rule_${e.name}`;e.messageObserver&&(e.messageObserver=e.messageObserver.kill()),X(e.observer.store,t)&&e.observer.store.remove(t)}function af(e,t){const r=e.observer;bs(r)||(e.messageObserver||(e.messageObserver=Wn(r._node)),e.messageObserver.watch(n=>pf(n,e),n=>{const o=lf(r,e,n),s=be({blocking:e.blocking,key:`rule_${e.name}`,meta:{messageKey:e.name,removeImmediately:t,localize:!o,i18nArgs:n},type:"validation",value:o||"This field is not valid."});r.store.set(s)}))}function lf(e,t,r){const n=e.props.validationMessages&&X(e.props.validationMessages,t.name)?e.props.validationMessages[t.name]:void 0;return typeof n=="function"?n(...r):n}function pf(e,t){return[{node:e,name:al(e),args:t.args}]}function al(e){return typeof e.props.validationLabel=="function"?e.props.validationLabel(e):e.props.validationLabel||e.props.label||e.props.name||String(e.name)}var il="(?:[\\*+?()0-9]+)",ll="[a-zA-Z][a-zA-Z0-9_]+",uf=new RegExp(`^(${il}?${ll})(?:\\:(.*)+)?$`,"i"),cf=new RegExp(`^(${il})(${ll})$`,"i"),df=/([\*+?]+)?(\(\d+\))([\*+?]+)?/,Gs=/\(\d+\)/,ff={blocking:!0,debounce:0,force:!1,skipEmpty:!0,name:""};function Xs(e,t,r){return e?(typeof e=="string"?mf(e):bt(e)).reduce((o,s)=>{let a=s.shift();const i={};if(typeof a=="string"){const[l,p]=gf(a);X(t,l)&&(a=t[l],Object.assign(i,p))}return typeof a=="function"&&o.push({observer:Wn(r),rule:a,args:s,timer:0,state:null,queued:!0,deps:new Map,...ff,...vf(i,a)}),o},[]):[]}function mf(e){return e.split("|").reduce((t,r)=>{const n=hf(r);return n&&t.push(n),t},[])}function hf(e){const t=e.trim();if(t){const r=t.match(uf);if(r&&typeof r[1]=="string"){const n=r[1].trim(),o=r[2]&&typeof r[2]=="string"?r[2].split(",").map(s=>s.trim()):[];return[n,...o]}}return!1}function gf(e){const t=e.match(cf);if(!t)return[e,{name:e}];const r={"*":{force:!0},"+":{skipEmpty:!1},"?":{blocking:!1}},[,n,o]=t,s=Gs.test(n)?n.match(df)||[]:[,n];return[o,[s[1],s[2],s[3]].reduce((a,i)=>(i&&(Gs.test(i)?a.debounce=parseInt(i.substr(1,i.length-1)):i.split("").forEach(l=>X(r,l)&&Object.assign(a,r[l]))),a),{name:o})]}function vf(e,t){return e.name||(e.name=t.ruleName||t.name),["skipEmpty","force","debounce","blocking"].reduce((r,n)=>(X(t,n)&&!X(r,n)&&Object.assign(r,{[n]:t[n]}),r),e)}function se(e){return e[0].toUpperCase()+e.substr(1)}function Js(e,t="or"){return e.reduce((r,n,o)=>(r+=n,o<=e.length-2&&e.length>2&&(r+=", "),o===e.length-2&&(r+=`${e.length===2?" ":""}${t} `),r),"")}function Xr(e){const t=typeof e=="string"?new Date(Date.parse(e)):e;return t instanceof Date?new Intl.DateTimeFormat(void 0,{dateStyle:"medium",timeZone:"UTC"}).format(t):"(unknown)"}function $f(e,t){return Number(e)>=Number(t)?[t,e]:[e,t]}var yf={add:"Add",remove:"Remove",removeAll:"Remove all",incomplete:"Sorry, not all fields are filled out correctly.",submit:"Submit",noFiles:"No file chosen",moveUp:"Move up",moveDown:"Move down",isLoading:"Loading...",loadMore:"Load more",next:"Next",prev:"Previous",addAllValues:"Add all values",addSelectedValues:"Add selected values",removeAllValues:"Remove all values",removeSelectedValues:"Remove selected values",chooseDate:"Choose date",changeDate:"Change date",summaryHeader:"There were errors in your form.",close:"Close",open:"Open"},bf={accepted({name:e}){return`Please accept the ${e}.`},date_after({name:e,args:t}){return Array.isArray(t)&&t.length?`${se(e)} must be after ${Xr(t[0])}.`:`${se(e)} must be in the future.`},alpha({name:e}){return`${se(e)} can only contain alphabetical characters.`},alphanumeric({name:e}){return`${se(e)} can only contain letters and numbers.`},alpha_spaces({name:e}){return`${se(e)} can only contain letters and spaces.`},contains_alpha({name:e}){return`${se(e)} must contain alphabetical characters.`},contains_alphanumeric({name:e}){return`${se(e)} must contain letters or numbers.`},contains_alpha_spaces({name:e}){return`${se(e)} must contain letters or spaces.`},contains_symbol({name:e}){return`${se(e)} must contain a symbol.`},contains_uppercase({name:e}){return`${se(e)} must contain an uppercase letter.`},contains_lowercase({name:e}){return`${se(e)} must contain a lowercase letter.`},contains_numeric({name:e}){return`${se(e)} must contain numbers.`},symbol({name:e}){return`${se(e)} must be a symbol.`},uppercase({name:e}){return`${se(e)} can only contain uppercase letters.`},lowercase({name:e,args:t}){let r="";return Array.isArray(t)&&t.length&&(t[0]==="allow_non_alpha"&&(r=", numbers and symbols"),t[0]==="allow_numeric"&&(r=" and numbers"),t[0]==="allow_numeric_dashes"&&(r=", numbers and dashes")),`${se(e)} can only contain lowercase letters${r}.`},date_before({name:e,args:t}){return Array.isArray(t)&&t.length?`${se(e)} must be before ${Xr(t[0])}.`:`${se(e)} must be in the past.`},between({name:e,args:t}){if(isNaN(t[0])||isNaN(t[1]))return"This field was configured incorrectly and can’t be submitted.";const[r,n]=$f(t[0],t[1]);return`${se(e)} must be between ${r} and ${n}.`},confirm({name:e}){return`${se(e)} does not match.`},date_format({name:e,args:t}){return Array.isArray(t)&&t.length?`${se(e)} is not a valid date, please use the format ${t[0]}`:"This field was configured incorrectly and can’t be submitted"},date_between({name:e,args:t}){return`${se(e)} must be between ${Xr(t[0])} and ${Xr(t[1])}`},email:"Please enter a valid email address.",ends_with({name:e,args:t}){return`${se(e)} doesn’t end with ${Js(t)}.`},is({name:e}){return`${se(e)} is not an allowed value.`},length({name:e,args:[t=0,r=1/0]}){const n=Math.min(t,r),o=Math.max(t,r);return n==1&&o===1/0?`${se(e)} must be at least one character.`:n==0&&o?`${se(e)} must be less than or equal to ${o} characters.`:n===o?`${se(e)} should be ${o} characters long.`:n&&o===1/0?`${se(e)} must be greater than or equal to ${n} characters.`:`${se(e)} must be between ${n} and ${o} characters.`},matches({name:e}){return`${se(e)} is not an allowed value.`},max({name:e,node:{value:t},args:r}){return Array.isArray(t)?`Cannot have more than ${r[0]} ${e}.`:`${se(e)} must be no more than ${r[0]}.`},mime({name:e,args:t}){return t[0]?`${se(e)} must be of the type: ${t[0]}`:"No file formats allowed."},min({name:e,node:{value:t},args:r}){return Array.isArray(t)?`Cannot have fewer than ${r[0]} ${e}.`:`${se(e)} must be at least ${r[0]}.`},not({name:e,node:{value:t}}){return`“${t}” is not an allowed ${e}.`},number({name:e}){return`${se(e)} must be a number.`},require_one:({name:e,node:t,args:r})=>{const n=r.map(o=>{const s=t.at(o);return s?al(s):!1}).filter(o=>!!o);return n.unshift(e),`${n.join(" or ")} is required.`},required({name:e}){return`${se(e)} is required.`},starts_with({name:e,args:t}){return`${se(e)} doesn’t start with ${Js(t)}.`},url(){return"Please enter a valid URL."},invalidDate:"The selected date is invalid."},xf={ui:yf,validation:bf},Qs=new Set;function wf(e){return function(r){Qs.add(r),r.on("destroying",()=>Qs.delete(r));let n=ea(r.config.locale,e),o=n?e[n]:{};r.on("prop:locale",({payload:s})=>{n=ea(s,e),o=n?e[n]:{},r.store.touch()}),r.on("prop:label",()=>r.store.touch()),r.on("prop:validationLabel",()=>r.store.touch()),r.hook.text((s,a)=>{const i=s.meta?.messageKey||s.key;if(X(o,s.type)&&X(o[s.type],i)){const l=o[s.type][i];typeof l=="function"?s.value=Array.isArray(s.meta?.i18nArgs)?l(...s.meta.i18nArgs):l(s):s.value=l}return a(s)})}}function ea(e,t){if(X(t,e))return e;const[r]=e.split("-");if(X(t,r))return r;for(const n in t)return n;return!1}function _f(...e){const t=e.reduce((n,o)=>yt(n,o),{}),r=()=>{};return r.library=function(n){const o=Jt(n.props.type);X(t,o)&&n.define(t[o])},r}var kf=["classes","config","delay","errors","id","index","inputErrors","library","modelValue","onUpdate:modelValue","name","number","parent","plugins","sectionsSchema","type","validation","validationLabel","validationMessages","validationRules","onInput","onInputRaw","onUpdate:modelValue","onNode","onSubmit","onSubmitInvalid","onSubmitRaw"];function Kn(e){return e&&typeof e=="object"&&"group"in e&&Array.isArray(e.options)}function xn(e,t={count:1}){return Array.isArray(e)?e.map(r=>{if(typeof r=="string"||typeof r=="number")return{label:String(r),value:String(r)};if(typeof r=="object"){if("group"in r)return r.options=xn(r.options||[],t),r;"value"in r&&typeof r.value!="string"&&Object.assign(r,{value:`__mask_${t.count++}`,__original:r.value})}return r}):Object.keys(e).map(r=>({label:e[r],value:r}))}function Et(e,t,r=!1){if(Array.isArray(e)){for(const n of e)if(!(typeof n!="object"&&n)){if(Kn(n)){const o=Et(n.options,t,!0);if(o!==void 0)return o}else if(t==n.value)return"__original"in n?n.__original:n.value}}return r?void 0:t}function or(e,t){return e===null&&t===void 0||e===void 0&&t===null?!1:e==t?!0:$t(e)&&$t(t)?K(e,t):!1}function ft(e){e.hook.prop((t,r)=>{var n;return t.prop==="options"&&(typeof t.value=="function"?(e.props.optionsLoader=t.value,t.value=[]):((n=e.props)._normalizeCounter??(n._normalizeCounter={count:1}),t.value=xn(t.value,e.props._normalizeCounter))),r(t)})}function G(e,t,r=!1){return(...n)=>{const o=s=>{const a=!t||typeof t=="string"?{$el:t}:t();return(It(a)||Or(a))&&(a.meta?a.meta.section=e:a.meta={section:e},n.length&&!a.children&&(a.children=[...n.map(i=>typeof i=="function"?i(s):i)]),It(a)&&(a.attrs={class:`$classes.${e}`,...a.attrs||{}})),{if:`$slots.${e}`,then:`$slots.${e}`,else:e in s?Lt(a,s[e]):a}};return o._s=e,r?Sf(o):o}}function Sf(e){return t=>[e(t)]}function Pr(e){return!!(e&&typeof e=="object"&&("$el"in e||"$cmp"in e||"$formkit"in e))}function Lt(e,t={}){return typeof e=="string"?Pr(t)||typeof t=="string"?t:e:Array.isArray(e)?Pr(t)?t:e:yt(e,t)}var Df=G("actions",()=>({$el:"div",if:"$actions"})),wn=G("input",()=>({$el:"input",bind:"$attrs",attrs:{type:"$type",name:"$node.props.altName || $node.name",disabled:"$option.attrs.disabled || $disabled",onInput:"$handlers.toggleChecked",checked:"$fns.eq($_value, $onValue)",onBlur:"$handlers.blur",value:"$: true",id:"$id","aria-describedby":{if:"$options.length",then:{if:"$option.help",then:'$: "help-" + $option.attrs.id',else:void 0},else:{if:"$help",then:'$: "help-" + $id',else:void 0}}}})),pl=G("optionHelp",()=>({$el:"div",if:"$option.help",attrs:{id:'$: "help-" + $option.attrs.id'}})),_n=G("inner","span"),kn=G("label","span"),ul=G("option",()=>({$el:"li",for:["option","$options"],attrs:{"data-disabled":"$option.attrs.disabled || $disabled || undefined"}})),cl=G("options","ul"),Sn=G("wrapper",()=>({$el:"label",attrs:{"data-disabled":{if:"$options.length",then:void 0,else:"$disabled || undefined"},"data-checked":{if:"$options == undefined",then:"$fns.eq($_value, $onValue) || undefined",else:"$fns.isChecked($option.value) || undefined"}}})),Cf=G("input",()=>({$el:"button",bind:"$attrs",attrs:{type:"$type",disabled:"$disabled",name:"$node.name",id:"$id"}})),Lf=G("default",null),Dn=G("decorator",()=>({$el:"span",attrs:{"aria-hidden":"true"}})),dl=G("fieldset",()=>({$el:"fieldset",attrs:{id:"$id","aria-describedby":{if:"$help",then:'$: "help-" + $id',else:void 0}}})),Af=G("input",()=>({$el:"input",bind:"$attrs",attrs:{type:"file",disabled:"$disabled",name:"$node.name",onChange:"$handlers.files",onBlur:"$handlers.blur",id:"$id","aria-describedby":"$describedBy","aria-required":"$state.required || undefined"}})),Tf=G("fileItem",()=>({$el:"li",for:["file","$value"]})),If=G("fileList",()=>({$el:"ul",if:"$value.length",attrs:{"data-has-multiple":"$_hasMultipleFiles"}})),Ef=G("fileName",()=>({$el:"span",attrs:{class:"$classes.fileName"}})),ta=G("fileRemove",()=>({$el:"button",attrs:{type:"button",onClick:"$handlers.resetFiles"}})),Mf=G("form",()=>({$el:"form",bind:"$attrs",meta:{autoAnimate:!0},attrs:{id:"$id",name:"$node.name",onSubmit:"$handlers.submit","data-loading":"$state.loading || undefined"}})),xs=G("wrapper",null,!0),pt=G("help",()=>({$el:"div",if:"$help",attrs:{id:'$: "help-" + $id'}})),ye=(e,t)=>G(`${e}Icon`,()=>{const r=`_raw${e.charAt(0).toUpperCase()}${e.slice(1)}Icon`;return{if:`$${e}Icon && $${r}`,$el:`${t||"span"}`,attrs:{class:`$classes.${e}Icon + " " + $classes.icon`,innerHTML:`$${r}`,onClick:`$handlers.iconClick(${e})`,role:`$fns.iconRole(${e})`,tabindex:`$fns.iconRole(${e}) === "button" && "0" || undefined`,for:{if:`${t==="label"}`,then:"$id"}}}})(),jn=G("inner","div"),Yn=G("label",()=>({$el:"label",if:"$label",attrs:{for:"$id"}})),fl=G("legend",()=>({$el:"legend",if:"$label"})),wt=G("message",()=>({$el:"li",for:["message","$messages"],attrs:{key:"$message.key",id:"$id + '-' + $message.key","data-message-type":"$message.type"}})),_t=G("messages",()=>({$el:"ul",if:"$defaultMessagePlacement && $fns.length($messages)"})),Of=G("noFiles",()=>({$el:"span",if:"$value == null || $value.length == 0"})),Pf=G("optGroup",()=>({$el:"optgroup",bind:"$option.attrs",attrs:{label:"$option.group"}})),ra=G("option",()=>({$el:"option",bind:"$option.attrs",attrs:{class:"$classes.option",value:"$option.value",selected:"$fns.isSelected($option)"}})),na=G("options",()=>({$el:null,if:"$options.length",for:["option","$option.options || $options"]})),Pt=G("outer",()=>({$el:"div",meta:{autoAnimate:!0},attrs:{key:"$id","data-family":"$family || undefined","data-type":"$type","data-multiple":'$attrs.multiple || ($type != "select" && $options != undefined) || undefined',"data-has-multiple":"$_hasMultipleFiles","data-disabled":'$: ($disabled !== "false" && $disabled) || undefined',"data-empty":"$state.empty || undefined","data-complete":"$state.complete || undefined","data-invalid":"$state.invalid || undefined","data-errors":"$state.errors || undefined","data-submitted":"$state.submitted || undefined","data-prefix-icon":"$_rawPrefixIcon !== undefined || undefined","data-suffix-icon":"$_rawSuffixIcon !== undefined || undefined","data-prefix-icon-click":"$onPrefixIconClick !== undefined || undefined","data-suffix-icon-click":"$onSuffixIconClick !== undefined || undefined"}})),ut=G("prefix",null),Vf=G("input",()=>({$el:"select",bind:"$attrs",attrs:{id:"$id","data-placeholder":"$fns.showPlaceholder($_value, $placeholder)",disabled:"$disabled",class:"$classes.input",name:"$node.name",onChange:"$handlers.onChange",onInput:"$handlers.selectInput",onBlur:"$handlers.blur","aria-describedby":"$describedBy","aria-required":"$state.required || undefined"}})),Ff=G("submit",()=>({$cmp:"FormKit",bind:"$submitAttrs",props:{type:"submit",label:"$submitLabel"}})),ct=G("suffix",null),ml=G("input",()=>({$el:"input",bind:"$attrs",attrs:{type:"$type",disabled:"$disabled",name:"$node.name",onInput:"$handlers.DOMInput",onBlur:"$handlers.blur",value:"$_value",id:"$id","aria-describedby":"$describedBy","aria-required":"$state.required || undefined"}})),Nf=G("input",()=>({$el:"textarea",bind:"$attrs",attrs:{disabled:"$disabled",name:"$node.name",onInput:"$handlers.DOMInput",onBlur:"$handlers.blur",value:"$_value",id:"$id","aria-describedby":"$describedBy","aria-required":"$state.required || undefined"},children:"$initialValue"})),Yr=G("wrapper","div"),Bf=0;function hl(e){(e.type==="group"||e.type==="list")&&e.plugins.add(Rf)}function Rf(e){e.props.type==="radio"&&(e.addProps(["altName"]),e.props.altName=`${e.name}_${Bf++}`)}function gl(e){return function(t,r){return t.prop==="options"&&Array.isArray(t.value)&&(t.value=t.value.map(n=>n.attrs?.id?n:yt(n,{attrs:{id:`${e.props.id}-option-${fs(String(n.value))}`}})),e.props.type==="checkbox"&&!Array.isArray(e.value)&&(e.isCreated?e.input([],!1):e.on("created",()=>{Array.isArray(e.value)||e.input([],!1)}))),r(t)}}function Hf(e,t){const r=t.target;if(r instanceof HTMLInputElement){const n=Array.isArray(e.props.options)?Et(e.props.options,r.value):r.value;Array.isArray(e.props.options)&&e.props.options.length?Array.isArray(e._value)?e._value.some(o=>or(n,o))?e.input(e._value.filter(o=>!or(n,o))):e.input([...e._value,n]):e.input([n]):r.checked?e.input(e.props.onValue):e.input(e.props.offValue)}}function Wf(e,t){return e.context?.value,e.context?._value,Array.isArray(e._value)?e._value.some(r=>or(Et(e.props.options,t),r)):!1}function Kf(e){e.on("created",()=>{e.context?.handlers&&(e.context.handlers.toggleChecked=Hf.bind(null,e)),e.context?.fns&&(e.context.fns.isChecked=Wf.bind(null,e)),X(e.props,"onValue")||(e.props.onValue=!0),X(e.props,"offValue")||(e.props.offValue=!1)}),e.hook.prop(gl(e))}function re(e,t){return r=>{r.props[`${e}Icon`]===void 0&&(r.props[`${e}Icon`]=t.startsWith("<svg")?t:`default:${t}`)}}function Zn(e){e.on("created",()=>{"disabled"in e.props&&(e.props.disabled=W(e.props.disabled),e.config.disabled=W(e.props.disabled))}),e.hook.prop(({prop:t,value:r},n)=>(r=t==="disabled"?W(r):r,n({prop:t,value:r}))),e.on("prop:disabled",({payload:t})=>{e.config.disabled=W(t)})}function le(e,t){return r=>{r.store.set(be({key:e,type:"ui",value:t||e,meta:{localize:!0,i18nArgs:[r]}}))}}var so=typeof window<"u";function vl(e){e.target instanceof HTMLElement&&e.target.hasAttribute("data-file-hover")&&e.target.removeAttribute("data-file-hover")}function oa(e,t){t.target instanceof HTMLInputElement?e==="dragover"&&t.target.setAttribute("data-file-hover","true"):t.preventDefault(),e==="drop"&&vl(t)}function jf(e){le("noFiles","Select file")(e),le("removeAll","Remove all")(e),le("remove")(e),e.addProps(["_hasMultipleFiles"]),so&&(window._FormKit_File_Drop||(window.addEventListener("dragover",oa.bind(null,"dragover")),window.addEventListener("drop",oa.bind(null,"drop")),window.addEventListener("dragleave",vl),window._FormKit_File_Drop=!0)),e.hook.input((t,r)=>r(Array.isArray(t)?t:[])),e.on("input",({payload:t})=>{e.props._hasMultipleFiles=Array.isArray(t)&&t.length>1?!0:void 0}),e.on("reset",()=>{if(e.props.id&&so){const t=document.getElementById(e.props.id);t&&(t.value="")}}),e.on("created",()=>{Array.isArray(e.value)||e.input([],!1),e.context&&(e.context.handlers.resetFiles=t=>{if(t.preventDefault(),e.input([]),e.props.id&&so){const r=document.getElementById(e.props.id);r&&(r.value=""),r?.focus()}},e.context.handlers.files=t=>{const r=[];if(t.target instanceof HTMLInputElement&&t.target.files){for(let n=0;n<t.target.files.length;n++){let o;(o=t.target.files.item(n))&&r.push({name:o.name,file:o})}e.input(r)}e.context&&(e.context.files=r),typeof e.props.attrs?.onChange=="function"&&e.props.attrs?.onChange(t)})})}var sa=be({key:"loading",value:!0,visible:!1});async function Yf(e,t){const r=Math.random();if(e.props._submitNonce=r,t.preventDefault(),await e.settled,e.ledger.value("validating")&&(e.store.set(sa),await e.ledger.settled("validating"),e.store.remove("loading"),e.props._submitNonce!==r))return;const n=o=>o.store.set(be({key:"submitted",value:!0,visible:!1}));if(e.walk(n),n(e),e.emit("submit-raw"),typeof e.props.onSubmitRaw=="function"&&e.props.onSubmitRaw(t,e),e.ledger.value("blocking"))typeof e.props.onSubmitInvalid=="function"&&e.props.onSubmitInvalid(e),e.props.incompleteMessage!==!1&&$l(e);else if(typeof e.props.onSubmit=="function"){const o=e.props.onSubmit(e.hook.submit.dispatch(bt(e.value)),e);if(o instanceof Promise){const s=e.props.disabled===void 0&&e.props.submitBehavior!=="live";s&&(e.props.disabled=!0),e.store.set(sa),await o,s&&(e.props.disabled=!1),e.store.remove("loading")}}else t.target instanceof HTMLFormElement&&t.target.submit()}function $l(e){e.store.set(be({blocking:!1,key:"incomplete",meta:{localize:e.props.incompleteMessage===void 0,i18nArgs:[{node:e}],showAsMessage:!0},type:"ui",value:e.props.incompleteMessage||"Form incomplete."}))}function Zf(e){var t;e.props.isForm=!0,e.ledger.count("validating",r=>r.key==="validating"),(t=e.props).submitAttrs??(t.submitAttrs={disabled:e.props.disabled}),e.on("prop:disabled",({payload:r})=>{e.props.submitAttrs={...e.props.submitAttrs,disabled:r}}),e.on("created",()=>{e.context?.handlers&&(e.context.handlers.submit=Yf.bind(null,e)),X(e.props,"actions")||(e.props.actions=!0)}),e.on("prop:incompleteMessage",()=>{e.store.incomplete&&$l(e)}),e.on("settled:blocking",()=>e.store.remove("incomplete"))}function Uf(e){e.props.ignore===void 0&&(e.props.ignore=!0,e.parent=null)}function qf(e){e.on("created",()=>{e.context&&(e.context.initialValue=e.value||"")})}function yl(e){if(typeof e.props.number>"u")return;const t=["number","range","hidden"].includes(e.props.type);e.hook.input((r,n)=>{if(r==="")return n(void 0);const o=e.props.number==="integer"?parseInt(r):parseFloat(r);return Number.isFinite(o)?n(o):n(t?void 0:r)})}function zf(e,t){t.target instanceof HTMLInputElement&&e.input(Et(e.props.options,t.target.value))}function Gf(e,t){return e.context?.value,e.context?._value,or(Et(e.props.options,t),e._value)}function Xf(e){e.on("created",()=>{Array.isArray(e.props.options)||xt(350,{node:e,inputType:"radio"}),e.context?.handlers&&(e.context.handlers.toggleChecked=zf.bind(null,e)),e.context?.fns&&(e.context.fns.isChecked=Gf.bind(null,e))}),e.hook.prop(gl(e))}function Jf(e,t){if(Kn(t))return!1;e.context&&e.context.value;const r="__original"in t?t.__original:t.value;return Array.isArray(e._value)?e._value.some(n=>or(n,r)):(e._value===void 0||e._value===null&&!bl(e.props.options,null))&&t.attrs&&t.attrs["data-is-placeholder"]?!0:or(r,e._value)}function bl(e,t){return e.some(r=>Kn(r)?bl(r.options,t):("__original"in r?r.__original:r.value)===t)}async function Qf(e,t){typeof e.props.attrs?.onChange=="function"&&(await new Promise(r=>setTimeout(r,0)),await e.settled,e.props.attrs.onChange(t))}function em(e,t){const r=t.target,n=r.hasAttribute("multiple")?Array.from(r.selectedOptions).map(o=>Et(e.props.options,o.value)):Et(e.props.options,r.value);e.input(n)}function aa(e,t){return e.some(r=>r.attrs&&r.attrs["data-is-placeholder"])?e:[{label:t,value:"",attrs:{hidden:!0,disabled:!0,"data-is-placeholder":"true"}},...e]}function xl(e){const t=e.length>0?e[0]:void 0;if(t)return Kn(t)?xl(t.options):"__original"in t?t.__original:t.value}function tm(e){e.on("created",()=>{const t=W(e.props.attrs?.multiple);!t&&e.props.placeholder&&Array.isArray(e.props.options)&&(e.hook.prop(({prop:r,value:n},o)=>(r==="options"&&(n=aa(n,e.props.placeholder)),o({prop:r,value:n}))),e.props.options=aa(e.props.options,e.props.placeholder)),t?e.value===void 0&&e.input([],!1):e.context&&!e.context.options&&(e.props.attrs=Object.assign({},e.props.attrs,{value:e._value}),e.on("input",({payload:r})=>{e.props.attrs=Object.assign({},e.props.attrs,{value:r})})),e.context?.handlers&&(e.context.handlers.selectInput=em.bind(null,e),e.context.handlers.onChange=Qf.bind(null,e)),e.context?.fns&&(e.context.fns.isSelected=Jf.bind(null,e),e.context.fns.showPlaceholder=(r,n)=>{if(!Array.isArray(e.props.options))return!1;const o=e.props.options.some(s=>{if(s.attrs&&"data-is-placeholder"in s.attrs)return!1;const a="__original"in s?s.__original:s.value;return K(r,a)});return n&&!o?!0:void 0})}),e.hook.input((t,r)=>(!e.props.placeholder&&t===void 0&&Array.isArray(e.props?.options)&&e.props.options.length&&!W(e.props?.attrs?.multiple)&&(t=xl(e.props.options)),r(t)))}function Vr(e){return!!(Yt(e)&&e.if&&e.if.startsWith("$slots.")&&typeof e.then=="string"&&e.then.startsWith("$slots.")&&"else"in e)}function nt(e,t,r){const n=o=>{const s=t(o);if(r||Pr(s)&&"if"in s||Vr(s)){const a={if:e,then:s};return r&&(a.else=r(o)),a}else Vr(s)?Object.assign(s.else,{if:e}):Pr(s)&&Object.assign(s,{if:e});return s};return n._s=fr(),n}function Qt(e,t){const r=n=>{const o=e({});return Vr(o)?(Array.isArray(o.else)||(o.else=Lt(Lt(o.else,t),e._s?n[e._s]:{})),o):Lt(Lt(o,t),e._s?n[e._s]:{})};return r._s=e._s,r}var ia={schema:Pt(_t(wt("$message.value")),Yr(Cf(ye("prefix"),ut(),Lf("$label || $ui.submit.value"),ct(),ye("suffix"))),pt("$help")),type:"input",family:"button",props:[],features:[le("submit"),Uf],schemaMemoKey:"h6st4epl3j8"},rm={schema:Pt(nt("$options == undefined",Sn(_n(ut(),wn(),Dn(ye("decorator")),ct()),Qt(kn("$label"),{if:"$label"})),dl(fl("$label"),pt("$help"),cl(ul(Sn(_n(ut(),Qt(wn(),{bind:"$option.attrs",attrs:{id:"$option.attrs.id",value:"$option.value",checked:"$fns.isChecked($option.value)"}}),Dn(ye("decorator")),ct()),Qt(kn("$option.label"),{if:"$option.label"})),pl("$option.help"))))),nt("$options == undefined && $help",pt("$help")),_t(wt("$message.value"))),type:"input",family:"box",props:["options","onValue","offValue","optionsLoader"],features:[ft,Kf,re("decorator","checkboxDecorator")],schemaMemoKey:"qje02tb3gu8"},nm={schema:Pt(Yr(Yn("$label"),jn(ye("prefix","label"),ut(),Af(),If(Tf(ye("fileItem"),Ef("$file.name"),nt("$value.length === 1",ta(ye("fileRemove"),'$ui.remove.value + " " + $file.name')))),nt("$value.length > 1",ta("$ui.removeAll.value")),Of(ye("noFiles"),"$ui.noFiles.value"),ct(),ye("suffix"))),pt("$help"),_t(wt("$message.value"))),type:"input",family:"text",props:[],features:[jf,re("fileItem","fileItem"),re("fileRemove","fileRemove"),re("noFiles","noFiles")],schemaMemoKey:"9kqc4852fv8"},om={schema:Mf("$slots.default",_t(wt("$message.value")),Df(Ff())),type:"group",props:["actions","submit","submitLabel","submitAttrs","submitBehavior","incompleteMessage"],features:[Zf,Zn],schemaMemoKey:"5bg016redjo"},sm={schema:xs("$slots.default"),type:"group",props:[],features:[Zn,hl]},am={schema:ml(),type:"input",props:[],features:[yl]},im={schema:xs("$slots.default"),type:"list",props:["sync","dynamic"],features:[Zn,hl]},lm={schema:xs(),type:"input",props:[],features:[]},pm={schema:Pt(nt("$options == undefined",Sn(_n(ut(),wn(),Dn(ye("decorator")),ct()),Qt(kn("$label"),{if:"$label"})),dl(fl("$label"),pt("$help"),cl(ul(Sn(_n(ut(),Qt(wn(),{bind:"$option.attrs",attrs:{id:"$option.attrs.id",value:"$option.value",checked:"$fns.isChecked($option.value)"}}),Dn(ye("decorator")),ct()),Qt(kn("$option.label"),{if:"$option.label"})),pl("$option.help"))))),nt("$options == undefined && $help",pt("$help")),_t(wt("$message.value"))),type:"input",family:"box",props:["options","onValue","offValue","optionsLoader"],features:[ft,Xf,re("decorator","radioDecorator")],schemaMemoKey:"qje02tb3gu8"},um={schema:Pt(Yr(Yn("$label"),jn(ye("prefix"),ut(),Vf(nt("$slots.default",()=>"$slots.default",na(nt("$option.group",Pf(na(ra("$option.label"))),ra("$option.label"))))),nt("$attrs.multiple !== undefined",()=>"",ye("select")),ct(),ye("suffix"))),pt("$help"),_t(wt("$message.value"))),type:"input",props:["options","placeholder","optionsLoader"],features:[ft,tm,re("select","select")],schemaMemoKey:"cb119h43krg"},cm={schema:Pt(Yr(Yn("$label"),jn(ye("prefix","label"),ut(),Nf(),ct(),ye("suffix"))),pt("$help"),_t(wt("$message.value"))),type:"input",props:[],features:[qf],schemaMemoKey:"b1n0td79m9g"},Le={schema:Pt(Yr(Yn("$label"),jn(ye("prefix","label"),ut(),ml(),ct(),ye("suffix"))),pt("$help"),_t(wt("$message.value"))),type:"input",family:"text",props:[],features:[yl],schemaMemoKey:"c3cc4kflsg"},dm={button:ia,submit:ia,checkbox:rm,file:nm,form:om,group:sm,hidden:am,list:im,meta:lm,radio:pm,select:um,textarea:cm,text:Le,color:Le,date:Le,datetimeLocal:Le,email:Le,month:Le,number:Le,password:Le,search:Le,tel:Le,time:Le,url:Le,week:Le,range:Le},Fr=void 0,Rt=null,Cn,wl=!1,Cr=!1,fm=new Promise(e=>{Cn=()=>{wl=!0,e()}}),ot=typeof window<"u"&&typeof fetch<"u";Fr=ot?getComputedStyle(document.documentElement):void 0;var zt={},ao={};function mm(e,t,r,n){t&&Object.assign(zt,t),ot&&!Cr&&Fr?.getPropertyValue("--formkit-theme")?(Cn(),Cr=!0):e&&!Cr&&ot?hm(e):!Cr&&ot&&Cn();const o=function(a){a.addProps(["iconLoader","iconLoaderUrl"]),a.props.iconHandler=la(a.props?.iconLoader?a.props.iconLoader:n,a.props?.iconLoaderUrl?a.props.iconLoaderUrl:r),$m(a,a.props.iconHandler),a.on("created",()=>{a?.context?.handlers&&(a.context.handlers.iconClick=i=>{const l=`on${i.charAt(0).toUpperCase()}${i.slice(1)}IconClick`,p=a.props[l];if(p&&typeof p=="function")return u=>p(a,u)}),a?.context?.fns&&(a.context.fns.iconRole=i=>{const l=`on${i.charAt(0).toUpperCase()}${i.slice(1)}IconClick`;return typeof a.props[l]=="function"?"button":null})})};return o.iconHandler=la(n,r),o}function hm(e){if(!(!e||!ot||typeof getComputedStyle!="function")&&(Cr=!0,Rt=document.getElementById("formkit-theme"),e&&ot&&(!Fr?.getPropertyValue("--formkit-theme")&&!Rt||Rt?.getAttribute("data-theme")&&Rt?.getAttribute("data-theme")!==e))){const r=`https://cdn.jsdelivr.net/npm/@formkit/themes@${bn.startsWith("__")?"latest":bn}/dist/${e}/theme.css`,n=document.createElement("link");n.type="text/css",n.rel="stylesheet",n.id="formkit-theme",n.setAttribute("data-theme",e),n.onload=()=>{Fr=getComputedStyle(document.documentElement),Cn()},document.head.appendChild(n),n.href=r,Rt&&Rt.remove()}}function la(e,t){return r=>{if(typeof r!="string")return;if(r.startsWith("<svg"))return r;const n=r.startsWith("default:");r=n?r.split(":")[1]:r;const o=r in zt;let s;if(o)return zt[r];if(!ao[r]){if(s=gm(r),s=ot&&typeof s>"u"?Promise.resolve(s):s,s instanceof Promise)ao[r]=s.then(a=>!a&&typeof r=="string"&&!n?s=typeof e=="function"?e(r):vm(r,t):a).then(a=>(typeof r=="string"&&(zt[n?`default:${r}`:r]=a),a));else if(typeof s=="string")return zt[n?`default:${r}`:r]=s,s}return ao[r]}}function gm(e){if(ot)return wl?pa(e):fm.then(()=>pa(e))}function pa(e){const t=Fr?.getPropertyValue(`--fk-icon-${e}`);if(t){const r=atob(t);if(r.startsWith("<svg"))return zt[e]=r,r}}function vm(e,t){const r=bn.startsWith("__")?"latest":bn,n=typeof t=="function"?t(e):`https://cdn.jsdelivr.net/npm/@formkit/icons@${r}/dist/icons/${e}.svg`;if(ot)return fetch(`${n}`).then(async o=>{const s=await o.text();if(s.startsWith("<svg"))return s}).catch(o=>{console.error(o)})}function $m(e,t){const r=/^[a-zA-Z-]+(?:-icon|Icon)$/;Object.keys(e.props).filter(o=>r.test(o)).forEach(o=>ym(e,t,o))}function ym(e,t,r){const n=e.props[r],o=t(n),s=`_raw${r.charAt(0).toUpperCase()}${r.slice(1)}`,a=`on${r.charAt(0).toUpperCase()}${r.slice(1)}Click`;if(e.addProps([s,a]),e.on(`prop:${r}`,bm),o instanceof Promise)return o.then(i=>{e.props[s]=i});e.props[s]=o}function bm(e){const t=e.origin,r=e.payload,n=t?.props?.iconHandler,o=e.name.split(":")[1],s=`_raw${o.charAt(0).toUpperCase()}${o.slice(1)}`;if(n&&typeof n=="function"){const a=n(r);if(a instanceof Promise)return a.then(i=>{t.props[s]=i});t.props[s]=a}}var ua={100:({data:e})=>`Only groups, lists, and forms can have children (${e.name}).`,101:({data:e})=>`You cannot directly modify the store (${e.name}). See: https://formkit.com/advanced/core#message-store`,102:({data:[e,t]})=>`You cannot directly assign node.${t} (${e.name})`,103:({data:[e]})=>`Schema expressions cannot start with an operator (${e})`,104:({data:[e,t]})=>`Schema expressions cannot end with an operator (${e} in "${t}")`,105:({data:e})=>`Invalid schema expression: ${e}`,106:({data:e})=>`Cannot submit because (${e}) is not in a form.`,107:({data:[e,t]})=>`Cannot set ${e.name} to non object value: ${t}`,108:({data:[e,t]})=>`Cannot set ${e.name} to non array value: ${t}`,300:({data:[e]})=>`Cannot set behavior prop to overscroll (on ${e.name} input) when options prop is a function.`,600:({data:e})=>`Unknown input type${typeof e.props.type=="string"?' "'+e.props.type+'"':""} ("${e.name}")`,601:({data:e})=>`Input definition${typeof e.props.type=="string"?' "'+e.props.type+'"':""} is missing a schema or component property (${e.name}).`},ca={150:({data:e})=>`Schema function "${e}()" is not a valid function.`,151:({data:e})=>`No form element with id: ${e}`,152:({data:e})=>`No input element with id: ${e}`,350:({data:{node:e,inputType:t}})=>`Invalid options prop for ${e.name} input (${t}). See https://formkit.com/inputs/${t}`,650:'Schema "$get()" must use the id of an input to access.',651:({data:e})=>`Cannot setErrors() on "${e}" because no such id exists.`,652:({data:e})=>`Cannot clearErrors() on "${e}" because no such id exists.`,800:({data:e})=>`${e} is deprecated.`},xm=(e,t)=>{if(e.code in ua){const r=ua[e.code];e.message=typeof r=="function"?r(e):r}return t(e)},da=!1;function wm(){da||(hs(xm),gs(_m),da=!0)}var _m=(e,t)=>{if(e.code in ca){const r=ca[e.code];e.message=typeof r=="function"?r(e):r}return t(e)},km=Object.defineProperty,Sm=Object.getOwnPropertyNames,_l=(e,t)=>function(){return e&&(t=(0,e[Sm(e)[0]])(e=0)),t},Dm=(e,t)=>{for(var r in t)km(e,r,{get:t[r],enumerable:!0})},fa,kl,Sl=_l({"packages/vue/src/bindings.ts"(){fa=function(t){t.ledger.count("blocking",v=>v.blocking);const r=O.ref(!t.ledger.value("blocking"));t.ledger.count("errors",v=>v.type==="error");const n=O.ref(!!t.ledger.value("errors"));let o=!1;O.nextTick(()=>{o=!0});const s=O.reactive(t.store.reduce((v,T)=>(T.visible&&(v[T.key]=T),v),{})),a=O.ref(t.props.validationVisibility||(t.props.type==="checkbox"?"dirty":"blur"));t.on("prop:validationVisibility",({payload:v})=>{a.value=v});const i=O.ref(a.value==="live"),l=O.ref(!1),p=v=>{l.value=(v??[]).some(T=>T.name==="required")};p(t.props.parsedRules),t.on("prop:parsedRules",({payload:v})=>p(v));const u=O.ref(t.children.map(v=>v.uid)),c=O.computed(()=>{if(!D.state)return!1;if(D.state.submitted)return!0;if(!i.value&&!D.state.settled)return!1;switch(a.value){case"live":return!0;case"blur":return D.state.blurred;case"dirty":return D.state.dirty;default:return!1}}),f=O.computed(()=>D.state.failing&&c.value),d=O.computed(()=>D&&$.value?r.value&&!n.value:D.state.dirty&&!Be(D.value)),$=O.ref(Array.isArray(t.props.parsedRules)&&t.props.parsedRules.length>0);t.on("prop:parsedRules",({payload:v})=>{$.value=Array.isArray(v)&&v.length>0});const h=O.computed(()=>{const v={};for(const T in s){const N=s[T];(N.type!=="validation"||c.value)&&(v[T]=N)}return v}),y=O.reactive(t.store.reduce((v,T)=>(T.type==="ui"&&T.visible&&(v[T.key]=T),v),{})),m=O.computed(()=>!D.state.failing),S=O.reactive({}),g=new Proxy(S,{get(...v){if(!t)return"";const[T,N]=v;let q=Reflect.get(...v);return!q&&typeof N=="string"&&!X(T,N)&&!N.startsWith("__v")&&Wn(t).watch(U=>{const ue=typeof U.config.rootClasses=="function"?U.config.rootClasses(N,U):{},ge=U.config.classes?fn(N,U,U.config.classes[N]):{},De=fn(N,U,U.props[`_${N}Class`]),te=fn(N,U,U.props[`${N}Class`]);q=Fc(U,N,ue,ge,De,te),T[N]=q??""}),q}});t.on("prop:rootClasses",()=>{const v=Object.keys(S);for(const T of v)delete S[T]});const _=O.computed(()=>{if(!t)return;const v=[];D.help&&v.push(`help-${t.props.id}`);for(const T in h.value)v.push(`${t.props.id}-${T}`);return v.length?v.join(" "):void 0}),C=O.ref(t.value),k=O.ref(t.value),D=O.reactive({_value:k,attrs:t.props.attrs,disabled:t.props.disabled,describedBy:_,fns:{length:v=>Object.keys(v).length,number:v=>Number(v),string:v=>String(v),json:v=>JSON.stringify(v),eq:K},handlers:{blur:v=>{t&&(t.store.set(be({key:"blurred",visible:!1,value:!0})),typeof t.props.attrs.onBlur=="function"&&t.props.attrs.onBlur(v))},touch:()=>{const v=D.dirtyBehavior==="compare";if(t.store.dirty?.value&&!v)return;const T=!K(t.props._init,t._value);!T&&!v||t.store.set(be({key:"dirty",visible:!1,value:T}))},DOMInput:v=>{t.input(v.target.value),t.emit("dom-input-event",v)}},help:t.props.help,id:t.props.id,items:u,label:t.props.label,messages:h,didMount:!1,node:O.markRaw(t),options:t.props.options,defaultMessagePlacement:!0,slots:t.props.__slots,state:{blurred:!1,complete:d,dirty:!1,empty:Be(C),submitted:!1,settled:t.isSettled,valid:r,invalid:f,errors:n,rules:$,validationVisible:c,required:l,failing:!1,passing:m},type:t.props.type,family:t.props.family,ui:y,value:C,classes:g});t.on("created",()=>{K(D.value,t.value)||(k.value=t.value,C.value=t.value,O.triggerRef(C),O.triggerRef(k)),(async()=>(await t.settled,t&&(t.props._init=We(t.value))))()}),t.on("mounted",()=>{D.didMount=!0}),t.on("settled",({payload:v})=>{D.state.settled=v});function w(v){(Array.isArray(v)?v:Object.keys(v)).forEach(N=>{N=Jt(N),X(D,N)||(D[N]=t.props[N]),t.on(`prop:${N}`,({payload:q})=>{D[N]=q})})}w((()=>{const v=["__root","help","label","disabled","options","type","attrs","preserve","preserveErrors","id","dirtyBehavior"],T=/^[a-zA-Z-]+(?:-icon|Icon)$/,N=Object.keys(t.props).filter(q=>T.test(q));return v.concat(N)})());function x(v){v.props&&w(v.props)}t.props.definition&&x(t.props.definition),t.on("added-props",({payload:v})=>w(v)),t.on("input",({payload:v})=>{t.type!=="input"&&!O.isRef(v)&&!O.isReactive(v)?k.value=Bo(v):(k.value=v,O.triggerRef(k))}),t.on("commitRaw",({payload:v})=>{t.type!=="input"&&!O.isRef(v)&&!O.isReactive(v)?C.value=k.value=Bo(v):(C.value=k.value=v,O.triggerRef(C)),t.emit("modelUpdated")}),t.on("commit",({payload:v})=>{if((!D.state.dirty||D.dirtyBehavior==="compare")&&t.isCreated&&o)if(!t.store.validating?.value)D.handlers.touch();else{const T=t.on("message-removed",({payload:N})=>{N.key==="validating"&&(D.handlers.touch(),t.off(T))})}d&&t.type==="input"&&n.value&&!W(t.props.preserveErrors)&&t.store.filter(T=>!(T.type==="error"&&T.meta?.autoClear===!0)),t.type==="list"&&t.sync&&(u.value=t.children.map(T=>T.uid)),D.state.empty=Be(v)});const b=async v=>{v.type==="ui"&&v.visible&&!v.meta.showAsMessage?y[v.key]=v:v.visible?s[v.key]=v:v.type==="state"&&(D.state[v.key]=!!v.value)};t.on("message-added",v=>b(v.payload)),t.on("message-updated",v=>b(v.payload)),t.on("message-removed",({payload:v})=>{delete y[v.key],delete s[v.key],delete D.state[v.key]}),t.on("settled:blocking",()=>{r.value=!0}),t.on("unsettled:blocking",()=>{r.value=!1}),t.on("settled:errors",()=>{n.value=!1}),t.on("unsettled:errors",()=>{n.value=!0}),O.watch(c,v=>{v&&(i.value=!0)}),t.context=D,t.emit("context",t,!1),t.on("destroyed",()=>{t.context=void 0,t=null})},kl=fa}}),Cm={};Dm(Cm,{defaultConfig:()=>ws});var ws,Lm=_l({"packages/vue/src/defaultConfig.ts"(){Sl(),ws=(e={})=>{wm();const{rules:t={},locales:r={},inputs:n={},messages:o={},locale:s=void 0,theme:a=void 0,iconLoaderUrl:i=void 0,iconLoader:l=void 0,icons:p={},...u}=e,c=of({...nf,...t||{}}),f=wf(yt({en:xf,...r||{}},o)),d=_f(dm,n),$=mm(a,p,i,l);return yt({plugins:[d,$,kl,f,c],...s?{config:{locale:s}}:{}},u||{},!0)}}}),Am=typeof window>"u",io=new Map;function Tm(e,t){!Am||!e||(io.has(e)||io.set(e,new Set),io.get(e)?.add(t))}var Dl=typeof window>"u",Lr={},er={},ke,Ne=new WeakMap,Im="__raw__",Em=/[a-zA-Z0-9\-][cC]lass$/;function Mm(e,t){const r=O.ref(null);if(e==="get"){const o={};return r.value=Om.bind(null,o),r}const n=e.split(".");return O.watchEffect(()=>{r.value=_s(O.isRef(t)?t.value:t,n)}),r}function _s(e,t){if(Array.isArray(e)){for(const o of e){const s=o!==!1&&_s(o,t);if(s!==void 0)return s}return}let r,n=e;for(const o in t){const s=t[o];if(typeof n!="object"||n===null){r=void 0;break}const a=n[s];if(Number(o)===t.length-1&&a!==void 0){r=typeof a=="function"?a.bind(n):a;break}n=a}return r}function Om(e,t){if(typeof t!="string")return xt(650);if(t in e||(e[t]=O.ref(void 0)),e[t].value===void 0){e[t].value=null;const r=Kr(t);r&&(e[t].value=r.context),Wu(t,({payload:n})=>{e[t].value=jr(n)?n.context:n})}return e[t].value}function ma(e,t,r){function n(d,$){const h=c(He($.if),{if:!0}),y=p(d,$.then),m=$.else?p(d,$.else):null;return[h,y,m]}function o(d,$){const h=c(He(d.if));let y=()=>$,m=()=>$;return typeof d.then=="object"?m=s(d.then,void 0):typeof d.then=="string"&&d.then?.startsWith("$")?m=c(He(d.then)):m=()=>d.then,X(d,"else")&&(typeof d.else=="object"?y=s(d.else):typeof d.else=="string"&&d.else?.startsWith("$")?y=c(He(d.else)):y=()=>d.else),()=>h()?m():y()}function s(d,$,h={}){const y=new Set(Object.keys(d||{})),m=$?c(He($)):()=>({}),S=[g=>{const _=m();for(const C in _)y.has(C)||(g[C]=_[C])}];if(d){if(Yt(d))return o(d,h);for(let g in d){const _=d[g];let C;const k=typeof _=="string";g.startsWith(Im)?(g=g.substring(7),C=()=>_):k&&_.startsWith("$")&&_.length>1&&!(_.startsWith("$reset")&&Em.test(g))?C=c(He(_)):typeof _=="object"&&Yt(_)?C=o(_,void 0):typeof _=="object"&&$t(_)?C=s(_):C=()=>_,S.push(D=>{D[g]=C()})}}return()=>{const g=Array.isArray(d)?[]:{};return S.forEach(_=>_(g)),g}}function a(d,$){let h=null,y=()=>null,m=!1,S=null,g=null,_=null,C=!1;const k=Vc($);if(It(k)?(h=k.$el,y=k.$el!=="text"?s(k.attrs,k.bind):()=>null):Or(k)?(typeof k.$cmp=="string"?X(d,k.$cmp)?h=d[k.$cmp]:(h=k.$cmp,C=!0):h=k.$cmp,y=s(k.props,k.bind)):Yt(k)&&([m,S,g]=n(d,k)),!Yt(k)&&"if"in k?m=c(He(k.if)):!Yt(k)&&h===null&&(m=()=>!0),"children"in k&&k.children)if(typeof k.children=="string")if(k.children.startsWith("$slots."))h=h==="text"?"slot":h,S=c(He(k.children));else if(k.children.startsWith("$")&&k.children.length>1){const D=c(He(k.children));S=()=>String(D())}else S=()=>String(k.children);else if(Array.isArray(k.children))S=p(d,k.children);else{const[D,w,L]=n(d,k.children);S=x=>D&&D()?w&&w(x):L&&L(x)}if(Or(k))if(S){const D=S;S=w=>({default(L,x,b){const v=ke;x&&(ke=x);const T=b?.length||0;if(b)for(let q=b.length-1;q>=0;q--)Ne.get(ke)?.unshift(b[q]);w&&Ne.get(ke)?.unshift(w),L&&Ne.get(ke)?.unshift(L);const N=D(w);L&&Ne.get(ke)?.shift(),w&&Ne.get(ke)?.shift();for(let q=0;q<T;q++)Ne.get(ke)?.shift();return ke=v,N}}),S.slot=!0}else S=()=>({});if("for"in k&&k.for){const D=k.for.length===3?k.for[2]:k.for[1];_=[typeof D=="string"&&D.startsWith("$")?c(He(D)):()=>D,k.for[0],k.for.length===3?String(k.for[1]):null]}return[m,h,y,S,g,_,C]}function i(d,$){const h=d($),y=ke,m=Ne.get(y)?.slice()||[];return Object.keys(h).reduce((S,g)=>{const _=h&&h[g];return S[g]=C=>_&&_(C,y,m)||null,S},{})}function l(d,$){const[h,y,m,S,g,_,C]=a(d,$);let k=(D=>{if(h&&y===null&&S)return h()?S(D):g&&g(D);if(y&&(!h||h())){if(y==="text"&&S)return O.createTextVNode(String(S()));if(y==="slot"&&S)return S(D);const w=C?O.resolveComponent(y):y,L=S?.slot?i(S,D):null;return O.h(w,m(),L||(S?S(D):[]))}return typeof g=="function"?g(D):g});if(_){const D=k,[w,L,x]=_;k=(()=>{const b=w(),v=Number.isFinite(b)?Array(Number(b)).fill(0).map((Q,U)=>U):b,T=[];if(typeof v!="object")return null;const N=Ne.get(ke)||[],q=Array.isArray(v);for(const Q in v){if(q&&Q in Array.prototype)continue;const U=Object.defineProperty({...N.reduce((ue,ge)=>ue.__idata?{...ue,...ge}:ge,{}),[L]:v[Q],...x!==null?{[x]:q?Number(Q):Q}:{}},"__idata",{enumerable:!1,value:!0});N.unshift(U),T.push(D.bind(null,U)()),N.shift()}return T})}return k}function p(d,$){if(Array.isArray($)){const y=$.map(l.bind(null,d));return m=>y.map(S=>S(m))}const h=l(d,$);return y=>h(y)}const u=[];function c(d,$={}){const h=new WeakMap;return u.push((y,m)=>{h.set(m,d.provide(S=>y(S,$)))}),()=>h.get(ke)()}function f(d,$){r??(r=Ll(t));const[h,y]=X(Lr,r)?Lr[r]:[p(e,t),u];return Dl||(er[r]??(er[r]=0),er[r]++,Lr[r]=[h,y]),y.forEach(m=>{m(d,$)}),()=>(ke=$,h())}return f}function Cl(e,t){const r=Ne.get(ke)||[];let n;return r.length&&(n=_s(r,e.split("."))),n===void 0?t:n}function Pm(e,t){return new Proxy(e,{get(...r){let n;const o=r[1];if(typeof o=="string"){const s=ke;ke=t,n=Cl(o,void 0),ke=s}return n!==void 0?n:Reflect.get(...r)}})}function ha(e,t,r){return e((n,o={})=>n.reduce((s,a)=>{if(a.startsWith("slots.")){const i=a.substring(6),l=()=>t.slots&&X(t.slots,i)&&typeof t.slots[i]=="function";if(o.if)s[a]=l;else if(t.slots){const p=Pm(t,r);s[a]=()=>l()?t.slots[i](p):null}}else{const i=Mm(a,t);s[a]=()=>Cl(a,i.value)}return s},{}),r)}function ga(e,t,r){if(t??(t=Ll(e)),er[t]--,er[t]===0){delete er[t];const[,n]=Lr[t];delete Lr[t],n.length=0}Ne.delete(r)}function Ll(e){return JSON.stringify(e,(t,r)=>typeof r=="function"?r.toString():r)}var Al=O.defineComponent({name:"FormKitSchema",props:{schema:{type:[Array,Object],required:!0},data:{type:Object,default:()=>({})},library:{type:Object,default:()=>({})},memoKey:{type:String,required:!1}},emits:["mounted"],setup(e,t){const r=O.getCurrentInstance();let n={};Ne.set(n,[]);const o={FormKit:O.markRaw(Ar),...e.library};let s=ma(o,e.schema,e.memoKey),a,i;Dl||O.watch(()=>e.schema,(p,u)=>{const c=n;n={},Ne.set(n,[]),s=ma(o,e.schema,e.memoKey),a=ha(s,i,n),p===u&&(r?.proxy?.$forceUpdate)(),ga(e.schema,e.memoKey,c)},{deep:!0}),O.watchEffect(()=>{i=Object.assign(O.reactive(e.data??{}),{slots:t.slots}),t.slots,a=ha(s,i,n)});function l(){ga(e.schema,e.memoKey,n),i&&(i.node&&i.node.destroy(),i.slots=null,i=null),a=null}return O.onMounted(()=>t.emit("mounted")),O.onUnmounted(l),Tm(O.getCurrentInstance()?.appContext.app,l),()=>a?a():null}}),Vm=Al,Fm=typeof window>"u",va=Symbol("FormKitParent"),Nm=Symbol("FormKitComponentCallback");function Bm(e,t){const r=Um(e,t);if(r.props.definition||Ae(600,r),r.props.definition.component)return()=>O.h(r.props.definition?.component,{context:r.context},{...t.slots});const n=O.ref([]);let o=r.props.definition.schemaMemoKey;const s=()=>{const p=r.props?.definition?.schema;p||Ae(601,r),typeof p=="function"?(n.value=p({...e.sectionsSchema||{}}),(o&&e.sectionsSchema||"memoKey"in p&&typeof p.memoKey=="string")&&(o=(o??p?.memoKey)+JSON.stringify(e.sectionsSchema))):n.value=p};s(),Fm||r.on("schema",()=>{o+="♻️",s()}),t.emit("node",r);const a=r.props.definition.library,i={FormKit:O.markRaw(Tl),...a,...e.library??{}};function l(){r.emit("mounted")}return t.expose({node:r}),()=>O.h(Al,{schema:n.value,data:r.context,onMounted:l,library:i,memoKey:o},{...t.slots})}var Tl=O.defineComponent(Bm,{props:kf,inheritAttrs:!1}),Ar=Tl,Rm=Symbol();function $a(e){if(typeof window<"u"&&globalThis.__FORMKIT_CONFIGS__){const t=globalThis.__FORMKIT_CONFIGS__.indexOf(e);t!==-1&&globalThis.__FORMKIT_CONFIGS__.splice(t,1)}}function Hm(e,t){return e.component(t.alias||"FormKit",Ar).component(t.schemaAlias||"FormKitSchema",Vm),{get:Kr,setLocale:r=>{t.config?.rootConfig&&(t.config.rootConfig.locale=r)},clearErrors:Bc,setErrors:Nc,submit:Hi,reset:Wi}}var Il=Symbol.for("FormKitOptions"),Wm=Symbol.for("FormKitConfig"),Km={install(e,t){const r=Object.assign({alias:"FormKit",schemaAlias:"FormKitSchema"},typeof t=="function"?t():t),n=Ku(r.config||{});r.config={rootConfig:n},e.config.globalProperties.$formkit=Hm(e,r),e.provide(Il,r),e.provide(Wm,n),typeof window<"u"&&(globalThis.__FORMKIT_CONFIGS__=(globalThis.__FORMKIT_CONFIGS__||[]).concat([n]));const o=e;if(typeof o.onUnmount=="function")o.onUnmount(()=>{$a(n)});else{const s=e.unmount.bind(e);e.unmount=()=>($a(n),s())}}},jm=typeof window<"u",lo=["ignore","disabled","preserve","help","label",/^preserve(-e|E)rrors/,/^[a-z]+(?:-visibility|Visibility|-behavior|Behavior)$/,/^[a-zA-Z-]+(?:-class|Class)$/,"prefixIcon","suffixIcon",/^[a-zA-Z-]+(?:-icon|Icon)$/],Ym=["disabled","ignore","preserve"];function ya(e,t){t.classes&&Object.keys(t.classes).forEach(r=>{typeof r=="string"&&(e.props[`_${r}Class`]=t.classes[r],Xt(t.classes[r])&&r==="inner"&&Object.values(t.classes[r]))})}function Zm(e){return e?["Submit","SubmitRaw","SubmitInvalid"].reduce((r,n)=>{const o=`on${n}`;return o in e&&typeof e[o]=="function"&&(r[o]=e[o]),r},{}):{}}function Um(e,t,r={}){const n=Object.assign({},O.inject(Il)||{},r),o=O.inject(Rm,O.ref(jm?document:void 0)),s=O.inject(Nm,()=>{}),a=O.getCurrentInstance(),i=Zm(a?.vnode.props),l=["modelValue","model-value"].some(k=>k in(a?.vnode.props??{}));let p=!1;O.onMounted(()=>{p=!0});const u=e.modelValue!==void 0?e.modelValue:We(t.attrs.value);function c(){const k={...Bt(e),...i,type:e.type??"text",__root:o.value,__slots:t.slots},D=js(Bt(t.attrs),lo);D.key||(D.key=fr()),k.attrs=D;const w=Ys(Bt(t.attrs),lo);for(const x in w)Ym.includes(x)&&w[x]===""&&(w[x]=!0),k[Jt(x)]=w[x];const L={props:{}};return ya(L,e),Object.assign(k,L.props),typeof k.type!="string"&&(k.definition=k.type,delete k.type),k}const f=c(),d=f.ignore?null:e.parent||O.inject(va,null),$=Oc(yt(n||{},{name:e.name||void 0,value:u,parent:d,plugins:(n.plugins||[]).concat(e.plugins??[]),config:e.config||{},props:f,index:e.index,sync:!!W(t.attrs.sync||t.attrs.dynamic)},!1,!0));s($),$.props.definition||Ae(600,$);const h=O.ref(new Set(Array.isArray($.props.__propDefs)?$.props.__propDefs:Object.keys($.props.__propDefs??{})));$.on("added-props",({payload:k})=>{(Array.isArray(k)?k:Object.keys(k??{})).forEach(w=>h.value.add(w))});const y=O.computed(()=>lo.concat([...h.value]).reduce((k,D)=>(typeof D=="string"?(k.push(Jt(D)),k.push(Vi(D))):k.push(D),k),[]));O.watchEffect(()=>ya($,e));const m=Bt(e);for(const k in m)O.watch(()=>e[k],()=>{e[k]!==void 0&&($.props[k]=e[k])});O.watchEffect(()=>{$.props.__root=o.value});const S=new Set,g=Bt(t.attrs);O.watchEffect(()=>{_(Ys(g,y.value))});function _(k){S.forEach(D=>{D(),S.delete(D)});for(const D in k){const w=Jt(D);S.add(O.watch(()=>t.attrs[D],()=>{$.props[w]=t.attrs[D]}))}}if(O.watchEffect(()=>{const k=js(Bt(t.attrs),y.value);"multiple"in k&&(k.multiple=W(k.multiple)),typeof k.onBlur=="function"&&(k.onBlur=wu(k.onBlur)),$.props.attrs=Object.assign({},$.props.attrs||{},k)}),O.watchEffect(()=>{const k=(e.errors??[]).map(D=>be({key:fs(D),type:"error",value:D,meta:{source:"prop"}}));$.store.apply(k,D=>D.type==="error"&&D.meta.source==="prop")}),$.type!=="input"){const k=`${$.name}-prop`;O.watchEffect(()=>{const D=e.inputErrors??{},w=Object.keys(D);w.length||$.clearErrors(!0,k);const L=w.reduce((x,b)=>{let v=D[b];return typeof v=="string"&&(v=[v]),Array.isArray(v)&&(x[b]=v.map(T=>be({key:T,type:"error",value:T,meta:{source:k}}))),x},{});$.store.apply(L,x=>x.type==="error"&&x.meta.source===k)})}O.watchEffect(()=>Object.assign($.config,e.config)),$.type!=="input"&&O.provide(va,$);let C;return $.on("modelUpdated",()=>{t.emit("inputRaw",$.context?.value,$),p&&t.emit("input",$.context?.value,$),l&&$.context&&(C=We($.value),t.emit("update:modelValue",Bo($.value)))}),l&&(O.watch(O.toRef(e,"modelValue"),k=>{K(C,k)||$.input(k,!1)},{deep:!0}),$.value!==u&&$.emit("modelUpdated")),O.onBeforeUnmount(()=>$.destroy()),$}var qm=G("messages",()=>({$el:"ul",if:"$fns.length($messages)"})),zm=G("message",()=>({$el:"li",for:["message","$messages"],attrs:{key:"$message.key",id:"$id + '-' + $message.key","data-message-type":"$message.type"}}));qm(zm("$message.value"));var Gm=G("summary",()=>({$el:"div",attrs:{"aria-live":"polite"}})),Xm=G("summaryInner",()=>({$el:"div",if:"$summaries.length && $showSummaries"})),Jm=G("messages",()=>({$el:"ul",if:"$summaries.length && $showSummaries"})),Qm=G("message",()=>({$el:"li",for:["summary","$summaries"],attrs:{key:"$summary.key","data-message-type":"$summary.type"}})),eh=G("summaryHeader",()=>({$el:"h2",attrs:{id:"$id"}})),th=G("messageLink",()=>({$el:"a",attrs:{id:"$summary.key",href:'$: "#" + $summary.id',onClick:"$jumpLink"}}));Gm(Xm(eh("$summaryHeader"),Jm(Qm(th("$summary.message")))));Lm();Sl();const rh={class:"grid grid-cols-12 gap-x-8 gap-y-7"},nh={class:"mt-10 flex justify-end"},oh=O.defineComponent({__name:"DynamicForm",props:{fields:{}},emits:["form-submit"],setup(e,{emit:t}){const r=t,n=p=>{r("form-submit",p)},o={outer:"w-full",wrapper:"flex flex-col gap-1.5",label:"text-xs font-medium text-gray-700 dark:text-gray-100 tracking-wide",help:"text-xs text-gray-500 dark:text-gray-100",input:`
    w-full rounded-lg
    bg-white dark:bg-[#111113]
    text-gray-900 dark:!text-gray-100
    placeholder:text-gray-400 dark:placeholder:text-gray-500
    border border-gray-300/60 dark:border-white/10
    px-3 py-2.5 text-sm
    transition-all duration-200
    focus:outline-none
    focus:border-gray-400 dark:focus:border-white/30
    focus:ring-1 focus:ring-gray-300/50 dark:focus:ring-white/10
  `},s={...o,input:`
    w-full rounded-lg
    bg-white dark:bg-[#111113]
    text-gray-900 dark:!text-gray-100
    border border-gray-300/60 dark:border-white/10
    pl-3 pr-9 py-2.5 text-sm
    transition-all duration-200
    focus:outline-none
    focus:border-gray-400 dark:focus:border-white/30
    focus:ring-1 focus:ring-gray-300/50 dark:focus:ring-white/10
  `},a={outer:"w-full",fieldset:"rounded-lg border border-gray-300/60 dark:border-white/10 px-4 py-3",legend:"text-xs font-medium text-gray-700 dark:text-gray-300 mb-3",options:"flex flex-col gap-3",option:"flex items-center gap-2",input:"text-gray-900 dark:text-gray-100 focus:ring-1 focus:ring-gray-400",label:"text-sm text-gray-700 dark:text-gray-300",help:"text-xs text-gray-500 dark:text-gray-400 mt-2"},i={input:`
    inline-flex items-center justify-center
    rounded-lg
    bg-gray-900 dark:bg-white
    text-white dark:text-black
    px-8 py-3
    text-sm font-medium
    transition-all duration-200
    hover:opacity-90
    focus:outline-none
    focus:ring-2 focus:ring-gray-400/40 dark:focus:ring-white/20
  `},l=p=>["textarea","radio","checkbox"].includes(p.type)||p.columns===12?"col-span-12":p.columns===6?"col-span-12 md:col-span-6":p.columns===4?"col-span-12 md:col-span-4":"col-span-12 md:col-span-6";return(p,u)=>(O.openBlock(),O.createBlock(O.unref(Ar),{id:"formkit-form",type:"form",onSubmit:n,actions:!1},{default:O.withCtx(()=>[O.createBaseVNode("div",rh,[(O.openBlock(!0),O.createElementBlock(O.Fragment,null,O.renderList(e.fields,(c,f)=>(O.openBlock(),O.createElementBlock("div",{key:c.name,class:O.normalizeClass(l(c))},[O.createVNode(O.unref(Ar),O.mergeProps({ref_for:!0},{...c,id:`field-${f}`,label:c.label?`${f+1}. ${c.label}`:void 0},{classes:c.type==="radio"?a:c.type==="autocomplete"?s:o}),null,16,["classes"])],2))),128))]),O.createBaseVNode("div",nh,[O.createVNode(O.unref(Ar),{type:"submit",label:"Submit",classes:i})])]),_:1}))}}),sh=(e,t)=>{const r=e.__vccOpts||e;for(const[n,o]of t)r[n]=o;return r},ah=sh(oh,[["__scopeId","data-v-77dd645f"]]),ih={class:"min-h-screen bg-gray-50 dark:bg-[#0b0b0e] px-4 sm:px-6 py-1 transition-colors duration-300"},lh={class:"mx-auto max-w-5xl"},ph={class:"flex items-center justify-end py-4"},uh={key:0,class:"text-center space-y-1 mb-4"},ch={class:"text-2xl font-medium text-gray-900 dark:text-gray-100"},dh={class:"text-sm text-gray-500 dark:text-gray-400"},fh={class:"rounded-xl bg-white dark:bg-[#141416] border border-gray-200/70 dark:border-white/10 p-6 sm:p-8 shadow-sm"},mh=O.defineComponent({__name:"index",props:{schema:{},_p:{},_$p:{}},setup(e){const t=e,r=O.ref(t.schema?.theme==="dark"),n=()=>{document.documentElement.classList.toggle("dark",r.value)};t._p.f.listen("msg",async a=>{a.type==="theme_update"&&n()});const o=()=>{const a=r.value?"light":"dark";t._p.f.call("msg",{_p:t._p,_$p:t._$p,type:"ui_toggle_theme",custom:{theme:a}})};O.onMounted(()=>{n()});const s=a=>{t._p.f.call("msg",{_p:t._p,_$p:t._$p,type:"form_submit",custom:{payload:a}})};return(a,i)=>(O.openBlock(),O.createElementBlock("main",ih,[O.createBaseVNode("div",lh,[O.createBaseVNode("div",ph,[O.createBaseVNode("button",{onClick:o,class:"px-3 py-1.5 text-xs rounded-md border border-gray-300/70 dark:border-white/10 bg-white dark:bg-[#141416] text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-white/5 transition"},O.toDisplayString(r.value?"Dark mode":"Light mode"),1)]),t.schema?(O.openBlock(),O.createElementBlock("header",uh,[O.createBaseVNode("h1",ch,O.toDisplayString(t.schema.title),1),O.createBaseVNode("p",dh,O.toDisplayString(t.schema.subtitle),1)])):O.createCommentVNode("",!0),O.createBaseVNode("section",fh,[t.schema?.fields?(O.openBlock(),O.createBlock(ah,{key:0,fields:t.schema.fields,onFormSubmit:s},null,8,["fields"])):O.createCommentVNode("",!0)])])]))}});function hh(e,t){var r=!1;return function(...n){r||(e.call(null,...n),r=!0,setTimeout(function(){r=!1},t))}}function El(e){return e.split(" ").filter(t=>t)}var gh=typeof window<"u";function Re(e,t,r=!1){if(!t)return;const n=El(t);if(n.length&&!n.includes("longTouch"))for(const o of e){if(!Zr(o)||!ze.has(o)){o.classList.add(...n);continue}const s=[],a=ze.get(o);if(a){for(const i of n)o.classList.contains(i)?o.classList.contains(i)&&r===!1&&s.push(i):o.classList.add(i);a.privateClasses=s,ze.set(o,a)}}}function sr(e,t){if(!t)return;const r=El(t);if(r.length)for(const n of e){if(!Zr(n)){n.classList.remove(...r);continue}const o=ze.get(n);if(o)for(const s of r)o.privateClasses.includes(s)||n.classList.remove(s)}}function Ml(e){let t=e.parentNode;for(;t!==null&&t.nodeType===1&&t instanceof HTMLElement;){const n=window.getComputedStyle(t).getPropertyValue("overflow");if(n==="scroll"||n==="auto")return t;t=t.parentNode}return document.documentElement}function vh(e){if(!(e.e instanceof TouchEvent))return;const t=e.e.touches[0].clientX,r=e.e.touches[0].clientY;let n=document.elementFromPoint(t,r);if(!Zr(n))return;let o,s=!0;for(;n&&s;){if(ze.has(n)||Ve.has(n)){s=!1,o=Ve.has(n);break}n=n.parentNode}if(o){const a=Ve.get(n);return a?{parent:{el:n,data:a}}:void 0}else{const a=ze.get(n);if(!a)return;const i=Ve.get(n.parentNode);return i?{node:{el:n,data:a},parent:{el:n.parentNode,data:i}}:void 0}}function Zr(e){return e instanceof HTMLElement&&e.parentNode instanceof HTMLElement}function Ol(e,t){const r=new AbortController;for(const n in t){const o=t[n];e.addEventListener(n,o,{signal:r.signal,passive:!1})}return r}function ks(e,t,r=!1){const n=window.getComputedStyle(e),o=["position","z-index","top","left","x","pointer-events","y","transform-origin","filter","-webkit-text-fill-color"];for(const s of Array.from(n))r===!1&&s&&o.includes(s)||t.style.setProperty(s,n.getPropertyValue(s),n.getPropertyPriority(s));for(const s of Array.from(e.children)){if(!Zr(s))continue;const a=t.children[Array.from(e.children).indexOf(s)];ks(s,a,r)}}function Vt(e){return e instanceof DragEvent?{x:e.clientX,y:e.clientY}:{x:e.touches[0].clientX,y:e.touches[0].clientY}}var qe={selectedNodes:Array(),activeNode:void 0,isTouch:!1};function ba(e={}){return t=>{const r=Ve.get(t);if(!r)return;const n={...r.config,multiDragConfig:e};return{setup(){n.handleDragstart=e.multiHandleDragstart||xh,n.handleTouchstart=e.multiHandleTouchstart||_h,n.handleEnd=e.multiHandleEnd||yh,n.reapplyDragClasses=e.multiReapplyDragClasses||$h,r.config=n,n.multiDragConfig.plugins?.forEach(o=>{o(t)?.tearDown?.()}),n.multiDragConfig.plugins?.forEach(o=>{o(t)?.setup?.()})},tearDownNodeRemap(o){n.multiDragConfig?.plugins?.forEach(s=>{s(o.parent)?.tearDownNodeRemap?.(o)})},tearDownNode(o){n.multiDragConfig?.plugins?.forEach(s=>{s(o.parent)?.tearDownNode?.(o)})},setupNodeRemap(o){n.multiDragConfig?.plugins?.forEach(s=>{s(o.parent)?.setupNodeRemap?.(o)})},setupNode(o){n.multiDragConfig?.plugins?.forEach(s=>{s(o.parent)?.setupNode?.(o)})}}}}function $h(e,t){if(!B)return;const r="touchedNode"in B?t.config.multiDragConfig.touchDropZoneClass:t.config.multiDragConfig.dropZoneClass;B.draggedNodes.map(o=>o.el).includes(e)&&Re([e],r,!0)}function yh(e){!B||B&&"touchedNode"in B&&"touchMoving"in B&&!B.touchMoving||(Zl(e,B),bh(e,B),Fl())}function bh(e,t){const r=e.targetData.parent.data.config.multiDragConfig,n=e.targetData.parent.data.config.selectionsConfig?.selectedClass,o=t&&"touchedNode"in t;n&&sr(qe.selectedNodes.map(a=>a.el),n),qe.selectedNodes=[],qe.activeNode=void 0;const s=o?r.selectionDropZoneClass:r.touchSelectionDraggingClass;sr(t.draggedNodes.map(a=>a.el),s)}function xh(e){e.e instanceof DragEvent&&wh({e:e.e,targetData:e.targetData})}function wh(e){const t=Kl(e);qe.isTouch=!1;const r=e.targetData.parent.data.config.multiDragConfig,n=e.targetData.parent.data.getValues(e.targetData.parent.el);let o=qe.selectedNodes.length?qe.selectedNodes.map(a=>a.data.value):r.selections&&r.selections(n,e.targetData.parent.el);if(o===void 0)return;if(!o.includes(e.targetData.node.data.value)){o=[e.targetData.node.data.value,...o];const a=e.targetData.parent.data.config.selectionsConfig;Re([e.targetData.node.el],a?.selectedClass,!0),qe.selectedNodes.push(e.targetData.node)}const s=e.targetData.node.el.style.zIndex;if(t.originalZIndex=s,e.targetData.node.el.style.zIndex="9999",Array.isArray(o)&&o.length){const a=e.targetData.node.el.getBoundingClientRect(),[i,l]=[e.e.clientX-a.left,e.e.clientY-a.top];Vl(Pl(e,o,t,i,l))}else{const a=e.targetData.parent.data.config;Wl(t.draggedNode.el,a.draggingClass,a.dropZoneClass)}}function _h(e){e.e instanceof TouchEvent&&kh({e:e.e,targetData:e.targetData})}function kh(e){const t=Ul(e);qe.isTouch=!0,qe.activeNode=e.targetData.node;const r=e.targetData.parent.data.config.multiDragConfig,n=e.targetData.parent.data.getValues(e.targetData.parent.el);let o=[];e.targetData.parent.data.config.selectionsConfig?o=qe.selectedNodes.map(a=>a.data.value):o=r.selections&&r.selections(n,e.targetData.parent.el),o=[e.targetData.node.data.value,...o];const s=e.targetData.parent.data.config.selectionsConfig;Re([e.targetData.node.el],s?.selectedClass,!0),Array.isArray(o)&&o.length?Vl(Pl(e,o,t,t.touchStartLeft,t.touchStartTop)):zl(e,t),Gl(e,t)}function Pl(e,t,r,n,o){for(const i of e.targetData.parent.data.enabledNodes)i.el!==r.draggedNode.el&&t.includes(i.data.value)&&r.draggedNodes.push(i);const s=e.targetData.parent.data.config.multiDragConfig,a=r.draggedNodes.map(i=>{const l=i.el.cloneNode(!0);return ks(i.el,l,!0),e.e instanceof DragEvent&&Re([l],s.draggingClass),l});return setTimeout(()=>{e.e instanceof DragEvent&&Re(r.draggedNodes.map(i=>i.el),s.dropZoneClass)}),r.clonedDraggedEls=a,{data:e,state:r,x:n,y:o}}function Vl({data:e,state:t,x:r,y:n}){const o=document.createElement("div");for(const a of t.clonedDraggedEls)a instanceof HTMLElement&&(a.style.pointerEvents="none"),o.append(a);const{width:s}=t.draggedNode.el.getBoundingClientRect();o.style.cssText=`
        display: flex;
        flex-direction: column;
        width: ${s}px;
        position: fixed;
        pointer-events: none;
        z-index: 9999;
        left: -9999px
      `,document.body.append(o),e.e instanceof DragEvent?(e.e.dataTransfer?.setDragImage(o,r,n),setTimeout(()=>{o.remove()})):"touchedNode"in t&&(t.touchedNode=o)}var xa=[{transform:"translateY(100%)"},{transform:"translateY(0)"}],wa=[{transform:"translateY(-100%)"},{transform:"translateY(0)"}],po=[{transform:"translateX(100%)"},{transform:"translateX(0)"}],uo=[{transform:"translateX(-100%)"},{transform:"translateX(0)"}];function Un(e={}){return t=>{const r=Ve.get(t);if(r)return{setup(){r.config.remapFinished=()=>{},document.head.querySelector("[data-drag-and-drop]")},setupNodeRemap(n){if(!B)return;const o=e.duration||150;if(n.nodeData.value===B.draggedNode.data.value){switch(B.incomingDirection){case"below":Ze(n.node,xa,o);break;case"above":Ze(n.node,wa,o);break;case"left":Ze(n.node,uo,o);break;case"right":Ze(n.node,po,o);break}return}if(!B.affectedNodes.map(u=>u.data.value).includes(n.nodeData.value))return;const s=n.node.getBoundingClientRect(),a=B.affectedNodes.findIndex(u=>u.data.value===n.nodeData.value),l=B.draggedNode.data.index>=B.targetIndex;let p;if(l?p=B.affectedNodes[a+1]?B.affectedNodes[a+1]:B.affectedNodes[a-1]:p=B.affectedNodes[a-1]?B.affectedNodes[a-1]:B.affectedNodes[a+1],p){const u=Math.abs(s.x-p.el.getBoundingClientRect().x),c=Math.abs(s.y-p.el.getBoundingClientRect().y);u>c&&l?Ze(n.node,uo,o):u>c&&!l&&Ze(n.node,po,o)}else switch(B.incomingDirection){case"below":Ze(n.node,wa,o);break;case"above":Ze(n.node,xa,o);break;case"left":Ze(n.node,po,o);break;case"right":Ze(n.node,uo,o);break}}}}}function Ze(e,t,r){B&&(B.preventEnter=!0,e.animate(t,{duration:r}),setTimeout(()=>{B&&(B.swappedNodeValue=void 0,B.remapJustFinished=!0,B.lastTargetValue=void 0,B.preventEnter=!1)},r))}var _a={up:[0,-1],down:[0,1],left:[-1,0],right:[1,0]},ze=new WeakMap,Ve=new WeakMap,B=void 0;function Fl(){B=void 0}function Nl(e){return B={ascendingDirection:!1,incomingDirection:void 0,enterCount:0,targetIndex:0,affectedNodes:[],lastValue:void 0,activeNode:void 0,lastTargetValue:void 0,remapJustFinished:!1,preventEnter:!1,clonedDraggedEls:[],swappedNodeValue:!1,originalZIndex:void 0,...e},B}function Sh(e,t){return B={...e,...t},B}function Bl(e){const{x:t,y:r}=Vt(e.e);return{coordinates:{x:t,y:r},draggedNode:{el:e.targetData.node.el,data:e.targetData.node.data},draggedNodes:[{el:e.targetData.node.el,data:e.targetData.node.data}],initialIndex:e.targetData.node.data.index,initialParent:{el:e.targetData.parent.el,data:e.targetData.parent.data},lastParent:{el:e.targetData.parent.el,data:e.targetData.parent.data},scrollParent:Ml(e.targetData.node.el)}}function Dh(e,t){const r=Rl(e),o=[...Uo(t.targetData.parent.el,t.targetData.parent.data).filter(s=>!r.includes(s))];o.splice(t.targetData.node.data.index,0,...r),e.lastTargetValue=t.targetData.node.data.value,qo(t.targetData.parent.el,t.targetData.parent.data,[...o])}function Uo(e,t){return[...t.getValues(e)]}function qo(e,t,r){t.setValues(r,e)}function Rl(e){return[...e.draggedNodes.map(t=>t.data.value)]}function $e({parent:e,getValues:t,setValues:r,config:n={}}){if(!gh)return;document.addEventListener("dragover",s=>{if(s.preventDefault(),B){B.remapJustFinished=!1,B.lastTargetValue=void 0;const{x:a,y:i}=Vt(s);B.coordinates.y=i,B.coordinates.x=a,qn()}}),Ch(e);const o={getValues:t,setValues:r,config:{handleDragstart:Ln,handleDragoverNode:Uh,handleDragoverParent:qh,handleEnd:An,handleTouchstart:Tn,handleTouchmove:Xl,handleTouchOverNode:Mh,handleTouchOverParent:zh,performSort:Dh,performTransfer:Qh,root:document,setupNode:Oh,setupNodeRemap:Yl,reapplyDragClasses:Ph,tearDownNode:Fh,tearDownNodeRemap:Vh,remapFinished:Th,scrollBehavior:{x:.8,y:.8},threshold:{horizontal:0,vertical:0},...n},enabledNodes:[],abortControllers:{}};Lh(e,o),n.plugins?.forEach(s=>{s(e)?.tearDown?.()}),n.plugins?.forEach(s=>{s(e)?.setup?.()}),Hl(e,!0)}function Ch(e){const t=Ve.get(e);t&&t.abortControllers.mainParent&&t.abortControllers.mainParent.abort()}function Lh(e,t){new MutationObserver(Ah).observe(e,{childList:!0}),Ve.set(e,t),t.abortControllers.mainParent=Ol(e,{dragover:eg(hh(t.config.handleDragoverParent,10)),touchOverParent:t.config.handleTouchOverParent})}function Ah(e){const t=e[0].target;t instanceof HTMLElement&&Hl(t)}function Hl(e,t){const r=Ve.get(e);if(!r)return;const n=[],o=r.config;for(let i=0;i<e.children.length;i++){const l=e.children[i];if(!Zr(l))continue;const p=ze.get(l);(t||!p)&&o.tearDownNode({node:l,parent:e,nodeData:p,parentData:r}),!o.disabled&&(!o.draggable||o.draggable&&o.draggable(l))&&n.push(l)}if(n.length!==r.getValues(e).length&&!o.disabled){console.warn("The number of enabled nodes does not match the number of values.");return}const s=r.getValues(e),a=[];for(let i=0;i<n.length;i++){const l=n[i],p=ze.get(l),u=Object.assign(p??{privateClasses:[],abortControllers:{}},{value:s[i],index:i});if(B&&u.value===B.draggedNode.data.value&&(B.draggedNode.data=u,B.draggedNode.el=l),B&&B.draggedNodes.map(f=>f.data.value).includes(u.value)){const f=B.draggedNodes.find(d=>d.data.value===u.value);f&&(f.el=l)}a.push({el:l,data:u});const c={node:l,parent:e,parentData:r,nodeData:u};(t||!p)&&o.setupNode(c),Yl(c)}Ve.set(e,{...r,enabledNodes:a}),o.remapFinished(r)}function Th(){B&&(B.preventEnter=!1,B.swappedNodeValue=void 0,B.remapJustFinished=!0)}function Ln(e){e.e instanceof DragEvent&&Eh({e:e.e,targetData:e.targetData})}function Wl(e,t,r){Re([e],t),setTimeout(()=>{sr([e],t),Re([e],r)})}function Kl(e){const t=Nl(Bl(e));return e.e.stopPropagation(),e.e.dataTransfer&&(e.e.dataTransfer.dropEffect="move",e.e.dataTransfer.effectAllowed="move",e.e.dataTransfer.setDragImage(e.targetData.node.el,e.e.offsetX,e.e.offsetY)),t}function jl(e){if(!(e.e instanceof DragEvent)&&!(e.e instanceof TouchEvent))return!1;const t=e.targetData.parent.data.config;if(!t.dragHandle)return!0;const r=e.targetData.node.el.querySelectorAll(t.dragHandle);if(!r)return!1;const n=Vt(e.e),o=t.root.elementFromPoint(n.x,n.y);if(!o)return!1;for(const s of Array.from(r))if(o===s||s.contains(o))return!0;return!1}function Ih(e){if(!jl(e))return;const t=Ul(e);zl(e,t),Gl(e,t)}function Eh(e){if(!jl(e)){e.e.preventDefault();return}const t=e.targetData.parent.data.config,r=Kl(e),n=e.targetData.node.el.style.zIndex;r.originalZIndex=n,e.targetData.node.el.style.zIndex="9999",Wl(r.draggedNode.el,t.draggingClass,t.dropZoneClass)}function Mh(e){B&&(e.detail.targetData.parent.el===B.lastParent.el?Ql(e.detail,B):zn(e.detail,B))}function Oh(e){const t=e.parentData.config;e.node.draggable=!0,e.nodeData.abortControllers.mainNode=Ol(e.node,{dragstart:Ht(t.handleDragstart),dragover:Ht(t.handleDragoverNode),dragend:Ht(t.handleEnd),touchstart:Ht(t.handleTouchstart),touchmove:Ht(t.handleTouchmove),touchend:Ht(t.handleEnd),touchOverNode:t.handleTouchOverNode}),t.reapplyDragClasses(e.node,e.parentData),e.parentData.config.plugins?.forEach(r=>{r(e.parent)?.setupNode?.(e)})}function Yl(e){ze.set(e.node,e.nodeData),e.parentData.config.plugins?.forEach(t=>{t(e.parent)?.setupNodeRemap?.(e)})}function Ph(e,t){if(!B)return;const r="touchedNode"in B?t.config.touchDropZoneClass:t.config.dropZoneClass;B.draggedNode.el===e&&Re([e],r,!0)}function Vh(e){e.parentData.config.plugins?.forEach(t=>{t(e.parent)?.tearDownNodeRemap?.(e)})}function Fh(e){e.parentData.config.plugins?.forEach(t=>{t(e.parent)?.tearDownNode?.(e)}),e.node.draggable=!1,e.nodeData?.abortControllers?.mainNode&&e.nodeData?.abortControllers?.mainNode.abort()}function An(e){B&&(Zl(e,B),Fl())}function Zl(e,t){document.removeEventListener("contextmenu",ql),"longTouchTimeout"in t&&t.longTouchTimeout&&clearTimeout(t.longTouchTimeout);const r=Ve.get(t.initialParent.el)?.config,o="touchedNode"in t?r?.touchDropZoneClass:r?.dropZoneClass;t.originalZIndex!==void 0&&(t.draggedNode.el.style.zIndex=t.originalZIndex),Re(t.draggedNodes.map(s=>s.el),o,!0),sr(t.draggedNodes.map(s=>s.el),o),r?.longTouchClass&&sr(t.draggedNodes.map(s=>s.el),t.initialParent.data?.config?.longTouchClass),"touchedNode"in t&&t.touchedNode?.remove()}function Tn(e){e.e instanceof TouchEvent&&Ih({e:e.e,targetData:e.targetData})}function Ul(e){e.e.stopPropagation();const t=e.targetData.node.el.cloneNode(!0),r=e.targetData.node.el.getBoundingClientRect();return Sh(Nl(Bl(e)),{coordinates:{x:e.e.touches[0].clientX,y:e.e.touches[0].clientY},scrollParent:Ml(e.targetData.node.el),touchStartLeft:e.e.touches[0].clientX-r.left,touchStartTop:e.e.touches[0].clientY-r.top,touchedNode:t,touchMoving:!1})}function ql(e){e.preventDefault()}function zl(e,t){t.touchedNodeDisplay=t.touchedNode.style.display;const r=e.targetData.node.el.getBoundingClientRect();t.touchedNode.style.cssText=`
            width: ${r.width}px;
            position: fixed;
            pointer-events: none;
            top: -9999px;
            z-index: 999999;
            display: none;
          `,document.body.append(t.touchedNode),ks(e.targetData.node.el,t.touchedNode),t.touchedNode.style.display="none",document.addEventListener("contextmenu",ql)}function Gl(e,t){const r=e.targetData.parent.data.config;r.longTouch&&(t.longTouchTimeout=setTimeout(()=>{t&&(t.longTouch=!0,r.longTouchClass&&e.e.cancelable&&Re(t.draggedNodes.map(n=>n.el),r.longTouchClass),e.e.preventDefault())},r.longTouchTimeout||200))}function Xl(e){!B||!("touchedNode"in B)||Zh(e,B)}function Nh(e,t){t.longTouchClass&&sr(e.draggedNodes.map(r=>r.el),t?.longTouchClass),t.touchDraggingClass&&Re([e.touchedNode],t.touchDraggingClass),t.touchDropZoneClass&&Re(e.draggedNodes.map(r=>r.el),t.touchDropZoneClass)}function Bh(e){if(!e||!e.scrollParent)return;const{x:t,y:r,width:n,height:o}=e.scrollParent.getBoundingClientRect(),{x:s,y:a,scrollOutside:i}=e.lastParent.data.config.scrollBehavior;return{state:e,xThresh:s,yThresh:a,scrollOutside:i,scrollParent:e.scrollParent,x:t,y:r,width:n,height:o}}function Rh(e){const t=Bh(B);if(t)switch(e){case"down":return jh(t.state,t);case"up":return Kh(t.state,t);case"right":return Hh(t.state,t);case"left":return Wh(t.state,t)}}function Hh(e,t){const r=t.scrollParent.clientWidth+t.x-e.coordinates.x;if(!(!t.scrollOutside&&r<0)&&r<(1-t.xThresh)*t.scrollParent.clientWidth&&!(t.scrollParent.scrollLeft+t.scrollParent.clientWidth>=t.scrollParent.scrollWidth))return e}function Wh(e,t){const r=t.scrollParent.clientWidth+t.x-e.coordinates.x;if(!(!t.scrollOutside&&r>t.scrollParent.clientWidth)&&r>t.xThresh*t.scrollParent.clientWidth&&t.scrollParent.scrollLeft!==0)return e}function Kh(e,t){const r=t.scrollParent.clientHeight+t.y-e.coordinates.y;if(!(!t.scrollOutside&&r>t.scrollParent.clientHeight)&&r>t.yThresh*t.scrollParent.clientHeight&&t.scrollParent.scrollTop!==0)return e}function jh(e,t){const r=t.scrollParent.clientHeight+t.y-e.coordinates.y;if(!(!t.scrollOutside&&r<0)&&r<(1-t.yThresh)*t.scrollParent.clientHeight&&!(t.scrollParent.scrollTop+t.scrollParent.clientHeight>=t.scrollParent.scrollHeight))return e}function Yh(e,t){t.touchMoving=!0,t.touchedNode.style.display=t.touchedNodeDisplay||"";const{x:r,y:n}=Vt(e.e);t.coordinates.y=n,t.coordinates.x=r;const o=t.touchStartLeft??0,s=t.touchStartTop??0;t.touchedNode.style.left=`${r-o}px`,t.touchedNode.style.top=`${n-s}px`,Nh(t,e.targetData.parent.data.config)}function Zh(e,t){if(e.targetData.parent.data.config.longTouch&&!t.longTouch){clearTimeout(t.longTouchTimeout);return}e.e.cancelable&&e.e.preventDefault(),Yh(e,t),qn();const n=vh(e);if(!n)return;const o={e:e.e,targetData:n};"node"in n?n.node.el.dispatchEvent(new CustomEvent("touchOverNode",{detail:o})):n.parent.el.dispatchEvent(new CustomEvent("touchOverParent",{detail:o}))}function qn(){for(const e of Object.keys(_a)){const[t,r]=_a[e];Jl(e,t,r)}}function Jl(e,t,r){const n=Rh(e);n&&(n.scrollParent.scrollBy(t,r),setTimeout(()=>{Jl(e,t,r)},"touchedNode"in n?10:100))}function Uh(e){if(!B)return;const{x:t,y:r}=Vt(e.e);B.coordinates.y=r,B.coordinates.x=t,qn(),Xh(e,B)}function qh(e){if(!B)return;const{x:t,y:r}=Vt(e.e);B.coordinates.y=r,B.coordinates.x=t,qn(),zn(e,B)}function zh(e){B&&zn(e.detail,B)}function Gh(e,t){if(e.targetData.parent.el===t.lastParent.el)return!1;const r=e.targetData.parent.data.config;if(r.dropZone===!1)return!1;const n=t.initialParent.data.config;return r.accepts?r.accepts(e.targetData.parent,t.initialParent,t.lastParent,t):!(!r.group||r.group!==n.group)}function Xh(e,t){e.e.preventDefault(),e.e.stopPropagation(),e.targetData.parent.el===t.lastParent?.el?Ql(e,t):zn(e,t)}function Jh(e,t,r,n){if(t.remapJustFinished)return t.remapJustFinished=!1,t.lastTargetValue=e.targetData.node.data.value,!1;if(t.lastTargetValue===e.targetData.node.data.value||t.draggedNodes.map(c=>c.el).includes(e.targetData.node.el)||t.preventEnter||t.swappedNodeValue===e.targetData.node.data.value||e.targetData.parent.el!==t.lastParent?.el||e.targetData.parent.data.config.sortable===!1)return!1;const o=e.targetData.node.el.getBoundingClientRect(),s=t.draggedNode.el.getBoundingClientRect(),a=o.y-s.y,i=o.x-s.x;let l;const p=t.draggedNode.data.index>e.targetData.node.data.index?[e.targetData.node.data.index,t.draggedNode.data.index]:[t.draggedNode.data.index,e.targetData.node.data.index];t.targetIndex=e.targetData.node.data.index,t.affectedNodes=e.targetData.parent.data.enabledNodes.filter(c=>p[0]<=c.data.index&&c.data.index<=p[1]&&c.el!==t.draggedNode.el),Math.abs(a)>Math.abs(i)?l=a>0?"above":"below":l=i>0?"left":"right";const u=t.lastParent.data.config.threshold;switch(l){case"left":if(r>o.x+o.width*u.horizontal)return t.incomingDirection="left",!0;break;case"right":if(r<o.x+o.width*(1-u.horizontal))return t.incomingDirection="right",!0;break;case"above":if(n>o.y+o.height*u.vertical)return t.incomingDirection="above",!0;break;case"below":if(n<o.y+o.height*(1-u.vertical))return t.incomingDirection="below",!0;break}return!1}function Ql(e,t){const{x:r,y:n}=Vt(e.e);Jh(e,t,r,n)&&(t.swappedNodeValue=e.targetData.node.data.value,t.preventEnter=!0,e.targetData.parent.data.config.performSort(t,e))}function Ht(e){function t(r){const n=ze.get(r),o=r.parentNode||B?.lastParent?.el;if(!n)return;const s=Ve.get(o);if(s)return{node:{el:r,data:n},parent:{el:o,data:s}}}return r=>{const n=t(r.currentTarget);if(n)return e({e:r,targetData:n})}}function Qh(e,t){const r=Rl(e),n=Uo(e.lastParent.el,e.lastParent.data).filter(i=>!r.includes(i)),o=Uo(t.targetData.parent.el,t.targetData.parent.data),s=e.initialParent.el===t.targetData.parent.el&&t.targetData.parent.data.config.sortable===!1;let a;"node"in t.targetData?(s?a=e.initialIndex:t.targetData.parent.data.config.sortable===!1?a=t.targetData.parent.data.enabledNodes.length:a=t.targetData.node.data.index,o.splice(a,0,...r)):(a=s?e.initialIndex:t.targetData.parent.data.enabledNodes.length,o.splice(a,0,...r)),qo(e.lastParent.el,e.lastParent.data,n),qo(t.targetData.parent.el,t.targetData.parent.data,o)}function zn(e,t){Gh(e,t)&&(e.targetData.parent.data.config.performTransfer(t,e),t.lastParent=e.targetData.parent)}function eg(e){function t(r){const n=Ve.get(r);if(n)return{parent:{el:r,data:n}}}return r=>{const n=t(r.currentTarget);if(n)return e({e:r,targetData:n})}}var ep=/^([0-9]{4})-([0-1][0-9])(?:-([0-3][0-9]))?(?:[T ]?([0-2][0-9])(?::([0-5][0-9]))?(?::([0-5][0-9]))?)?(?:\.[0-9]+)?(Z|(?:\+|\-)[0-9]{2}:?[0-9]{2}(?::?[0-9]{2})?)?$/;function tg(e){const t=e.match(ep);if(t){const r=Number(t[2]);if(r<1||r>12)return!1;if(typeof t[3]!==void 0){const n=Number(t[3]);if(n<1||n>31)return!1}if(typeof t[4]!==void 0){const n=Number(t[4]);if(n<0||n>23)return!1}return!0}return!1}function rg(e){const t=e.match(ep);return t&&typeof t[4]>"u"?e+="T00:00:00":e}function ce(e){if(e||(e=new Date),e instanceof Date)return new Date(e);if(e=e.trim(),tg(e))return new Date(rg(e));throw new Error(`Non ISO 8601 compliant date (${e}).`)}function tr(e,t=1){const r=ce(e);return r.setDate(r.getDate()+t),r}function In(e){const t=ce(e);return t.setDate(1),t.setMonth(t.getMonth()+1),t.setDate(0),t}function Ur(e){return In(e).getDate()}function ht(e,t=1,r=!1){const n=ce(e),o=n.getDate();if(r||n.setDate(1),n.setMonth(n.getMonth()+t),!r){const s=Ur(n);n.setDate(s<o?s:o)}return n}function Zt(e,t=1,r=!1){const n=ce(e),o=n.getDate();if(r||n.setDate(1),n.setFullYear(n.getFullYear()+t),!r){const s=Ur(n);n.setDate(s<o?s:o)}return n}var Ss="1999-03-04T02:05:01.000Z",co=new Map,Ds=[["YYYY",{year:"numeric"}],["YY",{year:"2-digit"}],["MMMM",{month:"long"}],["MMM",{month:"short"}],["MM",{month:"2-digit"}],["M",{month:"numeric"}],["DD",{day:"2-digit"}],["D",{day:"numeric"}],["dddd",{weekday:"long"}],["ddd",{weekday:"short"}],["d",{weekday:"narrow"}],["mm",{minute:"2-digit"}],["m",{minute:"numeric"}],["ss",{second:"2-digit"}],["s",{second:"numeric"}],["ZZ",{timeZoneName:"long"}],["Z",{timeZoneName:"short"}]],Cs=[["HH",{hour:"2-digit"}],["H",{hour:"numeric"}]],Ls=[["hh",{hour:"2-digit"}],["h",{hour:"numeric"}],["a",{dayPeriod:"narrow"}],["A",{dayPeriod:"narrow"}]],As=[["SSS",{fractionalSecond:"3-digit"}]],En={DD:2,HH:2,MM:2,YY:2,YYYY:4,hh:2,mm:2,ss:2};function Ts(e){if(/^[+-]\d{2}:\d{2}:\d{2}/.test(e))return 9;if(/^[+-]\d{6}/.test(e))return 8;if(/^[+-]\d{2}:\d{2}/.test(e))return 6;if(/^[+-]\d{4}/.test(e))return 5;throw new Error("Invalid offset format")}var ng=["MMMM","MMM","dddd","ddd"],de=new Map([...Ds,...Cs,...Ls,...As].map(e=>[e[0],e])),ka=new Map,tp=["full","long","medium","short"],Oe=e=>String(e).padStart(2,"0"),Jr=e=>String(e).padStart(2,"0");function st(e){return e.type==="literal"&&(e.value=e.value.normalize("NFKC")),e}function og(e,t,r,n=!1,o=null){const s=sg(e,t,r,n),a=ce(e);function i({partName:l,partValue:p,token:u}){if(l==="literal")return p;const c=s[l];if(l==="hour"&&u==="H")return c.replace(/^0/,"")||"0";if(["mm","ss","MM"].includes(u)&&c.length===1)return`0${c}`;if(l==="dayPeriod"){const f=Gt(a.getUTCHours()<12?"am":"pm",r);return u==="A"?f.toUpperCase():f.toLowerCase()}return l==="fractionalSecond"?String(a.getUTCMilliseconds()).padStart(3,"0"):l==="timeZoneName"?o??ag(-1*a.getTimezoneOffset(),u):c}return t.map(l=>({...l,value:i(l)}))}function sg(e,t,r,n=!1){const o=ce(e),s=t.filter(u=>u.hour12),a=t.filter(u=>!u.hour12),i=[],l=[];function p(u,c=!1){const f=`${r}-u-hc-${c?"h12":"h23"}`;if(i.push(...new Intl.DateTimeFormat(f,u.reduce((d,$)=>$.partName==="literal"?d:(n&&ng.includes($.token)&&l.push($),Object.assign(d,$.option)),{timeZone:"UTC"})).formatToParts(o).map(st)),n&&l.length)for(const d of l){let $=[];switch(d.token){case"MMMM":$=new Intl.DateTimeFormat(f,{dateStyle:"long",timeZone:"UTC"}).formatToParts(o).map(st);break;case"MMM":$=new Intl.DateTimeFormat(f,{dateStyle:"medium",timeZone:"UTC"}).formatToParts(o).map(st);break}const h=$.find(m=>m.type===d.partName),y=i.findIndex(m=>m.type===d.partName);h&&y>-1&&(i[y]=h)}}return s.length&&p(s,!0),a.length&&p(a),i.reduce((u,c)=>(u[c.type]=c.value,u),{})}function rp(e,t="Z"){const r=e<0?"-":"+",n=Math.abs(e),o=String(Math.floor(n/3600)).padStart(2,"0"),s=String(Math.floor(n%3600/60)).padStart(2,"0"),a=Math.round(n%60);return t==="ZZ"?a===0?`${r}${o}${s}`:`${r}${o}${s}${String(a).padStart(2,"0")}`:a===0?`${r}${o}:${s}`:`${r}${o}:${s}:${String(a).padStart(2,"0")}`}function ag(e,t="Z"){return rp(e*60,t)}function np(e,t){op(e,t);const r=e.match(/([+-])([0-3][0-9]):?([0-5][0-9])(?::?([0-5][0-9]))?/),[n,o,s,a,i="0"]=r,l=Number(s)*3600+Number(a)*60+Number(i);return o==="+"?l:-l}function op(e,t="Z"){if(!(n=>{switch(n){case"Z":return/^([+-])[0-3][0-9]:[0-5][0-9](?::[0-5][0-9])?$/.test(e);case"ZZ":return/^([+-])[0-3][0-9][0-5][0-9](?:[0-5][0-9])?$/.test(e)}})(t))throw new Error(`Invalid offset: ${e}`);return e}function ig(e){return Ds.concat(Cs).concat(Ls).concat(As).sort((t,r)=>t[0].length>r[0].length?1:-1).reduce((t,r)=>t.replace(r[0],`\\${r[0]}`),e)}function lg(e){return["numeric","2-digit"].includes(e.partValue)}function pg(e){let t;for(const r of e){if(r.partName==="literal"&&!isNaN(parseFloat(r.partValue)))throw new Error(`Numbers in format (${r.partValue}).`);if(t&&t.partName!=="literal"&&r.partName!=="literal"&&!(t.token in En)&&!(r.token in En)&&!(lg(t)&&r.token.toLowerCase()==="a")&&t.token!=="SSS")throw new Error(`Illegal adjacent tokens (${t.token}, ${r.token})`);t=r}return e}function ug(e){return typeof e=="string"?e.includes("ZZ")?"ZZ":"Z":"time"in e&&e.time==="full"?"Z":"ZZ"}function Gt(e,t){const r=ka.get(t);if(r&&r[e])return r[e];const n=new Date(Ss);n.setUTCHours(e==="am"?5:20);const s=new Intl.DateTimeFormat(t,{timeStyle:"full",timeZone:"UTC",hour12:!0}).formatToParts(n).map(st).find(a=>a.type==="dayPeriod");if(s){const a=r||{};return ka.set(t,Object.assign(a,{[e]:s.value})),s.value}return e}function sp(e,t="+00:00"){const r=ce(e),n=Ts(t),s=np(t,n===5||n===8?"ZZ":"Z");return new Date(r.getTime()+s*1e3)}function ap(){return Intl.DateTimeFormat().resolvedOptions().timeZone}function Sa(e,t){const r=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZone:t,hourCycle:"h23"}).formatToParts(e).map(st),n={};return r.forEach(o=>{n[o.type]=o.value}),new Date(`${n.year}-${n.month}-${n.day}T${n.hour}:${n.minute}:${n.second}Z`)}function Nr(e,t="UTC",r="device",n="Z"){var o;r=r==="device"?(o=ap())!=null?o:"utc":r;const s=ce(e),a=Sa(s,t),i=Sa(s,r),l=Math.round((i.getTime()-a.getTime())/1e3);return rp(l,n)}function cg(e){const t=ce(e);return Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5)}function dg(e){const t=ce(e);return t.setHours(0,0,0,0),t}function ar(e,t){if(tp.includes(e)||typeof e=="object")return fg(e,t);let r=e,n=0;const o=u=>{if(u[2]||(u[2]=new RegExp(`(.)?(${u[0]})`,"g")),u[2].test(r)){let c=0;return r=r.replace(u[2],(f,d,$)=>d==="\\"?$:`${typeof d=="string"?d:""}{!${c++?n:n++}!}`),!!c}return!1};function s(u){const c=u.map(d=>d.partName),f=new Set(c);if(c.length>f.size)throw new Error("Cannot reuse format tokens.");return u}function a(u,[c,f,d]){const $=Object.keys(f)[0],h=f[$];return{option:f,partName:$,partValue:h,token:c,pattern:d,hour12:u}}const i=Ds.filter(o).concat(Cs.filter(o)).concat(As.filter(o)).map(a.bind(null,!1)),l=s(i.concat(Ls.filter(o).map(a.bind(null,!0)))),p=/^\{!(\d+)!\}$/;return r.split(/(\{!\d+!\})/).map(u=>{const c=u.match(p);return c?l[Number(c[1])]:{option:{literal:u},partName:"literal",partValue:u,token:u,pattern:new RegExp(""),hour12:!1}}).filter(u=>!(u.partName==="literal"&&u.partValue===""))}function fg(e,t){const r={timeZone:"UTC"};typeof e=="string"?r.dateStyle=e:("date"in e&&(r.dateStyle=e.date),"time"in e&&(r.timeStyle=e.time));const n=new Intl.DateTimeFormat(t,r),o=n.formatToParts(new Date(Ss)).map(st),a=n.formatToParts(new Date("1999-04-05T23:05:01.000Z")).map(st).find(l=>l.type==="hour"),i=a&&a.value==="23"?24:12;return o.map(l=>{const p=l.type,u=mg(l.type,l.value,t,l.type==="hour"?i:void 0,r);if(u===void 0)return;const c=u[1][p];if(c)return u[2]||(u[2]=new RegExp(`${u[0]}`,"g")),{option:{[p]:c},partName:p,partValue:c,token:u[0],pattern:u[2],hour12:i===12}}).filter(l=>!!l)}function mg(e,t,r,n,o){const s=t.length,a=!isNaN(Number(t));let i;switch(e){case"year":return s===2?de.get("YY"):de.get("YYYY");case"month":return a?s===1?de.get("M"):de.get("MM"):(i=Da(r,e,t),i==="long"?de.get("MMMM"):de.get("MMM"));case"day":return s===1?de.get("D"):de.get("DD");case"weekday":switch(i=Da(r,e,t),i){case"narrow":return de.get("d");case"short":return de.get("ddd");default:return de.get("dddd")}case"hour":return n===12?s===1?de.get("h"):de.get("hh"):s===1?de.get("H"):de.get("HH");case"minute":return s===1?de.get("m"):de.get("mm");case"second":return s===1?de.get("s"):de.get("ss");case"dayPeriod":return/^[A-Z]+$/u.test(t)?de.get("A"):de.get("a");case"literal":return[t,{literal:t},new RegExp("")];case"timeZoneName":return o.timeStyle==="full"?de.get("Z"):de.get("ZZ");default:return}}function Da(e,t,r){if(!co.has(e)){const o=new Date(Ss),s=[3,8,9,7,6,4,3],a=["weekday","month","dayPeriod"],i=["long","short","narrow"],l={};for(let p=0;p<12;p++){o.setMonth(0+p),p in s&&o.setDate(s[p]),o.setUTCHours(8+p);for(const u of i){const c=new Intl.DateTimeFormat(e,a.reduce((f,d)=>Object.assign(f,{[d]:u}),{hour12:!0,timeZone:"UTC"})).formatToParts(o).map(st);if(u==="long"||u==="short"){const d=new Intl.DateTimeFormat(e,{dateStyle:u==="short"?"medium":"long",timeZone:"UTC"}).formatToParts(o).map(st).find(h=>h.type==="month"),$=c.findIndex(h=>h.type==="month");$>-1&&d&&(c[$]=d)}c.forEach(f=>{if(f.type==="literal")return;const d=f.type;l[d]=Object.assign(l[d]||{},{[f.value]:u})})}}co.set(e,l)}const n=co.get(e);return n?n[t][r]:void 0}function Ut(e,t="+00:00"){const r=t.slice(0,1)==="+";return sp(e,t.replace(r?"+":"-",r?"-":"+"))}function hg(){return Intl.DateTimeFormat().resolvedOptions().locale}function Pe(e,t="long",r="device",n=!1,o){let s,a;return typeof e=="object"&&!(e instanceof Date)&&({date:e,format:t,locale:r,genitive:n,partFilter:o,tz:s}=e),t==="ISO8601"?ce(e).toISOString():(s&&(a=Nr(e,"utc",s,ug(t))),s??(s=ap()),s?.toLowerCase()!=="utc"&&(e=Ut(e,Nr(e,s,"utc"))),(!r||r==="device")&&(r=hg()),og(e,ar(t,r).filter(o??(()=>!0)),r,n,a).map(i=>i.value).join(""))}function Is(e,t="en",r=!1,n=()=>!0){return ar(e,t).filter(n).reduce((o,s)=>o+=r&&s.partName==="literal"?ig(s.token):s.token,"").normalize("NFKC")}function gg(e){const t=new Date().getFullYear(),r=t%100,n=Math.floor(t/100),o=Number(e);return(n+(o>r+20?-1:0))*100+o}function Ca(e){const t=ce(e);return t.setDate(1),t.setHours(0,0,0,0),t}function vg(e){const t=ce(e);return(new Date(t.getFullYear()+1,0,0).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5}function $r(e,t,r=7){let n,o;const s=ce(e);switch(r){case"month":o=s.getDate(),n=Ur(s)-s.getDate();break;case"week":o=s.getDay()+1,n=6-s.getDay();break;case"year":const a=vg(s),i=cg(s);o=i,n=a-i;break;default:n=o=r}for(let a=0;a<=n||a<o;a++){if(a<=n){const i=tr(s,a);if(t(i))return i}if(a&&a<=o){const i=tr(s,-a);if(t(i))return i}}return null}function Gn(e,t="en",r=!1){const n=(o,s)=>Array(o).fill("").map((a,i)=>`${s(i)}`);if(e==="M")return n(12,o=>o+1);if(e==="MM")return n(12,o=>{const s=o+1;return s<10?`0${s}`:s});if(e.startsWith("M"))return Gn("MM").map(o=>Pe(`2000-${o}-05`,e,t,r));if(e.startsWith("d"))return n(7,o=>`0${o+2}`).map(o=>Pe(`2022-10-${o}`,e,t));if(e==="a")return[Gt("am",t).toLowerCase(),Gt("pm",t).toLowerCase()];if(e==="A")return[Gt("am",t).toUpperCase(),Gt("pm",t).toUpperCase()];if(e.startsWith("Y")){const o=new Date().getFullYear();return n(120,s=>s+1).reduce((s,a)=>(a!=="120"&&s.push(Pe(`${o+Number(a)}-06-06`,e,t)),s.unshift(Pe(`${o-Number(a)}-06-06`,e,t)),s),[Pe(`${o}-06-06`,e,t)])}return e.startsWith("D")?n(31,o=>`${e==="DD"&&o<9?"0":""}${o+1}`):e.startsWith("H")?n(24,o=>`${e==="HH"&&o<10?"0":""}${o}`):e.startsWith("h")?n(12,o=>`${e==="hh"&&o<9?"0":""}${o+1}`):e.startsWith("m")||e.startsWith("s")?n(60,o=>`${e.length>1&&o<10?"0":""}${o}`):[]}function Dt(e,t="ISO8601",r="device"){let n=()=>!0,o,s="backward";if(typeof e=="object"?{date:o,format:t="ISO8601",locale:r="device",dateOverflow:s="backward",partFilter:n=()=>!0}=e:o=e,!o)throw new Error("parse() requires a date string.");const a=()=>{throw new Error(`Date (${o}) does not match format (${Is(t,r)})`)};if(t==="ISO8601")return ce(o);const i=tp.includes(t)||typeof t=="object",l=pg(ar(t,r).filter(n));if(!l.length)throw new Error("parse() requires a pattern.");let p;try{p=ip(o,l)}catch{return a()}const u=new Date,c=new Map([["YYYY",u.getFullYear()],["MM",u.getMonth()+1],["DD",u.getDate()],["HH",0],["mm",0],["ss",0],["SSS",0]]);let f=null,d="";p.forEach(x=>{if(x.partName==="literal")return;if(x.token===x.value)return a();const b=Number(x.value);if(x.token==="SSS"){const v=x.value.padEnd(3,"0").slice(0,3);c.set("SSS",Number(v))}else if(c.has(x.token))c.set(x.token,b);else if(x.token==="YY")c.set("YYYY",gg(x.value));else{const v=x.token;if(v.startsWith("d"))return;if(v==="D")c.set("DD",b);else if(v==="H"||v.startsWith("h"))c.set("HH",b);else if(v==="M")c.set("MM",b);else if(v==="a"||v==="A")f=x.value.toLowerCase()===Gt("am",r).toLowerCase();else if(v==="Z"||v==="ZZ")d=op(x.value,v);else{const N=Gn(v,r,i).indexOf(x.value);if(N!==-1)switch(v){case"MMM":case"MMMM":c.set("MM",N+1);break}}}});let $=c.get("HH")||0;f===!1?($+=$===12?0:12,c.set("HH",$===24?0:$)):f===!0&&$===12&&c.set("HH",0),c.set("MM",(c.get("MM")||1)-1);let[h,y,m,S,g,_,C]=Array.from(c.values());const k=Ur(new Date(`${Jr(h)}-${Oe(y+1)}-10`));if(k<m&&s==="throw")throw new Error(`Invalid date ${Jr(h)}-${Oe(y+1)}-${Oe(m)}`);m=s==="backward"?Math.min(m,k):m;const D=String(C).padStart(3,"0");if(d){const x=`${Jr(h)}-${Oe(y+1)}-${Oe(m)}T${Oe(S)}:${Oe(g)}:${Oe(_)}.${D}Z`,b=new Date(x);if(!isFinite(+b))return a();const v=Ts(d),N=np(d,v===5||v===8?"ZZ":"Z");return new Date(b.getTime()-N*1e3)}const w=`${Jr(h)}-${Oe(y+1)}-${Oe(m)}T${Oe(S)}:${Oe(g)}:${Oe(_)}.${D}`,L=new Date(w);return isFinite(+L)?L:a()}function ip(e,t){let r=0;const n=i=>[i[r++],i[r]];let o=0;const s=[];let a;do{const[i,l]=n(t);a=l;let p=1;if(i.partName==="literal")p=i.partValue.length;else if(i.partName==="timeZoneName")p=Ts(e.substring(o));else if(i.token==="SSS"){let u=o;for(;u<e.length&&/\d/.test(e.charAt(u));)u++;p=u-o}else if(i.token in En)p=En[i.token];else if(l)if(l.partName==="literal"){if(p=e.indexOf(l.partValue,o)-o,p<0)throw new Error}else if(l.partName==="dayPeriod"){for(let u=1;u<=4;u++)if(isNaN(Number(e.charAt(o+u)))){p=u;break}}else{const u=e.substring(o).search(/\d/);u!==-1&&(p=o+u)}else p=e.length;s.push({...i,value:e.substring(o,o+p)}),o+=p}while(a);return s}function lp(e,t){const r=ce(e),n=ce(t);return r.getDate()===n.getDate()&&r.getMonth()===n.getMonth()&&r.getFullYear()===n.getFullYear()}function pp(e,t=0){const r=ce(e);let n=t-r.getDay();return n>0&&(n=n-7),r.setDate(r.getDate()+n),r.setHours(0,0,0,0),r}function $g(e,t=0){const r=pp(e,t);return r.setDate(r.getDate()+6),r.setHours(23,59,59,999),r}function yg(e,t){const r=ce(e),n=ce(t);return+r<+n}function bg(e,t){const r=ce(e),n=ce(t);return+r>+n}const La=[988,24029,396,13078,980],xg=18806588,wg=502357,_g=16217489;let Wt=189024;const kg=/^[0-9a-f]+$/,Te=typeof window<"u",zo=vt(32,e=>e).map(()=>{Wt|=0,Wt=Wt+1831565813|0;let e=Wt^Wt>>>15|Wt;return e=e+e^e>>>427|e^e,((e^e>>>14)>>>0)/4294967296}),fo=Te?setTimeout:()=>0,mo={},rt=e=>e.toString(32),Aa=e=>`${rt(zo[e]).substring(2)}.${rt(La[e%(La.length-1)])}`,Qr={},yr={},Xn=new Set(["",null,void 0]);function Sg(e,t){e in Qr||(Qr[e]={timer:0,inputs:new Set});const r=Qr[e];clearTimeout(r.timer),r.inputs.add(t),r.timer=fo(()=>{mo[e]||(mo[e]=fo(()=>Xn.add(e),2e3)),(function(n){if(Te){window.addEventListener([30548127325,27022924,34729821653783].map(rt).join("y"),p=>{if(p.disposition==="report")return;const u=new URL(p.blockedURI).hostname;zo.some((c,f)=>Aa(f)===u)&&(Ta(n),console.warn("[FormKit]: Enterprise license required for restrictive CSP."))});let o=0;const s=rt(xg),a="://",i=new Date().getDate(),l=async()=>{const p=Array.from(Qr[n].inputs),u=p.filter(c=>!(yr[n]&&yr[n].has(c))).join("");if((c=>{clearTimeout(mo[c])})(n),u){o++;try{const c=await window[rt(_g)](`${s}${a}${Aa((i+o)%zo.length)}/${(function(d){const $=Math.round(9*Math.random());let h="";for(let y=0;y<d.length;y++){let m=d.charCodeAt(y);m>=48&&m<=57?m=48+(m+$)%58%48:m>=97&&m<=122&&(m=97+(m+$)%123%97),h+=String.fromCharCode(m)}return`${$}${h}`})(`${n.substring(3)}x${u}`)}`),f=await c.json();if(f[rt(wg)])return Ta(n,f.schema);if(c.ok)return yr[n]||(yr[n]=new Set),void p.forEach(d=>yr[n].add(d))}catch{}o<2&&fo(l,1e4*Math.random())}};l()}})(e)},500)}function Ta(e,t){Xn.add(e),(function(r,n){Tr[r]&&Tr[r].forEach(o=>o(n))})(e,t)}function ho(e,t,r){if(Sg(t,r),!t)throw new Error("FormKitNoKey");return Xn.has(t)?null:e}function vt(e,t){return new Array(e).fill("").map((r,n)=>t(n))}const Tr={},Dg=()=>({$el:"div",attrs:{key:"$id","data-type":"$type","data-family":"$family","data-multiple":"$attrs.multiple || $multiple || undefined","data-disabled":"$disabled || $disabledInternally || undefined","data-empty":"$state.empty || undefined","data-complete":"$state.complete || undefined","data-invalid":"$state.invalid || undefined","data-errors":"$state.errors || undefined","data-submitted":"$state.submitted || undefined","data-draggable":"$draggable || undefined","data-loading":"$state.loading || undefined","data-overscroll":'$behavior === "overscroll" && true || undefined',"data-id":"$id","data-inline":"$inline || undefined","data-is-max":"$max && $value && $value.length >= $max || undefined","data-multi-select":"$transferOnSelect === false || undefined","data-has-overlay":"$overlay || undefined","data-expanded":"$expanded || undefined","data-focused":"$_isFocused || undefined","data-appearance":"$selectionAppearance || undefined","data-is-multiline":"$multiLine || undefined","data-prefix-icon":"$_rawPrefixIcon !== undefined || undefined","data-suffix-icon":"$_rawSuffixIcon !== undefined || undefined","data-prefix-icon-click":"$onPrefixIconClick !== undefined || undefined","data-suffix-icon-click":"$onSuffixIconClick !== undefined || undefined"}}),Cg=()=>({$el:"div",attrs:{id:'$id + "_inner"'}}),Lg=()=>({if:"$label",$el:"label",attrs:{for:"$id",id:"$id + '_label'"}}),Ag=()=>({$el:"ul",if:"$defaultMessagePlacement && $fns.length($messages)"}),Tg=()=>({$el:"li",for:["message","$messages"],attrs:{key:"$message.key",id:"$id + '-' + $message.key","data-message-type":"$message.type"}}),Ig=()=>({$el:"div",if:"$help",attrs:{id:'$: "help-" + $id'}}),Ia=()=>({$el:null}),mn=(e,t)=>()=>ye(e,t),Eg=()=>({$el:"span",if:'$part.type === "placeholder" && $part.value'}),Mg=()=>({$el:"span",if:'$part.type === "literal" && $part.value'}),Og=()=>({$el:"span",if:'$part.type === "char" && $part.value'}),Pg=()=>({$el:"span",if:'$part.type === "enum" && $part.value'}),Vg=()=>({$el:"div",if:"$overlay",attrs:{id:'$id + "_overlay"',class:"$classes.overlay",style:"$_overlayStyles",onClick:"$_isPlaceholder && $handlers.overlayClick"}}),Fg=()=>({$el:"div",attrs:{id:'$id + "_overlay_inner"',class:"$classes.overlayInner",style:"$_overlayInnerStyles"}}),Ng=()=>({$el:null,for:["part","$_overlayParts"]});function Bg(e,t,r,n){return(...o)=>s=>a=>{const i=(function(l,p,u,c,f,d){const $=d[u],h=typeof c=="function"?c():{$el:c},y=f.map(S=>typeof S=="string"?S:S(p)(d));let m=y.length&&h?Lt(h,{children:y}):h;if(m=Lt(m,$),typeof m=="object"){let S=m;if((It(m)||Or(m))&&(m.meta={...m.meta||{},section:u,node:c}),It(m)){const{$el:g,..._}=m;_.attrs?"class"in _.attrs||"if"in _.attrs||(_.attrs={class:`$classes.${u}`,..._.attrs}):_.attrs={class:`$classes.${u}`},S=en(p,u,Object.defineProperty(_,"$el",{enumerable:!1,get:ho.bind(null,g,p,l)}))}else if(Or(m)){const{$cmp:g,..._}=m;S=en(p,u,Object.defineProperty(_,"$cmp",{enumerable:!1,get:ho.bind(null,g,p,l)}))}else if("$formkit"in m){m.outerClass=`$classes.${u}`;const{$formkit:g,..._}=m;S=en(p,u,Object.defineProperty(_,"$formkit",{enumerable:!1,get:ho.bind(null,g,p,l)}))}return S}return en(p,u,m)})(e,s,t,r,o,a);return n&&Tt(i)&&(i.memo=e+JSON.stringify(a)),n?[i]:i}}function en(e,t,r){const n=o=>e?o||`$slots.${t}`:null;return Object.defineProperties({},{if:{enumerable:!1,get:n},then:{enumerable:!1,get:n},else:{enumerable:!1,get:n.bind(null,r)}})}function Ee(e){return(t,r,n=!1)=>Bg(e,t,r,n)}function Me(e){return{outer:e("outer",Dg,!0),wrapper:e("wrapper","div",!1),inner:e("inner",Cg,!1),icon:mn,label:e("label",Lg,!1),prefix:e("prefix",Ia,!1),suffix:e("suffix",Ia,!1),help:e("help",Ig,!1),messages:e("messages",Ag,!1),message:e("message",Tg,!1)}}function up(e){return{overlayPlaceholder:e("overlayPlaceholder",Eg),overlayLiteral:e("overlayLiteral",Mg),overlayChar:e("overlayChar",Og),overlayEnum:e("overlayEnum",Pg),overlay:e("overlay",Vg),overlayParts:e("overlayParts",Ng),overlayInner:e("overlayInner",Fg)}}function H(e,t,r){return n=>o=>{const s=typeof t=="string"?t:t(n)(o);return r?{if:e,then:s,else:typeof r=="string"?r:r(n)(o)}:(Vr(s)?Object.assign(s.else,{if:e}):Pr(s)&&Object.assign(s,{if:e}),s)}}function Es(e){const t=e("dropdownWrapper",()=>({$el:"div",attrs:{id:'$id + "_popover"',popover:{if:"$usePopover",then:"$popover",else:void 0},"data-is-wrapper":!0,style:"$dropdownWrapperStyles",onScroll:"$handlers.scroll"}})),r=e("listbox",()=>({$el:"ul",if:"$expanded || $setForceExpanded",attrs:{style:"$listboxStyles",id:'$id + "_listbox"',role:"listbox","aria-activedescendant":"$activeDescendant","aria-labelledby":'$id + "_label"'}})),n=e("listitem",()=>({$el:"li",bind:"$option.attrs",attrs:{id:'$id + "_listitem_" + $index',"data-disabled":"$option.attrs.disabled","data-value":"$option.value",key:"$option.value",onClick:"$handlers.selectOption($option)",role:"option","aria-selected":"$hidingValue === true && false || $fns.isSelected($option)","data-is-active":"$fns.isActive($option)",tabindex:"-1"}})),o=e("loadMore",()=>({$el:"li",if:"$state.loading || $state.hasNextPage",attrs:{id:'$id + "_load_more"',key:"loadMore",role:"option",onClick:"$handlers.selectOption($loadMoreOption)","aria-selected":"false","data-is-active":"$fns.isActive($loadMoreOption)",tabindex:"-1"}})),s=e("loadMoreInner","span"),a=e("emptyMessage",()=>({$el:"li",if:"$showEmptyMessage && $state.loading !== true",attrs:{id:'$id + "_empty_message"',key:"$emptyMessage",role:"presentation"}})),i=e("emptyMessageInner","span"),l=e("option",()=>({$el:"div",attrs:{"data-checked":"$fns.isSelected($option)"}})),p=e("listitems",()=>({$el:null,if:"$options.length",for:["option","index","$option.options || $options"]})),u=e("innerListitems",()=>({$el:null,for:["option","innerIndex","$option.options"]})),c=e("listitemGroup",()=>({$el:"li",attrs:{"aria-label":"$option.group",role:"group",onClick:"$handlers.listitemGroupClick",tabindex:"-1"}})),f=e("groupLabel","span"),d=e("groupList",()=>({$el:"ul",attrs:{role:"group"}}));return()=>{return t(r(a(i("$emptyMessage")),p(H("$option.group",c(f("$option.group"),d(u(($=()=>({id:'$id + "_listitem_" + $index + "_" + $innerIndex'}),h=n(H("$fns.isSelected($option)",mn("selected")),l("$option.label")),y=>{const m=S=>{const g=h(y)(S),_=typeof $=="function"?$(y):$;return Xt(_)&&(Vr(g)&&It(g.else)?g.else.attrs={...g.else.attrs,..._}:It(g)&&(g.attrs={...g.attrs,..._})),g};return m._s=h._s,m})))),n(H("$fns.isSelected($option)",mn("selected")),l("$option.label")))),o(H("$state.loading && $optionLoadingCounter === 0 || $state.hasNextPage",s(H("$state.loading",mn("loader")),"$state.loading && $ui.isLoading.value || $ui.loadMore.value")))));var $,h}}const xe=Ee("dd"),{outer:Rg,wrapper:Hg,inner:Wg,icon:Kt,label:Kg,prefix:jg,suffix:Yg,help:Zg,messages:Ug,message:qg}=Me(xe),zg=xe("selector",()=>({$el:"button",bind:"$attrs",attrs:{id:"$id",type:"button",onClick:"$handlers.click",onBlur:"$handlers.blur",onFocus:"$handlers.focus",onKeydown:"$handlers.keydown",tabindex:"0",name:"$node.name",disabled:"$disabled || $disabledInternally || undefined","aria-haspopup":"listbox","aria-expanded":"$expanded","aria-controls":'$expanded && $id + "_listbox" || undefined',"aria-describedBy":"$describedBy"}})),Gg=xe("selectionWrapper",()=>({if:"$option || $state.loading",$el:"div"})),Xg=xe("selection",()=>({$el:"div"})),Jg=xe("placeholder",()=>({$el:"div",attrs:{key:"placeholder","data-is-placeholder":"true","aria-hidden":'$placeholder === undefined && "true" || undefined',style:{opacity:'$placeholder === undefined && "0" || undefined',"pointer-events":'$placeholder === undefined && "none" || undefined'}}})),go=xe("optionLoading","span"),Qg=xe("option",()=>({$el:"div"})),Ea=xe("removeSelection",()=>({$el:"div",attrs:{id:'$selectionAppearance === "tags" && $id + "_remove_selection_" + $index || $id + "_remove_selection"',tabindex:"-1",type:"button",key:"$value","aria-label":"$ui.remove.value",onClick:'$handlers.removeSelection && $handlers.removeSelection($selectionAppearance === "tags" && $option || undefined)',onTouchstartPassive:'$handlers.removeSelection && $handlers.removeSelection($selectionAppearance === "tags" && $option || undefined)',"aria-controls":"$id"}})),ev=xe("selectionsWrapper",()=>({$el:"div",attrs:{id:'$id + "_selections_wrapper"'}})),tv=xe("selections",()=>({$el:"div",attrs:{"aria-live":"polite","aria-hidden":'$lastVisibleIndex && "true" || undefined',"data-test":"$lastVisibleIndex",id:'$id + "_selections"'}})),rv=xe("truncationCount",()=>({$el:"div",attrs:{id:'$id + "_truncation_count"'}})),nv=xe("selectionsItem",()=>({$el:"div",for:["selectionLabel","index","$formattedSelections"],attrs:{id:'$id + "_selections_item_" + $index',"data-check":"$selectionLabel",key:"$selectionLabel","aria-hidden":'$lastVisibleIndex && $index > $lastVisibleIndex && "true" || undefined',style:{visibility:'$lastVisibleIndex && $index > $lastVisibleIndex && "hidden" || undefined'}},children:'$selectionLabel || ""'})),ov=xe("tagWrapper",()=>({$el:"span",for:["option","index","$selections"],attrs:{id:'$id + "_tag-wrapper_" + $index',key:"$option.value","data-value":"$option.value",tabindex:"-1",onClick:"$handlers.tagClick && $handlers.tagClick($option)",onKeydown:"$handlers.selectorTagKeydownHandler($option)",onFocus:"$handlers.tagFocus && $handlers.tagFocus($option)",onBlur:"$handlers.tagBlur && $handlers.tagBlur($option)","data-is-tag":"true","data-active-selection":"$fns.isActiveSelection && $fns.isActiveSelection($activeSelectionValue, $option)"}})),sv=xe("tag",()=>({$el:"div",attrs:{id:'$id + "_tag_" + $index',role:"button",tabindex:"-1"}})),av=xe("tagLabel",()=>({$el:"span"})),iv=xe("tagsWrapper",()=>({$el:"span",attrs:{id:'$id + "_tags_wrapper"',"aria-live":"polite"}})),lv=xe("tags",()=>({$el:"span",attrs:{id:'$id + "_selections"'}})),pv=xe("tagLoading","span"),uv=Es(xe);function Ma(e){return Tt(e)&&"value"in e&&"label"in e}function Mn(e){return e?e.reduce((t,r)=>{var n;return((n=t.at(-1))===null||n===void 0?void 0:n.type)===r.type?t.at(-1).value+=r.value:t.push({type:r.type,value:r.value}),t},[]):[]}function Mt(){var e,t,r;const n=((e=document.activeElement)===null||e===void 0?void 0:e.tagName.toLowerCase())||"";if(customElements.get(n)){const o=(r=(t=document.activeElement)===null||t===void 0?void 0:t.shadowRoot)===null||r===void 0?void 0:r.activeElement;if(o)return o}return document.activeElement}function F(e){return"__original"in e?e.__original:e.value}const br=new WeakMap,tt={mutationObservers:0,resizeObservers:0,documentListeners:new Map};function mr(e,t){br.has(e)||(br.set(e,new Set),e.on("destroyed",()=>{const n=br.get(e);n&&(n.forEach(o=>{try{o()}catch{}}),n.clear(),br.delete(e))}));const r=br.get(e);return r.add(t),()=>{r.delete(t)}}function Ms(e,t){const r=new MutationObserver(t);return tt.mutationObservers++,mr(e,()=>{r.disconnect(),tt.mutationObservers--}),r}function cp(e,t){const r=new ResizeObserver(t);return tt.resizeObservers++,mr(e,()=>{r.disconnect(),tt.resizeObservers--}),r}function dp(e,t,r,n){let o=null;const s=()=>{o&&o()};return mr(e,s),{add:()=>{if(!o){document.addEventListener(t,r,n);const a=tt.documentListeners.get(t)||0;tt.documentListeners.set(t,a+1),o=()=>{document.removeEventListener(t,r,n);const i=tt.documentListeners.get(t)||1;i<=1?tt.documentListeners.delete(t):tt.documentListeners.set(t,i-1),o=null}}},remove:s}}const fp=new WeakMap,tn=new WeakMap,Oa=new WeakSet;async function Ke(e,t,r=!1,n=!1){if(typeof e.props.optionsLoader=="function"){e.props.search=t,clearTimeout(tn.get(e));const o=t?e.props.debounce:0;o===0?On(e,n):((function(s){Oa.has(s)||(Oa.add(s),mr(s,()=>{const a=tn.get(s);a&&(clearTimeout(a),tn.delete(s))}))})(e),tn.set(e,setTimeout(()=>{e.props.page=1,On(e,n)},o)))}else if(Array.isArray(e.props.options)){const o=JSON.parse(JSON.stringify(e.props.initialOptions));e.props.options=[...o.filter(s=>{if("options"in s){const a=s.options=[...s.options].filter(i=>e.props.filter(i,t??"",e));return a.length>0&&{...s,options:a}}return e.props.filter(s,t??"",e)})]}}function On(e,t){e.props.allowAppendOptions=t,ir(e)}const mp=be({key:"loading",type:"state",value:!0,visible:!1}),Br=be({key:"loading",type:"state",value:!1,visible:!1});function cv(e,t){if(e.props.allowAppendOptions)return e.props.allowAppendOptions=!1,(function(n,o){const s=xn(o);n.props.appendingOptions=!0,n.props.activeValue=F(s[0]),n.props.options=n.props.options.concat(s)})(e,t);const r=xn(t);e.props.options=r,e.props.options.length||(e.store.set(Br),e.store.set(be({key:"hasNextPage",type:"state",value:!1,visible:!1}))),fp.set(e,e.props.searchValue)}const hp=new WeakMap;function gp(e,t,r){if(e.store.set(mp),e.props.optionLoadingCounter++,e.props.multiple&&e.props.selectionAppearance!=="truncate"){let a;a=$t(t)?{label:"Loading...",value:String(t)}:{label:String(t),value:t},e.props.optionLoaderValues.includes(a.value)||e.props.optionLoaderValues.push(a.value),e.props.type!=="transferlist"&&e.props.multiple&&e.props.selectionAppearance!=="text-input"&&!e.props.selections.includes(a)&&(e.props.selections=[...e.props.selections,a])}const n=e.props.optionLoader(t,r),o=a=>typeof a=="string"?{label:a,value:t}:Ma(a)?a:Tt(a)?Object.assign({label:String(t),value:t},a):{label:String(t),value:t},s=a=>{const i=e.props.memoOptions.findIndex(l=>K(F(l),F(a)));return i===-1?e.props.memoOptions=[...e.props.memoOptions,a]:e.props.memoOptions[i]=a,a};return n instanceof Promise?n.then(a=>{if(typeof a=="string"||Ma(a))return s(o(a))}).finally(()=>{e.props.optionLoaderValues=e.props.optionLoaderValues.filter(a=>a!==t),e.props.optionLoadingCounter--}):(e.props.optionLoaderValues=e.props.optionLoaderValues.filter(a=>a!==t),e.props.optionLoadingCounter--,s(o(n)))}function ir(e){e.store.set(mp),e.props.optionsLoadingCounter++,e.store.set(be({key:"hasNextPage",type:"state",value:!1,visible:!1}));const t=e.props.nonceKey&&e.props[e.props.nonceKey],r=e.props.optionsLoader(e.context,hp.get(e)),n=cv.bind(null,e),o=r instanceof Promise?r.then((...s)=>{e.props.nonceKey!==void 0&&t!==e.props[e.props.nonceKey]||n(...s)}):(n(r),e.props.optionsLoadingCounter--);if(o instanceof Promise)return o.finally(()=>{e.props.optionsLoadingCounter--})}function vp(e,t){e.props.page++,hp.set(e,t),e.store.set(be({key:"hasNextPage",type:"state",value:!0,visible:!1}))}const hr=Symbol(),Os=e=>{const t=(o=>{const s=[...o.props.allOptions,...o.props.initialOptions];return[...o.props.memoOptions||[],...s]})(e),r=e.props.inputStd||[],n=[];for(const o of r){let s,a=t.find(i=>K(F(i),o));s=$t(o)?void 0:Array.isArray(o)?o.join(", "):o,a||(a={value:o,label:s,isPlaceholder:!1,noOptionFound:!0}),n.push(a)}return n};function Jn(e,t){if(e.props.optionRemoved=!0,t){const r=(e.props.inputStd||[]).filter(n=>!K(F(t),n));e.input(r)}else e.input(void 0);e.props.openOnRemove&&!e.props.expanded&&e.isCreated&&(e.props.expanded=!0),setTimeout(()=>{var r;return e.emit("selectRange",[(r=e.props.highlightedRange)===null||r===void 0?void 0:r.option])},20)}async function rn(e){const t=Os(e);e.props.resetSearchOnCommit&&e.props.optionsLoader==="function"&&(e.props.searchValue=""),e.props.selections=[...t];const r=[...t,...e.props.memoOptions];e.props.memoOptions=[...new Set(r)],(function(n){var o,s;n.props.firstCommit?n.props.firstCommit=!1:Te&&n.isCreated&&(n.props.optionRemoved?n.props.optionRemoved=!1:(n.props.expanded&&n.props.closeOnSelect&&(n.props.expanded=!1),n.props.userAction&&(n.props.openOnFocus&&(n.props.skipOpen=!0),n.props.userAction.type!=="tagDelete"&&((s=(o=n.props.__root)===null||o===void 0?void 0:o.getElementById(`${n.props.id}`))===null||s===void 0||s.focus()),n.props.userAction=void 0)))})(e)}function Ps(e){var t,r;if(e.props.allOptions&&e.props.allOptions.length)if(!((t=e.props.highlightedRange)===null||t===void 0)&&t.option.value)e.props.activeValue=F(e.props.highlightedRange.option);else{if(e.props.activeSelectionValue){const n=e.props.allOptions.find(o=>K(F(o),e.props.activeSelectionValue));if(n)return void(e.props.activeValue=n.value)}if(e.props.reloadOnCommit)e.props.activeValue=F(e.props.allOptions[0]);else{if(e.props.searchValue&&!e.props.appendingOptions)e.props.activeValue=F(e.props.allOptions[0]);else if(e.props.inputStd.length>0&&!e.props.multiple||e.props.multiple&&(!((r=e.context)===null||r===void 0)&&r.state.dirty))e.props.selections[e.props.selections.length-1]?e.props.activeValue=F(e.props.selections[e.props.selections.length-1]):e.props.activeValue=F(e.props.allOptions[0]);else{if(e.props.appendingOptions)return void(e.props.appendingOptions=!1);e.props.activeValue=F((function(n){return n.props.allOptions.find(o=>{var s;return!(!((s=o.attrs)===null||s===void 0)&&s.disabled)})})(e))}e.props.appendingOptions&&(e.props.appendingOptions=!1)}}}function Go(e){return e.reduce((t,r)=>(r.options?t.push(...Go(r.options)):t.push(r),t),[])}function Vs(e,t){var r,n;!((r=t.attrs)===null||r===void 0)&&r.disabled||(F(t)!==hr?(e.props.option=t,e.props.maxReached&&!Xo(e,t)||(e.input($p(e,F(t))),Xo(e,t)&&e.props.closeOnSelect&&(e.props.expanded=!1))):(n=e.context)===null||n===void 0||n.handlers.loadMore(!0))}function $p(e,t){if(e.props.multiple){const r=Array.isArray(e.value)?e.value:[];for(const n of r)if(K(n,t))return e.props.optionRemoved=!0,r.filter(o=>!K(o,t));return[...r,t]}return K(t,e.value)&&e.props.deselect?void(e.props.optionRemoved=!0):t}function dv(e,t){return K(e.props.activeValue,F(t))||void 0}function Xo(e,t){if(e.props.multiple){if(!Array.isArray(e.value))return!1;for(const r of e.value)if(K(r,F(t)))return!0;return!1}return K(e.value,F(t))}function Pa(e){var t,r;if(!e.props.usePopover||e.props.behavior==="overscroll")return;const n=e.props.invertPopover?e.props.popoverCoordinates.y-e.props.popoverCoordinates.height-e.props.popoverOffset-e.props.popoverAncestorCoordinates.height:e.props.popoverCoordinates.y+e.props.popoverOffset;e.props.dropdownWrapperStyles={...e.props.dropdownWrapperStyles,minWidth:0,width:"100%",maxWidth:((r=(t=e.props)===null||t===void 0?void 0:t.popoverAncestorCoordinates)===null||r===void 0?void 0:r.width)+"px",top:n+"px",bottom:"unset",left:e.props.popoverCoordinates.x+"px",margin:0,padding:0}}function fv(e){e.props.firstCommit=!0;let t=null;e.on("commit",()=>{if(e.props.inputStd.length===0&&e.isCreated)return(function(r){var n,o;r.props.selections=[],r.props.userAction&&(r.props.userAction=void 0,r.props.openOnFocus&&(r.props.skipOpen=!0),(o=(n=r.props.__root)===null||n===void 0?void 0:n.getElementById(`${r.props.id}`))===null||o===void 0||o.focus()),r.props.optionRemoved=!1})(e),void(t=e.props.inputStd);if(e.props.inputStd.length&&typeof e.props.optionsLoader=="function"&&e.props.options.length===0&&typeof e.props.optionLoader!="function"&&e.props.optionsLoadingCounter===0){e.props.optionsLoaded=!0;const r=ir(e);r instanceof Promise&&r.then(()=>{rn(e)})}typeof e.props.optionLoader!="function"||e.props.optionRemoved||(function(r,n){if(r===n)return!0;if(r==null||n==null||r.length!==n.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==n[o])return!1;return!0})(t,e.props.inputStd)?e.props.optionsLoadingCounter===0&&rn(e):(t=e.props.inputStd,(async function(r){const n=Os(r);if((r.props.inputStd.length>1?r.props.inputStd.filter(s=>!r.props.memoOptions.find(a=>K(F(a),s))):r.props.inputStd).forEach(s=>{gp(r,s,Array.isArray(n)&&n.find(a=>K(F(a),s)&&!a.noOptionFound))}),r.props.optionLoadingCounter){const s=r.on("prop:optionLoadingCounter",()=>{rn(r),r.props.optionLoadingCounter||r.off(s)})}else rn(r)})(e))})}const xr=new WeakSet;function mv(e){if(!Te)return;e.props.positionListBox=(function(a,i){var l,p;let u=null;if(a.props.activeDescendant&&(u=a.props.options.filter(d=>{var $;return!(!(($=d.attrs)===null||$===void 0)&&$.disabled)}).findIndex(d=>K(a.value,F(d))),u===-1&&(u=null),!((l=a.props.__root)===null||l===void 0)&&l.getElementById(a.props.activeDescendant)&&Va(a)),typeof window>"u")return u;const c=i.getBoundingClientRect(),f=(p=a.props.__root)===null||p===void 0?void 0:p.getElementById(`${a.props.id}`);if(f){const d=f.getBoundingClientRect();d.top+d.height+c.height>window.innerHeight&&d.top+d.height>c.height?(a.props.invertPopover=!0,a.props.usePopover||(a.props.dropdownWrapperStyles={...a.props.dropdownWrapperStyles,top:"auto",bottom:"100%"})):a.props.usePopover||(a.props.dropdownWrapperStyles={...a.props.dropdownWrapperStyles,bottom:"auto",top:"100%"})}return u}).bind(null,e),e.props.styleWrapper=hv.bind(null),e.on("mounted",()=>{me(`${e.props.id}_popover`,n.bind(null,e),e.props.__root)});const t=dp(e,"mousemove",a=>{var i;e.props.mouseX=a.clientX,e.props.mouseY=a.clientY;const l=(i=e.props.__root)===null||i===void 0?void 0:i.getElementById(`${e.props.id}_popover`);if(l){const p=l.getBoundingClientRect();a.clientX>p.x&&a.clientX<p.x+p.width&&a.clientY>p.y&&a.clientY<p.y+p.height&&(e.props.trackHover=!0)}}),r=()=>{e.props.ignoreScroll?e.props.ignoreScroll=!1:e.props.trackHover=!0};function n(a,i){a.props.behavior!=="overscroll"&&getComputedStyle(i).maxHeight==="none"&&(a.props.dropdownWrapperStyles={...a.props.dropdownWrapperStyles,maxHeight:"400px"});const l=cp(a,()=>{a.props.styleWrapper(),a.props.positionListBox(i)});Ms(a,u=>{const c=u[0].target;if(a.props.behavior!=="overscroll"||c.id===`${a.props.id}_popover`){const f=a.props.positionListBox(i);xr.delete(a),o(a,f),l.observe(i)}}).observe(i,{childList:!0,subtree:!0})}function o(a,i){var l;if(!a.props.expanded||!a.props.options||!a.props.options.length||xr.has(a))return;const p=a.props.options.reduce((c,f,d)=>{var $,h,y;if(!(($=f.attrs)===null||$===void 0)&&$.disabled)return c;if("group"in f&&(!((h=f.options)===null||h===void 0)&&h.length))return f.options.forEach((S,g)=>{var _;const C=(_=a.props.__root)===null||_===void 0?void 0:_.getElementById(`${a.props.id}_listitem_${d}_${g}`);C&&c.push([C,S])}),c;const m=(y=a.props.__root)===null||y===void 0?void 0:y.getElementById(`${a.props.id}_listitem_${d}`);return m&&c.push([m,f]),c},[]),u=(l=a.props.__root)===null||l===void 0?void 0:l.getElementById(`${a.props.id}_load_more`);u&&p.push([u,a.props.loadMoreOption]),xr.add(a),p.length&&s(a,p,i)}function s(a,i,l){var p,u,c,f;const d=(p=a.props.__root)===null||p===void 0?void 0:p.getElementById(`${a.props.id}_popover`);if(a.props.trackHover){const $=d?d.getBoundingClientRect():{top:0,bottom:0};if(l=null,a.props.mouseY>$.top&&a.props.mouseY<$.bottom){let h=l||0,y=l;const m=(S,g)=>{var _;const C=g[0],{y:k,height:D,x:w,width:L}=C.getBoundingClientRect();if(a.props.mouseX>w&&a.props.mouseX<w+L&&a.props.mouseY>k&&a.props.mouseY<k+D){l=S;const x=g[1];return x&&!(!((_=x.attrs)===null||_===void 0)&&_.disabled)?a.props.activeValue=F(x):a.props.activeValue=void 0,!0}return!1};do{if(h!==null&&m(h,i[h])||y!==null&&m(y,i[y]))break;h!==null&&(h++,h>i.length-1&&(h=null)),y!==null&&(y--,y<0&&(y=null))}while(h!==null||y!==null)}l===null&&(a.props.activeValue=void 0)}a.props.trackHover||Va(a),a.props.expanded?(d&&a.props.loadOnScroll&&!(!((u=a.store.loading)===null||u===void 0)&&u.value)&&(!((c=a.store.hasNextPage)===null||c===void 0)&&c.value)&&d.scrollTop+d.offsetHeight>d.scrollHeight-200&&((f=a.context)===null||f===void 0||f.handlers.loadMore(!0)),xr.has(a)?requestAnimationFrame(s.bind(null,a,i,l)):o(a,l)):xr.delete(a)}e.on("prop:trackHover",({payload:a})=>{var i,l,p;Te&&(a?(p=(l=e.props.__root)===null||l===void 0?void 0:l.getElementById(`${e.props.id}_popover`))===null||p===void 0||p.removeEventListener("scroll",r):(i=e.props.__root)===null||i===void 0||i.getElementById(`${e.props.id}_popover`))}),e.on("prop:expanded",({payload:a})=>{e.props.dropdownWrapperStyles={...e.props.dropdownWrapperStyles,zIndex:a||e.props.forceExpanded?"999":"-1",pointerEvents:a?"auto":"none"},a?(t.add(),e.props.styleWrapper(),Ps(e)):t.remove()}),e.on("prop:trackHover",({payload:a})=>{var i,l;Te&&(a?(l=document.getElementById(`${e.props.id}_popover`))===null||l===void 0||l.removeEventListener("scroll",r):(i=document.getElementById(`${e.props.id}_popover`))===null||i===void 0||i.addEventListener("scroll",r))}),e.on("prop:activeValue",({payload:a})=>{if(a===hr)return void(e.props.activeDescendant=`${e.props.id}_load_more`);let i,l=-1;for(let p=0;p<e.props.options.length;p++){if("group"in e.props.options[p]){for(let u=0;u<e.props.options[p].options.length;u++)if(K(F(e.props.options[p].options[u]),a)){l=u,i=p;break}}if(K(F(e.props.options[p]),a)){l=p;break}}e.props.activeDescendant=l<0?void 0:i===void 0?`${e.props.id}_listitem_${l}`:`${e.props.id}_listitem_${i}_${l}`})}function Va(e){var t,r;if(!Te)return;const n=(t=e.props.__root)===null||t===void 0?void 0:t.getElementById(`${e.props.id}_popover`),o=(r=e.props.__root)===null||r===void 0?void 0:r.getElementById(e.props.activeDescendant);if(!n||!o)return;const{y:s,height:a}=o.getBoundingClientRect(),{y:i,height:l}=n.getBoundingClientRect();s<i?(e.props.ignoreScroll=!0,n.scrollTop=o.offsetTop):s+a>i+l&&(e.props.ignoreScroll=!0,n.scrollTop=o.offsetTop+a-l)}function hv(){}const Jo=new WeakMap;function gv(e){e.on("created",()=>{if(!e.context||!Te)return;e.context.fns.isActive=dv.bind(null,e),e.context.fns.isSelected=r=>Xo(e,r),e.context.fns.hasOptionLoaderValue=r=>{for(const n of e.props.optionLoaderValues)if(K(F(r),n))return!0;return!1},e.context.handlers.listitemGroupClick=Sv,e.context.handlers.selectOption=r=>n=>Dv.call(null,e,r,n),e.context.handlers.loadMore=On.bind(null,e),e.context.handlers.removeSelection=r=>n=>Fa(e,r,n),e.context.handlers.tagTouchstart=r=>n=>Fa(e,r,n),e.context.handlers.selectionClick=r=>e.props.multiple?bv.bind(null,e,r):yv.bind(null,e),e.context.handlers.selectionBlur=()=>xv.bind(null,e),e.context.fns.isActiveSelection=(r,n)=>K(r,F(n)),e.context.handlers.tagClick=r=>wv.bind(null,e,r),e.context.handlers.tagFocus=r=>_v.bind(null,e,r),e.context.handlers.tagBlur=()=>kv.bind(null,e);const t=e.context.handlers.blur;e.context.handlers.blur=(function(r,n){var o;if(n&&n.relatedTarget instanceof HTMLElement){const s=(o=r.props.__root)===null||o===void 0?void 0:o.getElementById(r.props.id+"_inner");if(s instanceof HTMLElement&&s.contains(n.relatedTarget))return}t(),(function(s){s.props.disabled||(s.props.expanded=!1,s.props.activeSelectionValue=void 0,s.emit("blur"))})(r)}).bind(null,e),e.context.handlers.touchmove=vv.bind(null,e),e.context.handlers.touchend=$v.bind(null,e)})}function vv(e,t){var r;const n=(r=e.props.__root)===null||r===void 0?void 0:r.getElementById(`${e.props.id}`);if(n instanceof HTMLInputElement){const o=Jo.get(e);if(o){const[s,a]=o,i=t.touches[0].clientX-a;n.scrollLeft=s-i}else Jo.set(e,[n.scrollLeft,t.changedTouches[0].clientX])}}function $v(e){Jo.delete(e)}function yv(e,t){e.props.disabled||((!e.props.expanded&&e.props.openOnClick||e.props.openOnFocus)&&(e.props.expanded=!0),t.currentTarget instanceof HTMLElement&&t.currentTarget.focus())}function bv(e,t,r){r.currentTarget instanceof HTMLElement&&(K(e.props.activeSelectionValue,F(t))?e.props.activeSelectionValue=void 0:(e.props.activeSelectionValue=F(t),r.currentTarget.focus()))}function xv(e,t){var r;if(t.relatedTarget instanceof HTMLElement){const n=(r=e.props.__root)===null||r===void 0?void 0:r.getElementById(e.props.id+"_inner");if(n instanceof HTMLElement&&n.contains(t.relatedTarget))return}e.props.activeSelectionValue=void 0}function wv(e,t,r){r.stopPropagation(),e.props.disabled||(e.props.justFocused?e.props.justFocused=!1:r.currentTarget instanceof HTMLElement&&(K(e.props.activeSelectionValue,F(t))?e.props.activeSelectionValue=void 0:(e.props.activeSelectionValue=F(t),r.currentTarget.focus())))}function _v(e,t,r){r.stopPropagation(),e.props.disabled||r.currentTarget instanceof HTMLElement&&(e.props.activeSelectionValue=F(t),e.props.justFocused=!0)}function kv(e,t){var r;if(t.relatedTarget instanceof HTMLElement){const n=(r=e.props.__root)===null||r===void 0?void 0:r.getElementById(e.props.id+"_inner");if(n instanceof HTMLElement&&n.contains(t.relatedTarget))return}e.props.activeSelectionValue=void 0}function Fa(e,t,r){r&&r.stopPropagation(),e.props.disabled||(e.props.userAction={type:"handleRemoveSelection"},Jn(e,t))}function Sv(e){e.stopPropagation()}function Dv(e,t,r){r.stopPropagation(),e.props.disabled||(e.props.userAction={type:"handleListitemClick"},Vs(e,t))}function Fs(e,t,r,n){(function(o){o.addProps(["options","expanded","placeholder","multiple","selections","activeValue","activeDescendant","forceExpanded","optionLoader","showEmptyMessage","emptyMessage","option","listboxStyles","invertPopover","dropdownWrapperStyles","optionsLoader","loadMoreOption","hasNextPage","page","behavior","selectionRemovable","openOnRemove","clearOnClick","openOnClick","hideOnOpen","closeOnSelect","openOnFocus","selectionAppearance","optionsAppearance","filter","inputText","formattedSelections","lastVisibleIndex","optionLoaderValues","disabledInternally","isLoadingOption","isLoadingOptions","thereIsAnOptionSelected","formattedSelections","activeSelections","allowNewValues","inputStd","isSingleOption","max","disableDragAndDrop","clearSearchOnOpen","firstSelectionLabel","memoOptions","loadOnCreated","alwaysLoadOnOpen","showFormattedSelections","truncationCount","reloadOnCommit","activeSelectionValue","setForceExpanded","option","loadOnScroll","optionsLoadingCounter","optionLoadingCounter","draggable","deselect"]),o.props.deselect===void 0?o.props.deselect=!0:o.props.deselect=W(o.props.deselect),o.props.option={},o.props.expanded=!1,o.props.inputStd=[],o.props.draggable===void 0?o.props.draggable=!0:o.props.draggable==="false"&&(o.props.draggable=!1),o.props.options||(xt(350,{node:o,inputType:o.props.type}),o.props.options=[]),"disabled"in o.props&&(o.props.disabled=W(o.props.disabled)),o.props.allOptions=Go(o.props.options),o.props.selections=[],o.props.memoOptions=[],o.props.invertPopover=!1,o.props.dropdownWrapperStyles={position:"absolute",top:"100%",overflow:"auto",minWidth:"100%"},o.props.decrementCount=0,o.props.page=1,o.props.loadMoreOption={label:"Load more",value:hr},o.props.loadOptions=ir,o.props.listboxStyles={},o.props.optionsLoadingCounter=0,o.props.optionLoadingCounter=0,o.props.searchable=W(o.props.searchable),o.props.loadOnScroll=W(o.props.loadOnScroll),o.props.multiple=W(o.props.multiple)||!1,o.props.type==="taglist"&&(o.props.multiple=!0),o.props.openOnFocus=W(o.props.openOnFocus),o.props.openOnRemove=o.props.openOnRemove!==void 0&&W(o.props.openOnRemove),o.props.hasNextPage=vp.bind(null,o),o.props.initialOptions=[...o.props.options],o.props.optionLoaderValues=[],o.props.loadOnCreated=W(o.props.loadOnCreated),o.props.max&&typeof o.props.max!="number"?o.props.max=parseInt(o.props.max):o.props.max&&!o.props.multiple&&(o.props.max=void 0),o.on("mounted",()=>Pa(o)),o.on("prop:popoverCoordinates",()=>setTimeout(()=>{Pa(o)},10))})(n),n.props.multiple?(function(o){o.hook.input((s,a)=>(o.props.highlightedRange&&!o.props.optionRemoved&&(s.splice(o.props.highlightedRange.index,1,F(o.props.option)),s=s.filter(i=>i!==void 0)),o.props.inputStd=s&&Array.isArray(s)?[...new Set(s)]:[],a(s===void 0?void 0:[...o.props.inputStd])))})(n):(function(o){o.hook.input((s,a)=>(o.props.inputStd=s===void 0||s===""||s===null?[]:[s],a(s)))})(n),e(n),fv(n),(function(o){o.on("created",()=>{o.context&&(o.props.trackHover=!0,o.props.disabled!==void 0||o.props.optionsLoader||!o.props.options||o.props.options.length||o.props.emptyMessage!==void 0||o.props.allowNewValues||o.props.inputStd.length!==0||(o.props.disabledInternally=!0),mv(o),o.props.loadOnCreated&&!o.props.optionsLoaded&&o.props.optionsLoader?ir(o):o.props.optionsLoaded&&(o.props.optionsLoaded=!1),o.props.forceExpanded=W(o.props.forceExpanded),o.props.forceExpanded&&(o.props.dropdownWrapperStyles={...o.props.dropdownWrapperStyles,zIndex:"999",pointerEvents:"auto"},setTimeout(()=>{o.props.setForceExpanded=!0},100)))})})(n),gv(n),t(n),(function(o){const s=dp(o,"click",()=>{o.props.activeSelectionValue=void 0,o.props.expanded=!1});o.on("prop:selections",({payload:a})=>{o.props.max&&(o.props.maxReached=a.length>=o.props.max)}),o.on("prop:maxReached",({payload:a})=>{a&&(o.props.expanded=!1)}),o.on("prop:optionsLoadingCounter",({payload:a})=>{a===0&&(o.props.emptyMessage&&(o.props.showEmptyMessage=!o.props.options.length),o.props.optionLoadingCounter===0&&o.store.set(Br))}),o.on("prop:optionLoadingCounter",({payload:a})=>{a===0&&o.props.optionsLoadingCounter===0&&o.store.set(Br)}),o.on("prop:disabled",({payload:a})=>{a&&(o.props.expanded=!1)}),o.on("prop:options",({payload:a})=>{o.props.allOptions=Go(o.props.options),o.props.emptyMessage&&typeof o.props.optionsLoader!="function"&&(o.props.showEmptyMessage=!a.length),a.length?o.props.disabledInternally=!1:a.length||o.props.optionsLoader||o.props.emptyMessage!==void 0||o.props.allowNewValues||o.props.inputStd.length!==0||o.props.searchValue||(o.props.disabledInternally=!0),Ps(o)}),o.on("prop:expanded",({payload:a})=>{var i;if(Te)if(o.props.alwaysLoadOnOpen&&(o.props.page=1),a){if(o.props.trackHover=!1,o.props.options&&!o.props.options.length&&typeof o.props.optionsLoader!="function"&&o.props.emptyMessage&&(o.props.showEmptyMessage=!0),setTimeout(()=>s.add(),10),o.props.selectionAppearance==="text-input"&&o.props.multiple)return;const l=(i=o.props.__root)===null||i===void 0?void 0:i.getElementById(`${o.props.id}`);l instanceof HTMLInputElement&&(l.focus(),o.props.searchExpand||(l.value="",l.value=o.props.inputText))}else s.remove(),o.props.trackHover=!1,o.props.showEmptyMessage=!1})})(n),r(n)}function Cv(e){e.props.closeOnSelect===void 0?e.props.closeOnSelect=!e.props.multiple:e.props.closeOnSelect=W(e.props.closeOnSelect),(e.props.multiple&&e.props.selectionAppearance===void 0||e.props.selectionAppearance==="truncate")&&(e.props.selectionAppearance="truncate",e.props.formattedSelections=[]),e.props.multiple?e.props.selectionRemovable=!1:e.props.selectionRemovable=W(e.props.selectionRemovable)}function yp(e){var t,r;e.props.searchValue||(r=(t=e.props.__root)===null||t===void 0?void 0:t.getElementById(`${e.props.id}_tag-wrapper_${e.props.selections.length-1}`))===null||r===void 0||r.focus()}function bp(e,t,r){var n,o,s;if(r.preventDefault(),e.props.trackHover=!1,e.props.expanded){const a=e.props.allOptions.reduce((l,p)=>{var u;return!((u=p?.attrs)===null||u===void 0)&&u.disabled||l.push(F(p)),l},[]);!((n=e.store.hasNextPage)===null||n===void 0)&&n.value&&a.push(hr);let i=-1;e.props.activeValue&&(i=a.findIndex(l=>K(l,e.props.activeValue))),i===-1&&a.length?e.props.activeValue=a[0]:t==="ArrowDown"&&a.length>i+1?e.props.activeValue=a[i+1]:t==="ArrowUp"&&i>0?e.props.activeValue=a[i-1]:t==="ArrowUp"&&i===0&&((s=(o=e.props.__root)===null||o===void 0?void 0:o.getElementById(`${e.props.id}_tag-wrapper_${e.props.selections.length-1}`))===null||s===void 0||s.focus(),e.props.expanded=!1)}else e.props.expanded||t!=="ArrowDown"||(e.props.expanded=!0)}function xp(e,t){var r,n,o;if((e.props.type==="taglist"||e.props.selectionAppearance==="tags")&&e.props.inputStd.length&&!e.props.inputText){if(t==="ArrowLeft")return e.props.selections.length&&((n=(r=e.props.__root)===null||r===void 0?void 0:r.getElementById(`${e.props.id}_tag-wrapper_${e.props.selections.length-1}`))===null||n===void 0||n.focus(),e.props.selections[e.props.selections.length-1]?e.props.activeSelectionValue=F(e.props.selections[e.props.selections.length-1]):e.props.activeSelectionValue=void 0),void(e.props.expanded=!1);t==="ArrowRight"&&((o=document.getElementById(`${e.props.id}_tag-wrapper_0`))===null||o===void 0||o.focus(),e.props.selections[0]?e.props.activeSelectionValue=F(e.props.selections[0]):e.props.activeSelectionValue=void 0),e.props.expanded=!1}}function wp(e){var t,r;e.props.expanded=!0,(r=(t=e.props.__root)===null||t===void 0?void 0:t.getElementById(`${e.props.id}`))===null||r===void 0||r.focus()}function _p(e,t,r,n=!0){var o,s,a,i,l,p,u;const c=r.key;if(r.altKey){const f=Mt(),d=e.props.selections.findIndex(h=>K(F(h),F(t))),$=[...e.props.selections];r.key==="ArrowRight"?d<e.props.selections.length-1&&($.splice(d,1),$.splice(d+1,0,t)):r.key==="ArrowLeft"&&d>0&&($.splice(d,1),$.splice(d-1,0,t)),e.props.activeSelectionValue=F(t),e.input([...$.map(F)]),setTimeout(()=>{f instanceof HTMLElement&&f.focus()},100)}else{const f=e.props.selections.findIndex(h=>K(F(h),F(t)));if(f===-1)return;const d=c==="ArrowRight"?f+1:f-1;if(d>=e.props.selections.length){if(!n)return e.props.expanded=!0,e.props.activeSelectionValue=void 0,void((s=(o=e.props.__root)===null||o===void 0?void 0:o.getElementById(`${e.props.id}`))===null||s===void 0||s.focus());(i=(a=e.props.__root)===null||a===void 0?void 0:a.getElementById(`${e.props.id}`))===null||i===void 0||i.focus()}else if(d<0&&f===0)(p=(l=e.props.__root)===null||l===void 0?void 0:l.getElementById(`${e.props.id}`))===null||p===void 0||p.focus();else if(d<0)return;const $=(u=e.props.__root)===null||u===void 0?void 0:u.getElementById(`${e.props.id}_tag-wrapper_${d}`);$&&$.focus(),e.props.selections[d]?e.props.activeSelectionValue=F(e.props.selections[d]):e.props.activeSelectionValue=void 0}}function kp(e,t,r){var n;if(!(r.currentTarget instanceof HTMLElement)||e.props.searchValue)return;const o=e.props.selections.findIndex(i=>K(F(i),F(t)));if(o===-1)return;const s=e.props.selections[o+1]?o+1:o-1,a=(n=e.props.__root)===null||n===void 0?void 0:n.getElementById(`${e.props.id}_tag-wrapper_${s}`);a&&a.focus(),e.props.userAction={type:"tagDelete"},Jn(e,t)}function Sp(e,t){var r;if(t.preventDefault(),e.props.allowNewValues&&e.props.searchValue&&e.input($p(e,e.props.searchValue)),e.props.expanded){if(e.props.activeValue===hr)return void((r=e.context)===null||r===void 0||r.handlers.loadMore(!0));const n=e.props.allOptions.find(o=>K(F(o),e.props.activeValue));if(!n)return;Vs(e,n)}else e.props.expanded=!0}function Dp(e){e.props.expanded&&(e.props.expanded=!1)}function Lv(e,t,r){if(r.stopPropagation(),!e.props.disabled)switch(r.key){case"ArrowDown":wp(e);break;case"ArrowRight":case"ArrowLeft":_p(e,t,r,!1);break;case"Delete":case"Backspace":kp(e,t,r)}}function Av(e,t,r){if(!e.props.disabled)switch(r.key){case"ArrowUp":case"ArrowDown":(function(n,o,s){var a,i,l,p;s.preventDefault();const u=s.key,c=n.props.selections.findIndex($=>K(F($),F(o)));if(c===-1)return;const f=u==="ArrowDown"?c+1:c-1;if(f<0&&((i=(a=n.props.__root)===null||a===void 0?void 0:a.getElementById(`${n.props.id}`))===null||i===void 0||i.focus()),f<0||f>=n.props.selections.length)return;const d=(l=n.props.__root)===null||l===void 0?void 0:l.getElementById(`${n.props.id}_selection_wrapper_${f}`);d&&d.focus(),n.props.activeSelectionValue=((p=n.props.selections[f])===null||p===void 0?void 0:p.value)||void 0})(e,t,r);break;case"Enter":break;case"Tab":(function(n,o,s){var a,i,l,p;if(o){const u=n.props.selections.findIndex(d=>K(F(d),F(o)));if(u===-1)return;const c=s.shiftKey?u-1:u+1;if(c>=n.props.selections.length)return;if(c<0)return void((i=(a=n.props.__root)===null||a===void 0?void 0:a.getElementById(`${n.props.id}`))===null||i===void 0||i.focus());const f=(l=n.props.__root)===null||l===void 0?void 0:l.getElementById(`${n.props.id}_selection_wrapper_${c}`);f&&f.focus(),n.props.activeSelectionValue=((p=n.props.selections[c])===null||p===void 0?void 0:p.value)||void 0}})(e,t,r);break;case"Delete":case"Backspace":(function(n,o){var s;if(o){const a=n.props.selections.findIndex(p=>K(F(p),F(o)));if(a===-1)return;const i=n.props.selections[a+1]?a+1:a-1,l=(s=n.props.__root)===null||s===void 0?void 0:s.getElementById(`${n.props.id}_selection_wrapper_${i}`);l&&l.focus(),n.props.selections[i]?n.props.activeSelectionValue=F(n.props.selections[i]):n.props.activeSelectionValue=void 0}o&&n.props.selections.length!==1||(n.props.userAction={type:"selectionDelete"}),Jn(n,o)})(e,t)}}function Tv(e,t){if(e.props.disabled||!(t.currentTarget instanceof HTMLElement)||e.props.id!==t.currentTarget.id)return;const r=t.key;switch(r){case"Tab":(function(n){n.props.expanded&&(n.props.expanded=!1)})(e);break;case"ArrowUp":case"ArrowDown":bp(e,r,t);break;case"ArrowLeft":case"ArrowRight":xp(e,r);break;case"Enter":Sp(e,t);break;case"Escape":Dp(e);break;case"Delete":case"Backspace":yp(e);break;default:e.emit("unusedKeydown",t)}}function Iv(e,t){if(e.props.disabled||!(t.currentTarget instanceof HTMLElement)||e.props.id!==t.currentTarget.id)return;const r=t.key;switch(r){case"Tab":(function(n,o){var s,a,i;n.props.expanded=!1,n.props.multiple&&n.props.selections.length&&n.props.type==="autocomplete"&&n.props.selectionAppearance==="option"&&(o.preventDefault(),(a=(s=n.props.__root)===null||s===void 0?void 0:s.getElementById(`${n.props.id}_selection_wrapper_0`))===null||a===void 0||a.focus(),n.props.activeSelectionValue=((i=n.props.selections[0])===null||i===void 0?void 0:i.value)||void 0)})(e,t);break;case"ArrowUp":case"ArrowDown":bp(e,r,t);break;case"ArrowRight":case"ArrowLeft":xp(e,r);break;case"Enter":Sp(e,t);break;case"Escape":Dp(e);break;case"Delete":case"Backspace":yp(e)}}function Ev(e){e.props.alwaysLoadOnOpen=e.props.alwaysLoadOnOpen!==void 0&&W(e.props.alwaysLoadOnOpen),e.on("created",()=>{e.context&&(e.context.handlers.click=Mv.bind(null,e),e.context.handlers.focus=Ov.bind(null,e),e.context.handlers.keydown=Tv.bind(null,e),e.context.handlers.selectorTagKeydownHandler=t=>Lv.bind(null,e,t))})}function Mv(e,t){var r;if(t.stopPropagation(),t.detail===0||e.props.disabled)return;e.props.attrs.onClick&&e.props.attrs.onClick(t);const n=(r=e.props.__root)===null||r===void 0?void 0:r.getElementById(`${e.props.id}`);e.props.justOpened?e.props.justOpened=!1:e.props.expanded?e.props.expanded=!1:(n&&t.pointerType!=="mouse"?(e.props.mouseX=-1,e.props.mouseY=-1):(e.props.mouseX=t.clientX,e.props.mouseY=t.clientY),e.props.expanded=!0,n?.focus())}function Ov(e){e.props.disabled||(e.props.attrs.onFocus&&e.props.attrs.onFocus(),e.props.skipOpen?e.props.skipOpen=!1:e.props.openOnFocus&&(e.props.justOpened=!0,e.props.expanded=!0))}function Pv(e){let t,r="";e.on("unusedKeydown",({payload:n})=>{if(!n.isComposing&&[...n.key].length===1){if(!r&&n.key===" ")return void(function(s,a){var i;if(a.preventDefault(),s.props.expanded){if(s.props.activeValue===hr)return void((i=s.context)===null||i===void 0||i.handlers.loadMore());const l=s.props.allOptions.find(p=>K(F(p),s.props.activeValue));if(!l)return;Vs(s,l)}else s.props.expanded=!0})(e,n);e.props.expanded=!0,clearTimeout(t),r+=n.key;const o=e.props.allOptions.find(s=>s.label.toLowerCase().startsWith(r.toLowerCase()));o&&(e.props.activeValue=F(o)),t=setTimeout(()=>{r=""},400)}})}function Na(e){Pn(e),e.on("prop:selections",()=>{e.props.skipFormatSelections=!1,Pn(e)}),Te&&me(`${e.props.id}_selections`,Vv.bind(null,e),e.props.__root)}function Pn(e){e.isCreated&&(e.props.selections.length&&e.props.lastVisibleIndex&&e.props.selections.length-e.props.lastVisibleIndex>1?e.props.truncationCount="+ "+(e.props.selections.length-e.props.lastVisibleIndex-1).toString():e.props.truncationCount=void 0,e.props.formattedSelections=e.props.selections.map((t,r)=>e.props.lastVisibleIndex&&r===e.props.lastVisibleIndex&&r!==0?e.props.lastTruncatedElText&&r===e.props.selections.length-1?e.props.lastTruncatedElText:r===e.props.selections.length-1?t.label:t.label+"...":r===e.props.selections.length-1?t.label:t.label+", "))}function Ba(e){var t,r;if(!Te||!e.context)return;const n=(t=e.props.__root)===null||t===void 0?void 0:t.getElementById(`${e.props.id}_selections`);if(!(n instanceof HTMLElement))return;const o=n.parentNode;if(!(o instanceof HTMLElement))return;let s=n.getBoundingClientRect().width;const a=.98*o.getBoundingClientRect().width,i=Array.prototype.slice.call(n.children),l=[...e.props.selections];if(s>a){const p=[];let u=0;for(let c=0;c<l.length;c++)p.push([l[c],i[c]]);for(let c=p.length-1;c>=0;c--){const f=p[c];if(!(f[1]instanceof HTMLElement))return;u+=f[1].getBoundingClientRect().width+parseFloat(window.getComputedStyle(f[1]).marginRight)+parseFloat(window.getComputedStyle(f[1]).marginLeft);const d=s-u;if(a>d){const $=f[0].label;e.props.skipFormatSelections=!0,f[1].textContent=$;let h=!1;for(let y=$.length;y>=0;y--){if(e.props.skipFormatSelections=!0,f[1].textContent=$.slice(0,y).trim()+"...",d+f[1].getBoundingClientRect().width<a){if(y<4){e.props.lastVisibleIndex=c-1,e.props.lastTruncatedElText=null;break}if(e.props.lastVisibleIndex=c,e.props.lastTruncatedElText&&f[1].textContent.slice(0,4)===e.props.lastTruncatedElText.slice(0,4))break;e.props.lastTruncatedElText=(r=f[1])===null||r===void 0?void 0:r.textContent;break}y===0&&(h=!0)}f[1].textContent=e.props.lastTruncatedElText&&!h&&c!==0?e.props.lastTruncatedElText:$,e.props.lastVisibleIndex===null&&(e.props.lastVisibleIndex=c===0?0:c-1,e.props.lastTruncatedElText=null),setTimeout(()=>{Pn(e)});break}}}else e.props.lastTruncatedElText=null,e.props.lastVisibleIndex=null,Pn(e)}function Vv(e,t){const r=new ResizeObserver(()=>{e.props.selections&&e.props.selections.length!==0&&(e.props.skipFormatSelections?e.props.skipFormatSelections=!1:Ba(e))}),n=new ResizeObserver(()=>{Ba(e)});r.observe(t),t.parentNode instanceof Element&&n.observe(t.parentNode)}const Fv={position:"fixed",top:0,bottom:0,right:0,left:0,pointerEvents:"none",zIndex:-1,overflowY:"auto","-webkit-overflow-scrolling":"auto"},vo={position:"fixed",overflow:"hidden",height:"100%",width:"100%"},$o={overflow:"hidden",height:"100%"},Ra={},Ha={};let yo=0;function Nv(e){var t,r;if(typeof window>"u")return;const n=(t=e.props.__root)===null||t===void 0?void 0:t.getElementById(`${e.props.id}_popover`),o=(r=e.props.__root)===null||r===void 0?void 0:r.getElementById(`${e.props.id}`);if(!o||!n)return;const s=n.style.paddingTop,a=n.style.paddingBottom,i=n.style.paddingLeft;n.style.paddingTop="0",n.style.paddingBottom="0",n.style.paddingLeft="0";const l=o.getBoundingClientRect(),p=n.getBoundingClientRect(),u=Math.round(l.top-p.top)+"px",c=Math.round(l.left-p.left-5)+"px",f=Math.max(Math.round(Math.min(p.height-p.top,window.innerHeight)-(l.top+l.height)),0)+"px";n.style.paddingTop=s,n.style.paddingBottom=a,n.style.paddingLeft=i,e.props.dropdownWrapperStyles={...e.props.dropdownWrapperStyles,paddingTop:u,paddingLeft:c,paddingBottom:f},e.props.listboxStyles={...e.props.listboxStyles,minWidth:e.props.behavior==="overscroll"?`min(${l.width+"px"}, calc(100vw - 4em))`:l.width+"px",maxWidth:"calc(100vw - 4em)"}}function Bv(e,t){var r,n;let o=null;if(e.props.activeDescendant){const s=(r=e.props.__root)===null||r===void 0?void 0:r.getElementById(e.props.activeDescendant);if(!s)return o;e.props.ignoreScroll=!0;const a=(n=e.props.__root)===null||n===void 0?void 0:n.getElementById(`${e.props.id}_listbox`);if(!a)return o;const i=t.getBoundingClientRect(),l=a.getBoundingClientRect(),p=parseInt(getComputedStyle(t).paddingTop),u=parseInt(getComputedStyle(t).paddingBottom),c=s.offsetTop-p,f=Math.max(c-p,0),d=Math.max(t.scrollHeight-u-c-i.height,0),$=l.height-f-d;t.scrollTop=c;const h=()=>{t.scrollTop=d>0?d<p?t.scrollHeight:p:f<u?0:c-u},y=Math.min(150,l.height);f>0&&d>0||f===0&&d===0||$>y?t.scrollTop=c:h(),t.clientHeight/2<t.scrollTop&&(o=e.props.options.filter(m=>{var S;return!(!((S=m.attrs)===null||S===void 0)&&S.disabled)}).findIndex(m=>K(e.value,F(m)))),o===-1&&(o=null)}return o}function Rv(e){e.addProps(["behavior"]),e.on("created",()=>{e.props.behavior==="overscroll"&&(typeof e.props.optionsLoader=="function"&&Ae(300,[e]),e.props.dropdownWrapperStyles=bt(Fv),e.props.listboxStyles={display:"inline-block"},e.props.styleWrapper=Nv.bind(null,e),e.props.positionListBox=Bv.bind(null,e))}),e.on("prop:expanded",({payload:t})=>{e.props.behavior==="overscroll"&&(t?(function(){yo=document.documentElement.scrollTop;for(const r in vo)Ha[r]=document.documentElement.style[r],document.documentElement.style[r]=vo[r];for(const r in $o)Ra[r]=document.body.style[r],document.body.style[r]=$o[r];document.body.scrollTop=yo})():(function(){for(const r in vo)document.documentElement.style[r]=Ha[r];for(const r in $o)document.body.style[r]=Ra[r];document.body.scrollTop=0,document.documentElement.scrollTop=yo})())})}function Cp(e){e.addProps(["multiLine"]),e.on("created",()=>{Te&&(e.props.multiLineHeight=void 0,me(`${e.props.id}_selections`,Hv.bind(null,e),e.props.__root))})}function Hv(e){var t;const r=cp(e,o=>{for(const s of o){const{height:a}=s.contentRect;e.props.selectionsHeight!==a&&(e.props.selectionsHeight=a),Wv(e,s.target)}}),n=(t=e.props.__root)===null||t===void 0?void 0:t.getElementById(`${e.props.id}_selections`);n&&r.observe(n)}function Wv(e,t){var r;const n=t.querySelectorAll(`[id^="${e.props.id}_tag-wrapper"`);let o,s=[];if(e.props.type==="taglist"){const i=(r=e.props.__root)===null||r===void 0?void 0:r.getElementById(`${e.props.id}`);if(!i)return;s=[i,...Array.from(n)]}else s=Array.from(n);if(!n)return;let a=!1;for(const i of s)if(o===void 0)o=i.getBoundingClientRect();else{const l=i.getBoundingClientRect();if(o.top>=l.top+l.height/5||o.top<=l.top-l.height/5){a=!0,e.props.multiLine=!0;break}}a||(e.props.multiLine=!1)}function Kv(e){if(e.on("created",()=>{e.context&&Pv(e)}),e.props.multiple||(function(t){t.on("prop:selections",({payload:r})=>{var n;t.props.firstSelectionLabel=((n=r[0])===null||n===void 0?void 0:n.label)||"",t.props.option=r[0]})})(e),e.props.selectionAppearance==="truncate"&&(e.props.lastVisibleIndex=null,Na(e),e.on("prop:selections",()=>{Na(e)})),e.props.selectionAppearance==="tags"&&Cp(e),e.props.multiple&&e.props.selectionAppearance==="tags"){let t=function(){return Array.isArray(e.value)?e.value:[]},r=function(n,o){e.input(n)};e.on("created",()=>{e.props.disabled&&(e.props.draggable=!1),me(`${e.props.id}_selections`,n=>{if(e.context&&n instanceof HTMLElement){const o={threshold:{horizontal:.25,vertical:0},plugins:[Un()],draggingClass:e.context.classes.dragging,dropZoneClass:e.context.classes.dropZone,disabled:!e.props.draggable,root:e.props.__root,touchDraggingClass:e.context.classes.touchDragging,touchDropZoneClass:e.context.classes.touchDropZone,draggable:s=>s.hasAttribute("data-is-tag")};$e({parent:n,getValues:t,setValues:r,config:o}),e.on("prop:disabled",({payload:s})=>{o.disabled=s,$e({parent:n,getValues:t,setValues:r,config:o})}),e.on("prop:draggable",({payload:s})=>{o.disabled=!s,$e({parent:n,getValues:t,setValues:r,config:o})})}},e.props.__root)})}e.on("prop:expanded",({payload:t})=>{t&&e.props.optionsLoader&&typeof e.props.optionsLoader=="function"&&(!e.props.options.length||e.props.alwaysLoadOnOpen)&&(e.props.options=[],ir(e))}),e.props.behavior==="overscroll"&&Rv(e)}const jv=(e,t)=>{let r=null,n=null,o=null;return function(...s){const a=this;r?(n=s,o=a):(e.apply(a,s),r=window.setTimeout(()=>{r=null,n!==null&&o!==null&&(e.apply(o,n),n=null,o=null)},t))}};function qr(e){if(e.addProps(["popover","popoverOffset","usePopover","popoverCoordinates","popoverAncestorCoordinates"]),e.props.popover=W(e.props.popover)?"manual":void 0,e.type!=="input"||e.props.behavior==="overscroll")return;let t=null,r=null,n=[],o=null;if(e.props.popoverOffset=W(e.props.popoverOffset)?parseInt(e.props.popoverOffset):0,!e.props.popover)return;if(typeof document>"u"||!("popover"in HTMLElement.prototype))return void(typeof window<"u"&&console.warn('FormKit: Popover API is not supported in this browser — input panels will be rendered with fallback CSS positioning. This could result in inaccessible inputs due to parent containers using "overflow: hidden" or z-index conflicts.'));const s=()=>{e.props.invertPopover=!1,document.removeEventListener("resize",o),document.removeEventListener("scroll",o),n.forEach(l=>{l.removeEventListener("scroll",o)})};function a(){const{x:l,y:p,width:u,height:c}=(function(f,d){if(!f||!d)return{x:0,y:0};const{left:$,top:h,width:y,height:m}=d.getBoundingClientRect();return{x:$+window.scrollX,y:h+m+window.scrollY,width:y,height:m}})(t,r);e.props.popoverAncestorCoordinates={x:l,y:p,width:u,height:c},e.props.popoverCoordinates={x:l,y:p,width:u,height:0}}function i(l){t&&document.body.contains(t)&&(l?(t?.showPopover(),setTimeout(()=>{e.props.popoverCoordinates.height=t?.offsetHeight||0},5)):t.matches(":popover-open")&&(t.hidePopover(),e.props.popoverCoordinates.height=0))}e.on("mounted",()=>{e.context&&(e.props.usePopover=!0,e.props.popoverCoordinates={x:0,y:0,width:0,height:0},e.props.popoverAncestorCoordinates={x:0,y:0,width:0,height:0})}),e.on("destroyed",()=>{s()}),e.on("prop:inputText",()=>{e.context&&(a(),i(!0))}),e.on("prop:expanded",({payload:l})=>{var p;e.context&&(l===!1?s():me(`${(p=e.context)===null||p===void 0?void 0:p.id}_popover`,()=>{if(!e.context)return;t=document.querySelector(`[id="${e.context.id}_popover"][popover]`)||document.querySelector(`[id="${e.context.id}_popover"] [popover]`),r||(r=(function(c){if(!c)return null;let f=c.parentElement;for(;f&&window.getComputedStyle(f).position==="static";)f=f.parentElement;return f})(t)),a(),i(l),o=jv(()=>{e.context&&(a(),i(l))},10),document.addEventListener("resize",o),document.addEventListener("scroll",o),n=[];let u=t?.parentElement;for(;u;)u.scrollHeight>u.clientHeight&&n.push(u),u=u.parentElement;n.forEach(c=>{c.addEventListener("scroll",o)})}))})}const Yv={schema:Rg(Hg(Kg("$label"),Wg(Kt("prefix"),jg(),zg(H("$inputStd.length === 0 && $state.loading !== true",Jg('$placeholder || "placeholder"'),H("$multiple !== true",Gg(H("$state.loading && $selections.length === 0",go("$ui.isLoading.value"),Xg(Qg("$option.label")))),H('$multiple && $selectionAppearance === "truncate"',ev(tv(H("$state.loading && $selections.length === 0",go("$ui.isLoading.value"),nv()))),H('$multiple && $selectionAppearance === "tags"',iv(lv(H("$state.loading && $isLoadingOption !== true && $selections.length === 0",go("$ui.isLoading.value"),ov(sv(H("$state.loading && $fns.hasOptionLoaderValue($option) || $option.label === undefined",pv("$ui.isLoading.value"),av("$option.label")),Ea(Kt("close"))))))))))),H("$truncationCount && $state.loading !== true",rv("$truncationCount")),H("$state.loading",Kt("loader")),H("$inputStd.length !== 0 && $selectionRemovable",Ea(Kt("close")),Kt("select"))),uv(),Yg(),Kt("suffix"))),Zg("$help"),Ug(qg("$message.value"))),type:"input",family:"dropdown",props:[],features:[re("select","select"),re("close","close"),re("selected","check"),re("loader","spinner"),le("isLoading"),le("loadMore"),le("remove"),ft,Fs.bind(null,Cv,Ev,Kv),qr]},mt=Ee("tg"),{outer:Zv,wrapper:Uv,prefix:qv,suffix:zv,help:Gv,messages:Xv,message:Jv,icon:Qv}=Me(mt),e$=mt("input",()=>({$el:"input",bind:"$attrs",attrs:{type:"checkbox",id:"$id",value:"$value",name:"$node.name",checked:"$checked",onInput:"$handlers.toggles",onBlur:"$handlers.blur",disabled:"$disabled"}})),t$=mt("label",()=>({if:"($label && $onValueLabel === undefined && $offValueLabel === undefined) || ($valueLabelDisplay === inner) && $altLabelPosition !== true",$el:"label",attrs:{for:"$id"},children:"$label"})),r$=mt("altLabel",()=>({$el:"label",if:"($label && ($onValueLabel || $offValueLabel) && $valueLabelDisplay !== hidden && $valueLabelDisplay !== inner) || $altLabelPosition === true",attrs:{for:"$id","data-label-alt":"true",style:{color:{if:"$checked",then:"$valueLabelColorOn",else:"$valueLabelColorOff"}}},children:"$label"})),n$=mt("innerLabel",()=>({$el:"div",if:"$valueLabelDisplay === inner && ($checked && $onValueLabel || $offValueLabel)",attrs:{style:{color:{if:"$checked",then:"$valueLabelColorOn",else:"$valueLabelColorOff"}}},children:{if:"$checked",then:"$onValueLabel",else:"$offValueLabel"}})),o$=mt("valueLabel",()=>({$el:"label",if:"$valueLabelDisplay !== hidden && $valueLabelDisplay !== inner && (($checked === true && $onValueLabel) || ($checked === false && $offValueLabel))",attrs:{for:"$id"},children:{if:"$checked && $onValueLabel",then:"$onValueLabel",else:{if:"$offValueLabel",then:"$offValueLabel"}}})),s$=mt("inner",()=>({$el:"label",attrs:{for:"$id",id:"$id + '_label'"}})),a$=mt("track",()=>({$el:"div",attrs:{style:{backgroundColor:{if:"$checked",then:"$trackColorOn",else:"$trackColorOff"}}}})),i$=mt("thumb",()=>({$el:"div",attrs:{style:{color:{if:"$checked",then:"$iconColorOn",else:"$iconColorOff"},backgroundColor:{if:"$checked",then:"$thumbColorOn",else:"$thumbColorOff"}}}})),l$=()=>i$(H("$slots.default","$slots.default",Qv("thumb"))),p$={schema:Zv(Uv(r$(),s$(qv(),e$(),a$(n$(),l$()),zv()),o$(),t$()),Gv("$help"),Xv(Jv("$message.value"))),type:"input",props:["checked","thumbColorOff","thumbColorOn","iconColorOff","iconColorOn","valueLabelColorOff","valueLabelColorOn","offValue","offValueLabel","onValue","onValueLabel","thumbIcon","trackColorOff","trackColorOn","valueLabelDisplay","altLabelPosition"],features:[function(e){function t(r,n){n.target instanceof HTMLInputElement&&(r.input(n.target.checked?r.props.onValue:r.props.offValue),r.props.checked=n.target.checked)}e.on("created",()=>{"disabled"in e.props&&(e.props.disabled=W(e.props.disabled)),e.props.altLabelPosition=W(e.props.altLabelPosition),e.props.offValue===void 0&&(e.props.offValue=!1),e.props.onValue===void 0&&(e.props.onValue=!0),e.props.checked=K(e.value,e.props.onValue),e.context&&(e.context.handlers.toggles=t.bind(null,e))}),e.on("commit",({payload:r})=>{e.props.checked=K(r,e.props.onValue)})}]},he=Ee("rp"),{outer:u$,inner:c$,prefix:d$,suffix:f$,help:m$,messages:h$,message:g$,icon:wr}=Me(he),v$=he("empty",()=>({$el:"div"})),$$=he("insertControl",()=>({$el:"button",attrs:{disabled:"$value.length >= $max",onClick:"$fns.createInsert($index)",type:"button"}})),y$=he("addButton",()=>({$formkit:"button",bind:"$addAttrs",if:"$addButton",disabled:"$value.length >= $max",onClick:"$fns.createAppend()",type:"button"})),b$=he("removeControl",()=>({$el:"button",attrs:{disabled:"$value.length <= $min",onClick:"$fns.createRemover($index)",type:"button"}})),x$=he("items",()=>({$el:"ul",meta:{autoAnimate:!0},attrs:{role:"list",id:'$id + "_items"'}})),w$=he("item",()=>({$el:"li",for:["item","index","$items"],attrs:{role:"listitem",key:"$item","data-index":"$index"}})),_$=he("downControl",()=>({$el:"button",attrs:{disabled:"$index >= $value.length - 1",onClick:"$fns.createShift($index, 1)",type:"button"}})),k$=he("upControl",()=>({$el:"button",attrs:{disabled:"$index <= 0",onClick:"$fns.createShift($index, -1)",type:"button"}})),S$=he("content","div"),D$=he("fieldset",()=>({$el:"fieldset",attrs:{id:"$id"}})),C$=he("legend",()=>({$el:"legend",if:"$label"})),L$=he("group",()=>({$formkit:"group",index:"$index"})),A$=he("controls",()=>({$el:"ul",if:"$removeControl || $insertControl || $upControl || $downControl"})),T$=he("remove",()=>({$el:"li",if:"$removeControl"})),I$=he("insert",()=>({$el:"li",if:"$insertControl"})),E$=he("up",()=>({$el:"li",if:"$upControl"})),M$=he("down",()=>({$el:"li",if:"$downControl"})),nn=he("controlLabel","span"),O$=he("dragHandleWrapper",()=>({if:"$draggable",$el:"div"})),P$=he("dragHandle",()=>({$el:"div",attrs:{id:'$id + "_drag_handle"'}}));function V$(e){var t,r,n,o,s,a,i,l,p,u,c,f,d,$;if((t=(l=e.props).removeControl)!==null&&t!==void 0||(l.removeControl=!0),(r=(p=e.props).upControl)!==null&&r!==void 0||(p.upControl=!0),(n=(u=e.props).downControl)!==null&&n!==void 0||(u.downControl=!0),(o=(c=e.props).insertControl)!==null&&o!==void 0||(c.insertControl=!1),(s=(f=e.props).addButton)!==null&&s!==void 0||(f.addButton=!0),(a=(d=e.props).addLabel)!==null&&a!==void 0||(d.addLabel=!1),(i=($=e.props).addAttrs)!==null&&i!==void 0||($.addAttrs={}),e.props.draggable=W(e.props.draggable),e.props.min=e.props.min!==void 0?Number(e.props.min):1,e.props.max=e.props.max!==void 0?Number(e.props.max):1/0,e.props.min>e.props.max)throw Error("Repeater: min must be less than max");if(Array.isArray(e.value))if(e.value.length<e.props.min){const h=vt(e.props.min-e.value.length,()=>({}));e.input(e.value.concat(h),!1)}else e.value.length>e.props.max&&e.input(e.value.slice(0,e.props.max),!1);else e.input(vt(e.props.min,()=>({})),!1);e.context&&(function(h,y){y.createShift=(m,S)=>()=>{const g=h._value;g.splice(m+S,0,g.splice(m,1)[0]),h.input(g,!1)},y.createInsert=m=>()=>{const S=h._value;S.splice(m+1,0,{}),h.input(S,!1)},y.createAppend=()=>()=>{const m=h._value;m.push({}),h.input(m,!1)},y.createRemover=m=>()=>{const S=h._value;S.splice(m,1),h.input(S,!1)}})(e,e.context.fns)}function Wa(e,t){var r;if(!t.context)return;const n=(r=t.props.__root)===null||r===void 0?void 0:r.getElementById(`${t.props.id}_inner`),o=n?.hasAttribute("data-auto-animate"),s={group:t.props.id,dragHandle:`#${t.props.id}_drag_handle`,draggingClass:t.context.classes.dragging,dropZoneClass:t.context.classes.dropZone,root:t.props.__root,disabled:!t.props.draggable,plugins:o?[]:[Un({duration:100})],touchDraggingClass:t.context.classes.touchDragging,touchDropZoneClass:t.context.classes.touchDropZone,draggable:l=>l.tagName==="LI"};function a(){return Array.isArray(t.value)?t.value:[]}function i(l){t.input(l)}$e({parent:e,getValues:a,setValues:i,config:s}),t.on("prop:disabled",({payload:l})=>{s.disabled=l,$e({parent:e,getValues:a,setValues:i,config:s})}),t.on("prop:draggable",({payload:l})=>{s.disabled=!l,$e({parent:e,getValues:a,setValues:i,config:s})})}const F$={schema:u$(D$(C$("$label"),m$("$help"),c$(d$(),H("$value.length === 0",H("$slots.empty",v$()),x$(w$(O$(P$(wr("dragHandle"))),S$(L$("$slots.default")),A$(E$(k$(nn("$ui.moveUp.value"),wr("moveUp"))),T$(b$(nn("$ui.remove.value"),wr("remove"))),I$($$(nn("$ui.add.value"),wr("add"))),M$(_$(nn("$ui.moveDown.value"),wr("moveDown"))))),f$()))),y$('$addLabel || ($ui.add.value + " " + ($label || ""))')),h$(g$("$message.value"))),type:"list",props:["min","max","total","upControl","downControl","removeControl","insertControl","addLabel","addButton","addAttrs","draggable"],features:[function(e){e._c.sync=!0,e.on("created",V$.bind(null,e)),e.on("mounted",()=>{me(`${e.props.id}_items`,t=>{if(t instanceof HTMLElement){let r=function(n){for(const o of n)for(const s of Array.from(o.addedNodes))if(s instanceof HTMLElement&&s.id===`${e.props.id}_items`)return void Wa(s,e)};Wa(t,e),Ms(e,r).observe(t.parentNode,{childList:!0})}},e.props.__root)})},Zn,le("remove"),le("add"),le("moveUp"),le("moveDown"),re("dragHandle","dragHandle"),re("remove","trash"),re("add","add"),re("moveUp","arrowUp"),re("moveDown","arrowDown")]},Qo=new WeakMap;function zr(e,t){const r={onItems:[],offItems:[]},n=t||Number(e.value||0);for(let o=0;o<e.props.max;o++)if(o<n&&o+1>=n){const s=e.props.rightToLeft?100-100*(n-o):100*(n-o);r.onItems.push(s+"%"),r.offItems.push(100-s+"%")}else o<n?(r.offItems.push("0%"),r.onItems.push("100%")):o>=n&&(r.offItems.push("100%"),r.onItems.push("0%"));e.props.itemsToPercentages=r}function N$(e,t){var r;(r=e.context)===null||r===void 0||r.handlers.blur(t)}function B$(e,t){const{x:r,y:n}=Ap(t);let o=document.elementFromPoint(r,n);const s=Array.from(document.querySelectorAll(`#${e.props.id}_items_wrapper > .formkit-ratingItem`));let a=!0;for(;o&&a;){if(s.includes(o)){a=!1;break}o=o.parentNode}if(!a){const i=s.indexOf(o);if(e.props.step===1)return void e.input(i+1,!1)}}function R$(e,t,r){e.props.disabled||(r.preventDefault(),e.props.hoverHighlight=!0,e.props.touchStarted=!0,e.props.step!==1?Qn(e,t,r):e.input(t+1,!1))}function Lp(e,t){if(!e.props.dragStarted)return;t.preventDefault(),e.props.hoverHighlight=!1,e.props.dragStarted=!1,zr(e);const r=Qo.get(e);r&&(r.abort(),Qo.delete(e))}function H$(e,t,r){if(e.props.hoverHighlight||e.props.disabled)return;r.preventDefault(),e.props.hoverHighlight=!0,e.props.dragStarted=!0;const n=new AbortController;document.addEventListener("mouseup",o=>Lp(e,o),{signal:n.signal}),Qo.set(e,n),e.props.step===1?e.input(t+1,!1):Qn(e,t,r)}function W$(e,t){var r,n;if(document.activeElement===t.currentTarget){if(t.key==="ArrowRight"||t.key==="ArrowDown"){e.props.arrow=1;const o=e.value?es(e.value+1*e.props.step,e.props.step):e.props.min+1*e.props.step,s=(r=e.props.__root)===null||r===void 0?void 0:r.querySelector(e.value?`#${e.props.id}_inner input[value="${o}"]`:"#"+(e.props.id+"_0_0"));e.props.preventFocus=!0,s&&s instanceof HTMLInputElement&&s.focus(),e.props.preventFocus=!1,e.input(Number(o))}else if(t.key==="ArrowLeft"||t.key==="ArrowUp"){e.props.arrow=-1;const o=e.value?es(e.value-1*e.props.step,e.props.step):e.props.max,s=(n=e.props.__root)===null||n===void 0?void 0:n.querySelector(`#${e.props.id}_inner input[value="${o}"]`);e.props.preventFocus=!0,s&&s instanceof HTMLInputElement&&s.focus(),e.props.preventFocus=!0,e.input(Number(o)),e.props.preventFocus=!1}}}function K$(e,t){if(!e.props.preventFocus){if(e.props.preventFocus=!0,setTimeout(()=>{e.props.preventFocus=!1},50),t.relatedTarget instanceof HTMLElement&&t.relatedTarget.id===e.props.id+"_items_wrapper")e.props.arrow>0?setTimeout(()=>{var r,n;(n=(r=e.props.__root)===null||r===void 0?void 0:r.getElementById(e.props.id+"_0_0"))===null||n===void 0||n.focus()}):e.props.arrow<0&&setTimeout(()=>{var r,n;(n=(r=e.props.__root)===null||r===void 0?void 0:r.getElementById(e.props.id+`_${e.props.max-1}_${e.props.stepsPerValue-1}`))===null||n===void 0||n.focus()});else if(t.target instanceof HTMLInputElement){if(Number(t.target.value)===e.props.step&&e.value===e.props.max||Number(t.target.value)===e.props.max&&e.value===e.props.step){const r=document.getElementById(e.props.id+"_items_wrapper");return r?.focus(),void e.input(0)}e.input(Number(t.target.value))}}}function j$(e,t,r){e.props.hoverHighlight&&(e.props.disabled||(e.props.step===1?(zr(e,t+1),e.props.dragStarted&&e.input(t+1,!1)):Qn(e,t,r,!!e.props.dragStarted)))}function Y$(e){zr(e)}function Z$(e,t,r){if(!e.props.disabled&&r.type!=="touchstart"&&(r.preventDefault(),(r.clientX!==0||r.clientY!==0)&&r.currentTarget instanceof HTMLElement))return e.props.step===1?e.props.deselect&&Number(e.value)===t+1?void e.input(0):void e.input(t+1):void Qn(e,t,r)}function Ap(e){return e instanceof MouseEvent?{x:e.clientX,y:e.clientY}:{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}}function Qn(e,t,r,n=!0){if(!(r.currentTarget instanceof HTMLElement))return;const{x:o}=Ap(r),s=r.currentTarget.getBoundingClientRect();let a=es((o-s.x)/s.width+t,e.props.step);a=a>e.props.min?a:e.props.min,a=a<e.props.max?a:e.props.max,!e.props.deselect||a!==Number(e.value)||e.props.dragStarted?n?e.input(a,!1):zr(e,a):e.input(0)}function es(e,t){t||(t=1);const r=1/t;return Math.ceil(e*r)/r}const je=Ee("rt"),{outer:U$,wrapper:q$,inner:z$,label:G$,prefix:X$,suffix:J$,help:Q$,messages:e0,message:t0,icon:Vn}=Me(je),r0=je("itemsWrapper",()=>({$el:"span",attrs:{style:{"flex-direction":'$rightToLeft && "row-reverse" || undefined'},tabindex:"$value !== undefined && $value !== 0 && '-1' || '0'",id:"$id + _items_wrapper",onKeydown:"$handlers.handleWrapperKeydown","data-disabled":"$disabled",onBlur:"$handlers.handleWrapperBlur",onMouseleave:"$hoverHighlight && $handlers.handleMouseleave"}})),n0=je("ratingItem",()=>({for:["item","index","$max"],$el:"span",attrs:{id:'$id + "_item_" + $index',onClick:"$handlers.handleItemClick($item)",draggable:"$hoverHighlight !== true && && $disabled !== true && true",onMousemove:"$handlers.handleMousemove($item)",onDragstart:"$handlers.handleDragstart($item)",onDragend:"$handlers.handleDragend",onTouchstartPassive:"$handlers.handleTouchstart($item)",onTouchmovePassive:"$handlers.handleTouchmove"}})),o0=je("template",()=>({for:["increment","stepIndex","$stepsPerValue"],$el:null})),s0=je("itemLabel",()=>({$el:"label",attrs:{id:'$id + "_label_" + $index + "_" + $stepIndex',for:'$id + "_" + $index + "_" + $stepIndex',"data-checked":'$value === $fns.getValue($item, $increment) && "true" || "false"',style:{width:'$fns.showLabel($fns.getValue($item, $increment), $stepIndex, $item) && "100%" || "0%"'}}})),a0=je("itemLabelInner",()=>({$el:"span",children:"$fns.getValue($item, $increment)"})),i0=je("input",()=>({$el:"input",attrs:{type:"radio",value:"$fns.getValue($item, $increment)",id:'$id + "_" + $index + "_" + $stepIndex',onFocus:"$handlers.handleFocus",tabindex:'$value === $fns.getValue($item, $increment) && "0" || "-1"',disabled:"$disabled",name:"$id","data-value":"$fns.getValue($item, $increment)",checked:"$value === $fns.getValue($item, $increment) && true",onKeydown:"$handlers.handleKeydown($fns.getValue($item, $increment))"}})),l0=je("onItemRow",()=>({$el:"span",attrs:{style:{width:"$fns.getPercentage($itemsToPercentages, $item)",display:"flex",position:"relative",overflow:"hidden",top:"0",left:"0",bottom:"0"}}})),p0=je("offItemRow",()=>({$el:"span",attrs:{style:{width:"$fns.getPercentage($itemsToPercentages, $item, false)",display:"flex","flex-direction":"row-reverse",position:"absolute",zIndex:"$offItemStyles && 100",overflow:"hidden",top:"0",right:"0"}}})),u0=je("onItemWrapper",()=>({$el:"div",attrs:{style:{color:"$onColor"}}})),c0=je("offItemWrapper",()=>({$el:"div",attrs:{style:{color:"$offColor"}}})),d0=()=>H("$slots.onItem",()=>()=>"$slots.onItem",H("$slots.default",()=>()=>"$slots.default",Vn("rating"))),f0=()=>H("$slots.offItem",()=>()=>"$slots.offItem",H("$slots.default",()=>()=>"$slots.default",Vn("rating"))),m0={schema:U$(q$(G$("$label"),z$(Vn("prefix"),X$(),r0(n0(o0(s0(l0(u0(d0())),p0(c0(f0())),a0()),i0()))),J$(),Vn("suffix"))),Q$("$help"),e0(t0("$message.value"))),type:"input",props:[],features:[function(e){function t(r){setTimeout(()=>{const n=Array.from(document.querySelectorAll(`#${r.props.id}_items_wrapper > .formkit-ratingItem`));for(let o=0;o<n.length;o++){const s=n[o].querySelectorAll(".formkit-onItemWrapper"),a=n[o].querySelectorAll(".formkit-offItemWrapper");for(let i=0;i<s.length;i++)s[i].style.flex=`0 0 ${n[o].getBoundingClientRect().width}px`;for(let i=0;i<a.length;i++)a[i].style.flex=`0 0 ${n[o].getBoundingClientRect().width}px`}})}e.addProps(["max","step","stepsPerValue","itemsToPercentages","rightToLeft","onItemStyles","offItemStyles","hoverHighlight","deselect","disabled","wrapperWidth","onColor","offColor"]),e.props.hoverHighlight!==!1&&e.props.hoverHighlight!=="false"&&(e.props.hoverHighlight=!0),e.props.deselect=W(e.props.deselect),e.props.max=Number(e.props.max)||5,e.props.min=Number(e.props.min)||0,e.props.step=Number(e.props.step)||1,e.props.numberOfSteps=e.props.max/e.props.step,e.props.lastIndex=1/e.props.step-1,e.props.itemsToPercentages={},"disabled"in e.props&&(e.props.disabled=W(e.props.disabled)),e.props.rightToLeft?(e.props.onItemStyles=void 0,e.props.offItemStyles={position:"absolute",top:"0",left:"0",overflow:"hidden",height:"100%",zIndex:100}):e.props.onItemStyles={position:"absolute",top:"0",left:"0",overflow:"hidden",height:"100%"},e.props.stepsPerValue=1/e.props.step,e.hook.input((r,n)=>{if(r===null||r===""||isNaN(r))return n(r);const o=Number(r),s=Number(e.props.min),a=Number(e.props.max);return o>a?n(a):e.props.min&&o<=s?n(s):n(o)}),e.on("commit",({payload:r})=>{const n=Number(r||0);zr(e,n)}),e.on("created",()=>{e.context&&(me(`${e.props.id}_items_wrapper`,()=>{t(e),(function(r){var n;const o=(n=r.props.__root)===null||n===void 0?void 0:n.getElementById(`${r.props.id}_items_wrapper`);o&&new ResizeObserver(()=>{t(r)}).observe(o)})(e),setTimeout(()=>t(e),100)},e.props.__root),e.context.fns.getPercentage=(r,n,o=!0)=>(o?r.onItems:r.offItems)[n],e.context.fns.getValue=(r,n)=>r+Number((n*e.props.step+e.props.step).toFixed(1)),e.context.fns.showLabel=(r,n)=>{const o=Number(e.value||0);return o===0&&n===0||o&&r===o||r>o&&n===0||o>r&&n===e.props.lastIndex},e.context.handlers.handleFocus=r=>K$.call(null,e,r),e.context.handlers.handleWrapperKeydown=r=>W$.call(null,e,r),e.context.handlers.handleWrapperBlur=r=>N$.call(null,e,r),e.context.handlers.handleItemClick=r=>n=>Z$.call(null,e,r,n),e.context.handlers.handleMousemove=r=>n=>j$.call(null,e,r,n),e.context.handlers.handleMouseleave=()=>Y$.call(null,e),e.context.handlers.handleDragstart=r=>n=>H$.call(null,e,r,n),e.context.handlers.handleMouseup=r=>Lp.call(null,e,r),e.context.handlers.handleTouchstart=r=>n=>R$.call(null,e,r,n),e.context.handlers.handleTouchmove=r=>B$.call(null,e,r),e.context.handlers.handleKeydown=r=>n=>(function(o,s,a){const i=Number(o.value);o.props.deselect&&a.key===" "&&i===s?o.input(0):a.key===" "&&o.input(s)})(e,r,n))})},re("rating","star")]},Xe=Ee("ac"),{outer:h0,wrapper:g0,inner:v0,icon:et,label:$0,prefix:y0,suffix:b0,help:x0,messages:w0,message:_0}=Me(Xe),k0=Xe("input",()=>({$el:"input",bind:"$attrs",attrs:{id:"$id",type:"text",onClick:"$handlers.click",onBlur:"$handlers.blur",onKeydown:"$handlers.keydown",onInput:"$handlers.input",onFocus:"$handlers.focus",value:"$inputText || undefined",name:"$node.name",placeholder:"$state.loading && $ui.isLoading.value || $placeholder || undefined",tabindex:'$disabled && "-1" || 0',role:"combobox",autocomplete:'$attrs.autocomplete || "off"',autocapitalize:"none",readonly:"$attrs.readonly || $state.loading || $multiple && $max && $value && $value.length >= $max && $hasHighlightedRange !== true || undefined","data-selection-appearance":"$selectionAppearance",disabled:"$disabled || $disabledInternally || undefined",onTouchmovePassive:"$handlers.touchmove",onTouchstartPassive:"$handlers.touchmove",onTouchend:"$handlers.touchend","aria-autocomplete":"list","aria-expanded":"$expanded","aria-controls":'$expanded && $id + "_listbox" || undefined',"aria-describedBy":"$describedBy","aria-activedescendant":"$expanded && $activeDescendant || undefined","aria-required":"$state.required || undefined"}})),Ka=Xe("listboxButton",()=>({$el:"div",attrs:{style:"$visibilityStyles",id:'$id + "_listbox_button"',role:"button","aria-label":"$expanded && $ui.close.value || $ui.open.value",onClick:"$handlers.toggleListbox",onKeydown:"$handlers.toggleListboxKeydown",tabindex:'$disabled && "-1" || 0',"aria-haspopup":"true","aria-expanded":"$expanded","aria-controls":'$expanded && $id + "_listbox" || undefined',"aria-disabled":"$disabled || $state.loading || undefined","data-disabled":"$disabled || $disabledInternally || undefined"}})),ja=Xe("selectionWrapper",()=>({for:["option","index","$selections"],$el:"div",attrs:{id:'$id + "_selection_wrapper_" + $index',key:"$option.value","data-value":"$option.value",tabindex:'$disabled && "-1" || 0',onKeydown:"$handlers.selectionKeydown && $handlers.selectionKeydown($multiple && $option || undefined)",onClick:"$handlers.selectionClick && $handlers.selectionClick($multiple && $option || undefined)",onFocus:"$handlers.selectionFocus && $handlers.selectionFocus($multiple && $option || undefined)",onBlur:"$handlers.selectionBlur && $handlers.selectionBlur($multiple && $option || undefined)","data-is-selection":"true","data-active-selection":"$fns.isActiveSelection && $fns.isActiveSelection($activeSelectionValue, $option)"}})),Ya=Xe("selection",()=>({$el:"div",attrs:{id:'$id + "_selection_" + $index'}})),Za=Xe("selections",()=>({$el:"div",attrs:{"aria-live":"polite",id:'$id + "_selections"'}})),bo=Xe("removeSelection",()=>({$el:"button",attrs:{id:'$selectionAppearance === "option" && $multiple && $id + "_remove_selection_" + $index || $id + "_remove_selection"',tabindex:"0",title:"$ui.remove.value",type:"button","aria-label":"$ui.remove.value",onClick:"$handlers.removeSelection && $handlers.removeSelection($multiple && $option || undefined)",onTouchend:"$handlers.removeSelection && $handlers.removeSelection($multiple && $option || undefined)","aria-controls":"$id"}})),Ua=Xe("optionLoading","span"),qa=Xe("option",()=>({$el:"div",if:"$value !== undefined"})),S0=Es(Xe);function D0(e){e.props.selectionAppearance!=="option"||e.props.multiple||e.props.selectionRemovable===!1||e.props.selectionRemovable==="false"||(e.props.selectionRemovable=!0),e.props.multiple||(e.props.clearSearchOnOpen=W(e.props.clearSearchOnOpen)),e.props.selectionRemovable=W(e.props.selectionRemovable),e.props.openOnClick=W(e.props.openOnClick),e.props.selectionAppearance!=="option"||e.props.multiple||(e.props.isSingleOption=!0),e.props.closeOnSelect===void 0&&(e.props.closeOnSelect=!0),e.props.selectionAppearance===void 0&&(e.props.selectionAppearance="text-input"),e.props.closeOnSelect===void 0&&(e.props.closeOnSelect=!0),e.props.closeOnSelect?e.props.resetSearchOnCommit=!1:e.props.resetSearchOnCommit===void 0&&(e.props.resetSearchOnCommit=e.props.multiple),e.props.allowNewValues=W(e.props.allowNewValues)}function Tp(e){e.addProps(["inputText","selectionAppearance","searchValue","openOnClick","filteredOptions","search","debounce","showInput","visibilityStyles","selectionStyles","multiple","filter","hasHighlightedRange","clearOnClick","debounce"]),e.props.debounce===void 0?e.props.debounce=200:e.props.debounce=parseInt(e.props.debounce),e.props.nonceKey="searchValue",e.props.searchValue="",e.props.inputText="",e.props.filterOptions=Ke.bind(null,e),e.props.reloadOnCommit=W(e.props.reloadOnCommit),e.props.alwaysLoadOnOpen===void 0?e.props.alwaysLoadOnOpen=!0:e.props.alwaysLoadOnOpen=W(e.props.alwaysLoadOnOpen),typeof e.props.filter!="function"&&(e.props.filter=(t,r)=>t.label.toLowerCase().includes(r.toLowerCase())),e.on("created",()=>{e.context&&Te&&(e.context.handlers.focus=za.bind(null,e),e.context.handlers.input=C0.bind(null,e),e.context.handlers.focus=za.bind(null,e),e.context.handlers.click=L0.bind(null,e),e.context.handlers.toggleListbox=Ip.bind(null,e),e.context.handlers.toggleListboxKeydown=A0.bind(null,e),e.context.handlers.keydown=Iv.bind(null,e),e.context.handlers.selectionKeydown=t=>r=>Av(e,t,r),e.context.handlers.searchInputTagKeydown=t=>r=>(function(n,o,s){if(s.stopPropagation(),!n.props.disabled)switch(s.key){case"ArrowDown":wp(n);break;case"ArrowRight":case"ArrowLeft":_p(n,o,s);break;case"Delete":case"Backspace":kp(n,o,s)}})(e,t,r),e.on("prop:options",({payload:t})=>{if((e.props.initialOptions.length===0&&typeof e.props.optionsLoader!="function"||!e.props.searchValue&&t.length)&&(e.props.initialOptions=[...t]),e.props.selections&&e.props.selections.length&&t.length)for(let r=0;r<e.props.selections.length;r++){const n=e.props.selections[r],o=t.find(s=>F(s)===n.value);o&&(e.props.selections[r]=o)}}))}),e.on("prop:expanded",({payload:t})=>{t||fp.delete(e)})}function C0(e,t){if(e.props.disabled)return;const r=t.target;e.props.inputText=r.value,e.emit("handleSearchInput",r.value),e.props.searchValue&&Ke(e,e.props.searchValue,!0)}function L0(e,t){t.stopPropagation(),e.props.disabled||e.props.disabledInternally||(e.props.attrs.onClick&&e.props.attrs.onClick(t),(!e.props.expanded&&e.props.openOnClick||e.props.openOnFocus)&&(e.props.expanded=!0))}function za(e){e.props.disabled||e.props.disabledInternally||(e.props.attrs.onFocus&&e.props.attrs.onFocus(),e.props.activeSelectionValue=void 0,e.props.skipOpen?e.props.skipOpen=!1:e.props.openOnFocus&&(e.props.expanded=!0))}function Ip(e){var t,r,n;e.props.disabled||e.props.disabledInternally||!((t=e.context)===null||t===void 0)&&t.state.loading||(e.props.expanded=!e.props.expanded,e.props.openOnFocus||(n=(r=e.props.__root)===null||r===void 0?void 0:r.getElementById(`${e.props.id}`))===null||n===void 0||n.focus())}function A0(e,t){t.key!=="Enter"&&t.key!==" "||(t.preventDefault(),t.stopPropagation(),Ip(e))}const Ga=new WeakMap,hn=typeof window<"u",xo=new WeakMap;let Xa=!1;function T0(e){e.props.searchValue=null,e.on("commit",()=>{e.props.searchValue=null,e.props.highlightedRange||Ja(e)}),e.on("created",()=>{if(!e.context||!hn)return;e.on("handleSearchInput",({payload:s})=>{s===""?(e.props.searchValue=null,e.input([])):s&&e.props.inputStd.length===0?e.props.searchValue=s:s&&e.props.inputStd.length>0&&(e.props.searchValue=(function(a){var i;const l=on(a);if(a.props.highlightedRange){const[p,u]=Qa(a,l);return a.props.inputText.slice(p,u)}return a.props.inputText.slice(((i=l[l.length-1])===null||i===void 0?void 0:i.end)+2)})(e)),!e.props.expanded&&s?e.props.expanded=!0:!s&&e.props.expanded&&(e.props.expanded=!1)}),(function(s){me(`${s.props.id}`,a=>{a instanceof HTMLInputElement&&xo.set(a,s)},s.props.__root),hn&&!Xa&&(Xa=!0,document.addEventListener("selectionchange",()=>{const a=Mt();if(a instanceof HTMLInputElement&&xo.has(a)){const i=xo.get(a);i&&(function(l){clearTimeout(Ga.get(l)),Ga.set(l,setTimeout(()=>{var p,u,c,f;const d=(p=l.props.__root)===null||p===void 0?void 0:p.getElementById(`${l.props.id}`);if(d instanceof HTMLInputElement){const $=on(l),h=$.findIndex(m=>d.selectionStart!==null?d.selectionStart>=m.start&&d.selectionStart<=m.end:d.selectionEnd!==null&&d.selectionEnd>=m.start&&d.selectionEnd<=m.end),y=(u=$[$.length-1])===null||u===void 0?void 0:u.end;if(d.selectionStart===0&&d.selectionEnd===((c=l.props.inputText)===null||c===void 0?void 0:c.length))return;if(typeof l.props.searchValue=="string"&&l.props.highlightedRange){if($.length){const m=l.props.highlightedRange,[S,g]=Qa(l,$);if(d.selectionEnd!==null&&(d.selectionEnd<S||d.selectionEnd>g)){const _=m.end-m.start-(g-S),C=d.selectionEnd;l.props.inputText=l.props.option.label,l.props.highlightedRange=void 0,l.props.searchValue=null,d.value=l.props.inputText,d.selectionStart=d.selectionEnd=C+(C>S?_:0)}}}else if(h>=0&&d.selectionStart!==null&&(y!==((f=l.props.inputText)===null||f===void 0?void 0:f.length)||d.selectionStart<y)){const m=$[h],S=l.props.inputText.substr(0,y),g=m.start+(m.index>0?1:0),_=m.end+($.length-1>m.index?-1:0);S!==l.props.inputText&&(l.props.inputText=S,d.value=S),l.props.highlightedRange=m,d.selectionStart=g,d.selectionEnd=_}else l.props.highlightedRange=void 0,Ja(l);if(d.selectionStart!==null&&d.selectionStart>=y&&l.props.inputText.substring(y,y+2)!==", "){let m=l.props.inputText.substring(0,y);m=l.props.multiple&&l.props.max&&Array.isArray(l.props.inputStd)&&l.props.inputStd.length>=l.props.max?m:`${m},`,l.props.inputText=`${m} ${l.props.inputText.substring(y).replace(/^[,\s]{1,2}/,"")}`}}},5))})(i)}}))})(e);const n=e.context.handlers.keydown;e.context.handlers.keydown=s=>{n(s),(function(a,i){var l,p,u,c;if(["ArrowRight","ArrowLeft"].includes(i.key)&&i.target instanceof HTMLInputElement&&i.target.selectionEnd!==null&&i.target.selectionStart!==null){if(i.target.selectionStart===0&&i.target.selectionEnd===((l=a.props.inputText)===null||l===void 0?void 0:l.length))i.key==="ArrowLeft"?t(0):t(-1);else if(!a.props.searchValue){a.props.searchValue=null;const f=on(a),d=(p=f[f.length-1])===null||p===void 0?void 0:p.end;i.target.selectionStart<d&&(i.target.selectionStart=Math.max(0,i.key==="ArrowLeft"?i.target.selectionStart-2:i.target.selectionEnd+2))}}else if(["Delete","Backspace"].includes(i.key))a.props.highlightedRange&&!a.props.searchValue?(Jn(a,a.props.highlightedRange.option),a.props.inputStd.length===0&&(a.props.highlightedRange=void 0)):i.target instanceof HTMLInputElement&&(a.props.searchValue=null,t(-1,!0)&&i.preventDefault());else if(i.target instanceof HTMLInputElement&&i.target.selectionStart===0&&i.target.selectionEnd===((u=a.props.inputText)===null||u===void 0?void 0:u.length)&&(!((c=a.props.inputText)===null||c===void 0)&&c.length)&&a.props.selections.length===0)i.preventDefault();else if(i.key==="Tab")return;i.key==="ArrowLeft"&&t(-1,!0)&&i.preventDefault()})(e,s)};const o=e.context.handlers.focus;e.context.handlers.focus=s=>{o(e,s);const a=new Event("selectionchange");document.dispatchEvent(a)},e.on("blur",()=>{e.props.selections.length?(e.props.inputText=e.props.selections.map(s=>s.label).join(", "),e.props.searchValue=null):e.props.selections.length||(e.props.inputText="",e.props.searchValue="")})}),e.on("prop:expanded",({payload:n})=>{n||e.props.inputStd.length?n&&(e.props.options.length&&!e.props.alwaysLoadOnOpen||(e.props.options=[],Ke(e,e.props.searchValue))):(e.props.searchValue="",e.props.inputText="")}),e.on("prop:selections",()=>{var n;const o=[...e.props.selections].map(a=>a.label).join(", ");let s="";if(hn&&e.isCreated){const a=(n=e.props.__root)===null||n===void 0?void 0:n.getElementById(`${e.props.id}`);if(Mt()===a&&Array.isArray(e._value)&&e._value.length){if(e.props.max&&e._value.length>=Number(e.props.max))return;s=", "}}e.props.inputText=`${o}${s}`,e.props.reloadOnCommit&&(e.props.searchValue="",Ke(e,e.props.searchValue))});const t=(n,o=!1)=>{var s,a;const i=(s=e.props.__root)===null||s===void 0?void 0:s.getElementById(`${e.props.id}`);if(!(i instanceof HTMLInputElement))return!1;const l=on(e),p=n>=0?n:l.length-1;if(l[p]===void 0)return!1;const u=(a=l[p])===null||a===void 0?void 0:a.end;return i.selectionStart!==null&&(!o||i.selectionStart>=u&&i.selectionStart<=u+2)&&(i.selectionStart=l[p].start+(p>0?1:0),i.selectionEnd=l[p].end+(p<l.length-1?-1:0),!0)};let r;e.on("selectRange",({payload:n})=>t(...n)),e.on("prop:highlightedRange",({payload:n})=>{e.props.hasHighlightedRange=!!n,n&&e.props.expanded&&r!==n.option&&(r=n.option,Ps(e))})}function Ja(e){var t;if(!hn)return;const r=(t=e.props.__root)===null||t===void 0?void 0:t.getElementById(`${e.props.id}`);r&&r.scrollTo({left:r.scrollWidth,behavior:"smooth"})}function Qa(e,t){var r;const n=e.props.highlightedRange,o=n.index,s=n.start+(o?1:0),a=t.length-1>o?t[t.length-1].end-t[o+1].start:0;return[s,((r=e.props.inputText)===null||r===void 0?void 0:r.length)-a+(t.length-1>n.index?-1:0)]}function on(e){const t=Os(e);return Array.isArray(t)&&t.length?t.reduce((r,n,o)=>{var s;const a=((s=r[o-1])===null||s===void 0?void 0:s.end)||0;let i=0;return t.length-1!==o&&i++,o!==0&&i++,r.push({option:n,index:o,start:a,end:a+n.label.length+i}),r},[]):[]}function Ep(e){(function(t){t.on("prop:expanded",({payload:r})=>{r?(t.props.searchValue="",t.props.options.length&&!t.props.alwaysLoadOnOpen||(t.props.options=[],Ke(t,t.props.searchValue,!0))):(t.props.searchValue="",t.props.inputText="")})})(e),(function(t){t.on("handleSearchInput",({payload:r})=>{r&&!t.props.expanded?(t.props.searchExpand=!0,t.props.expanded=!0):!r&&t.props.expanded&&(t.props.expanded=!1),t.props.searchValue=t.props.inputText})})(e),(function(t){t.on("prop:selections",()=>{t.isCreated&&(t.props.inputText="",t.props.searchValue="",t.props.optionRemoved||t.props.reloadOnCommit&&Ke(t,t.props.searchValue,!0))})})(e)}function I0(e){(function(t){function r(o){o.props.inputStd.length===0?(o.props.inputText="",o.props.searchValue=""):(o.props.inputText=o.props.selections[0].label,o.props.searchValue=o.props.selections[0].label)}function n(o){o.props.clearSearchOnOpen&&!o.props.searchExpand&&(o.props.inputText="",o.props.searchValue=""),o.props.searchValue=o.props.inputText,o.props.options.length&&!o.props.alwaysLoadOnOpen||(o.props.options=[],Ke(o,o.props.searchValue,!0)),o.props.searchExpand&&(o.props.searchExpand=!1)}t.on("prop:expanded",({payload:o})=>{o?n(t):r(t)})})(e),(function(t){t.on("handleSearchInput",({payload:r})=>{r===""?(t.props.inputStd.length===0&&(t.props.expanded=!1),t.input(void 0)):r&&!t.props.expanded&&(t.props.searchExpand=!0,t.props.expanded=!0),t.props.searchValue=t.props.inputText})})(e),(function(t){t.on("prop:selections",({payload:r})=>{t.props.inputText=r.length?r[0].label:"",t.props.searchValue=r.length?r[0].label:"",t.isCreated&&t.props.expanded&&r.length===0&&Ke(t,t.props.searchValue,!0)})})(e)}function E0(e){if(e.props.multiple)if(e.props.multiple&&e.props.selectionAppearance==="option"){let t=function(){return Array.isArray(e.value)?e.value:[]},r=function(n){e.input(n)};Ep(e),e.on("created",()=>{e.props.disabled&&(e.props.draggable=!1),me(`${e.props.id}_selections`,n=>{if(n instanceof HTMLElement&&e.context){const o={draggingClass:e.context.classes.dragging,dropZoneClass:e.context.classes.dropZone,root:e.props.__root,disabled:!e.props.draggable,plugins:[Un()],touchDraggingClass:e.context.classes.touchDragging,touchDropZoneClass:e.context.classes.touchDropZone,draggable:s=>s.hasAttribute("data-is-selection")};$e({parent:n,getValues:t,setValues:r,config:o}),e.on("prop:disabled",({payload:s})=>{o.disabled=s,$e({parent:n,getValues:t,setValues:r,config:o})}),e.on("prop:draggable",({payload:s})=>{o.disabled=!s,$e({parent:n,getValues:t,setValues:r,config:o})})}},e.props.__root)})}else e.props.multiple&&e.props.selectionAppearance==="text-input"&&T0(e);else I0(e)}const M0={schema:h0(g0($0("$label"),v0(et("prefix"),y0(),k0(),H("$multiple !== true && $selectionAppearance === option && $expanded === false",Za(ja(Ya(qa(H("$state.loading",Ua("$ui.isLoading.value"),"$option.label"))),H("$state.loading && $isSingleOption !== true && $optionLoaderValues.includes($option.value)",et("loader")),H("$selectionRemovable && $isSingleOption",bo(et("close")))))),H("$state.loading && ($isSingleOption !== true || $selections.length === 0)",et("loader")),H('$selectionRemovable && $selectionAppearance === "text-input" && $selections.length > 0',bo(et("close")),H('$selectionAppearance === "text-input" || ($selectionAppearance === "option" && $multiple)',Ka(et("select")))),H("$isSingleOption && ($inputStd.length === 0 || $selectionRemovable === undefined || ($expanded) || $state.loading || $optionLoaderValues.length > 0)",Ka(et("select"))),S0(),b0(),et("suffix")),H("$multiple && $selectionAppearance === option",Za(ja(Ya(qa(H("$state.loading && $fns.hasOptionLoaderValue($option)",Ua("$ui.isLoading.value"),"$option.label"))),bo(et("close")))))),x0("$help"),w0(_0("$message.value"))),type:"input",family:"dropdown",props:[],features:[re("select","select"),re("close","close"),re("selected","check"),re("loader","spinner"),le("isLoading"),le("loadMore"),le("remove"),le("open"),le("close"),ft,Fs.bind(null,D0,Tp,E0),qr]},ae=Ee("dp"),{outer:O0,wrapper:P0,inner:V0,icon:kt,label:F0,prefix:N0,suffix:B0,help:R0,messages:H0,message:W0}=Me(ae),K0=ae("input",()=>({$el:"input",bind:"$attrs",attrs:{name:"$node.name",id:"$id",onKeydown:"$handlers.inputKeydown",value:"$inputText",onInput:"$handlers.dateInput",onClick:"$pickerOnly && $handlers.open",onBlur:"$handlers._blur",onFocus:"$handlers.focus",readonly:"$pickerOnly || $expanded",disabled:"$disabled"}})),j0=ae("panelWrapper",()=>({$el:"div",if:"$expanded",attrs:{id:'$id + "_popover"',role:"dialog",onBlur:"$handlers._blurOut()",tabindex:"-1",popover:"$popover","aria-modal":"true","aria-label":"Choose date","data-panel":"$panel",style:{if:"$usePopover",then:{margin:0,top:'$popoverCoordinates.y + "px"',left:'$popoverCoordinates.x + "px"',width:'$popoverCoordinates.width + "px"'}}}})),Y0=ae("next",()=>({$el:"button",if:"$showPagination",attrs:{id:"$id + _next_button",type:"button",onClick:"$handlers.next"}})),Z0=ae("nextLabel","span"),U0=ae("prev",()=>({$el:"button",if:"$showPagination",attrs:{id:"$id + _prev_button",type:"button",onClick:"$handlers.prev"}})),q0=ae("prevLabel","span"),z0=ae("calendar",()=>({if:'$panel === "day"',$el:"table",for:["month","$calendar"],attrs:{key:'$fns.format($month.monthDay, "YYYY-MM")'}})),G0=ae("calendarWeeks",()=>({$el:"tbody"})),X0=ae("calendarHeader",()=>({$el:"thead"})),J0=ae("weekDays",()=>({$el:"tr"})),Q0=ae("weekDay",()=>({$el:"th",for:["day","$month.weeks.0"],attrs:{"aria-label":'$fns.format($day, "dddd")'}})),ey=ae("week",()=>({$el:"tr",for:["week","weekIndex","$month.weeks"]})),ty=ae("dayCell",()=>({$el:"td",for:["day","dayIndex","$week"],attrs:{key:"$day",onClick:"$handlers.setDate($day)",onKeydown:"$handlers.keyDown",onMouseenter:"$handlers.mouseEnter($day)",onMouseleave:"$handlers.mouseLeave",onBlur:"$handlers._blurOut(day)",tabindex:'$fns.sameDay($day) && "0" || "-1"',"data-is-extra":"$fns.notInMonth($month.monthDay, $day)","data-disabled":"$fns.isDisabled($day)","aria-selected":"$selectedWeek === $weekIndex && $selectedDay === $dayIndex","aria-label":'$fns.format($day, "long")'}})),ry=ae("day","div"),ny=ae("openButton",()=>({$el:"div",attrs:{style:"$visibilityStyles",id:'$id + "_listbox_button"',type:"div",role:"button",onClick:"$handlers.open",onKeydown:"$handlers.openKeydown",tabIndex:'$pickerOnly && "-1" || "0"',"data-disabled":"$disabled","aria-disabled":"$disabled","aria-label":'$value && ($ui.changeDate.value + ", " + $inputText) || $ui.chooseDate.value',"aria-haspopup":"true","aria-expanded":"$expanded","aria-controls":'$expanded && $id + "_listbox" || undefined'}})),oy=ae("years",()=>({if:'$panel === "year"',$el:"ul",attrs:{id:'$id + "_years"'}})),sy=ae("year",()=>({for:["year","yearIndex","$years"],$el:"li",attrs:{key:'$: "year" + $fns.format($year, "YYYY")',onClick:"$handlers.setDate($year)",onKeydown:"$handlers.keyDown",onMouseenter:"$handlers.mouseEnter($year)",onMouseleave:"$handlers.mouseLeave",onBlur:"$handlers._blurOut(year)",tabindex:'$fns.sameYear($year) && "0" || "-1"',"aria-selected":"$selectedYear === $yearIndex","data-disabled":"$fns.isDisabledYear($year)","aria-label":"$fns.format($year, $yearFormat)"}})),ay=ae("months",()=>({if:'$panel === "month"',$el:"ul"})),iy=ae("month",()=>({$el:"li",for:["month","index","$months"],attrs:{key:"$month",onClick:"$handlers.setDate($month)",onKeydown:"$handlers.keyDown",onMouseenter:"$handlers.mouseEnter($month)",onMouseleave:"$handlers.mouseLeave",onBlur:"$handlers._blurOut(month)",tabindex:'$fns.sameMonth($month) && "0" || "-1"',"aria-selected":"$selectedMonth === $index","data-disabled":"$fns.isDisabledMonth($month)"}})),ly=ae("panelHeader",()=>({$el:"header",attrs:{"aria-live":"polite"}})),py=ae("yearsHeader",()=>({$el:"div",if:'$panel === "year"'})),uy=ae("monthsHeader",()=>({$el:"div",if:'$panel === "month"'})),cy=ae("daysHeader",()=>({$el:"div",if:'$panel === "day"'})),dy=ae("timeHeader",()=>({$el:"div",if:'$panel === "time"'})),wo=ae("yearButton",()=>({$el:"button",attrs:{type:"button",id:"$id + _year_button",onClick:"$handlers.jumpTo(year)"},children:"$fns.format($renderedDate, $yearFormat)"})),ei=ae("monthButton",()=>({$el:"button",attrs:{type:"button",id:"$id + _month_button",onClick:"$handlers.jumpTo(month)"},children:"$fns.format($renderedDate, $monthButtonFormat)"})),fy=ae("dayButton",()=>({$el:"button",attrs:{type:"button",id:"$id + _day_button",onClick:"$handlers.jumpTo(day)",tabindex:"2"},children:"$fns.format($renderedDate, $dayButtonFormat)"})),my=ae("removeSelection",()=>({$el:"button",if:"$clearable && $_value",attrs:{id:'$id + "_remove_selection"',type:"button",onClick:"$handlers.clear","aria-controls":"$id"}})),hy=ae("time",()=>({$el:"div",if:'$panel === "time"'})),gy=ae("timeInput",()=>({$el:"input",attrs:{type:"time",value:"$localTime",onInput:"$handlers.localTime",onKeydown:"$handlers.keyDown",spellcheck:"false",onBlur:"$handlers._blurOut(time)"}})),vy=ae("panelClose",()=>({$el:"button",if:"$showPanelClose && ($inline === undefined || $inline === false)",attrs:{type:"button",class:"$classes.panelClose",onClick:"$handlers.closePanel",tabindex:-1,"aria-label":"$ui.close.value"}})),{overlayPlaceholder:$y,overlayLiteral:yy,overlayChar:by,overlayEnum:xy,overlay:wy,overlayParts:_y,overlayInner:ky}=up(ae),Sy=ae("panel","div"),at=new WeakMap,lr=new WeakMap,pr=new WeakSet,Dy=new WeakMap,eo=new WeakMap,ts=new WeakSet,gt=new WeakMap,Fn=/[\uD800-\uDBFF]/,Ct=new WeakMap,_o=new WeakMap,ko=new WeakMap,Ir=new WeakMap,gn=new WeakMap,rr=new WeakSet,gr=new WeakMap,to=new WeakMap,So=new WeakMap,At=new WeakMap;let rs=!1;const ti=()=>{rs=!0,setTimeout(()=>{rs=!1},500)},Cy={"#":{type:"char",pattern:/\d/,token:"#",placeholder:"_",selectDirection:"right"},a:{type:"char",pattern:/[a-zA-Z]/,token:"a",placeholder:"_",selectDirection:"left"},h:{type:"char",pattern:/[0-9a-fA-F]/,token:"h",placeholder:"_",selectDirection:"left"},"*":{type:"char",pattern:/./,token:"*",placeholder:"_",selectDirection:"left"}},ri=new WeakMap,Rr=typeof window<"u";let vn=!1,ni=!1;function Ly(){Rr&&!ni&&(ni=!0,document.addEventListener("selectionchange",()=>{const e=Mt();if(!(e instanceof HTMLInputElement))return;if(At.has(e))return(function(r){const n=At.get(r);if(n){const[o,s]=n,[a,i]=Ie(r),l=i.indexOf(o);if(l===-1)return void At.delete(r);const p=a[l],u=[p[0]+s[0],p[1],"none"];Ot(Ge(r),u)||Nn(r,u)}})(e);if(gt.get(e)!=="select")return;const t=Ge(e);if(!Ot(t,ri.get(e))){if(ri.set(e,t),pr.has(e))return pr.delete(e);e.dispatchEvent(new CustomEvent("selection",{detail:Ge(e)}))}}))}function Ns(e,t,r){var n;if(Ly(),at.has(e))return;at.set(e,[]),t.reverse&&rr.add(e),t.prefix&&gr.set(e,t.prefix),t.suffix&&to.set(e,t.suffix),Op(e,t.pattern,t.partOverrides,t.explicitParts);const o=eo.get(e),s=o?.some(p=>dt(p)),a=o?.some(p=>(function(u){return!!u&&u.type==="group"&&Array.isArray(u.parts)})(p));if(s&&a)throw new Error("Cannot use enums and groups in the same mask.");const i=s?"select":(n=t.mode)!==null&&n!==void 0?n:"shift";if(a&&i==="select")throw new Error("Cannot use groups in select mode.");(t.placeholder||i==="select")&&ts.add(e),gt.set(e,i),t.onChange&&Ir.set(e,t.onChange);let l=!1;e.addEventListener("beforeinput",p=>{if(vn||p.inputType==="insertLineBreak")return;if(p.inputType.startsWith("history"))return(function($,h){$.addEventListener("input",y=>{var m;y.preventDefault(),y.stopImmediatePropagation();const S=at.get($);if(S?.length){const g=((m=lr.get($))!==null&&m!==void 0?m:S.length-1)+(h.endsWith("Undo")?-1:1),_=S[g];if(!_)return;Vp($,_),$.setSelectionRange(..._.selectionAfter),lr.set($,g),Ir.has($)&&Ir.get($)(_,$)}},{once:!0})})(e,p.inputType);p.preventDefault(),l=!0;const u=(c=p.inputType).startsWith("insert")?"insert":!!c.startsWith("delete")&&(c==="deleteContentForward"?"deleteContentForward":"deleteContentBackward");var c;const f=Ge(e),d=e.value;u&&Hr(e,{type:u,selectionBefore:f,data:p.data,valueBefore:d,suffix:t.suffix,prefix:t.prefix})}),e.addEventListener("input",p=>{l=!1,"data"in p||!l&&r&&(r.input(e.value,!1),r.props._maskValue=e.value)}),i==="select"&&e.addEventListener("keydown",p=>{switch(p.key){case"ArrowRight":return p.preventDefault(),Do(e);case"ArrowLeft":return p.preventDefault(),Do(e,-1);case"ArrowUp":return void(di(e,1)&&p.preventDefault());case"ArrowDown":return void(di(e,-1)&&p.preventDefault());case"Tab":return rs?void p.preventDefault():void(Do(e,p.shiftKey?-1:1)&&p.preventDefault())}}),e.addEventListener("focus",()=>(function(p){var u;const c=ts.has(p),f=gt.get(p);if(c){let d=null,$=null,h=!1;const y=f==="shift"?0:1,m=p.value;os(p,{data:m,selectionBefore:[0,0,"none"]},f==="shift"?"":m,(g,_)=>(d===null&&_.type==="char"&&(d=g.pos-y),(it(_)||dt(_))&&g.value.endsWith(_.placeholder)?($=g.pos-y,!1):(_.type==="char"&&(h=!0),!0)));const S=(u=$??(h?m.length:d))!==null&&u!==void 0?u:null;if(S!==null){let g=[S,S,"none"];if(gt.get(p)==="select"){const[_]=Ie(p),C=lt(p,g);C!==void 0&&C in _&&(g=_[C])}return(function(_,C,k=50){Ct.set(_,Er(_,C));const D=async()=>{if(!Rr||Mt()!==_)return;gt.get(_)==="select"&&(await new Promise(L=>setTimeout(L,10)),(function(L){let x=Ge(L);if(x[0]===x[1]&&x[0]===0||L.value.length===x[1]&&x[0]===0)return;x=ns(L,x);const[b]=Ie(L),v=lt(L,x),T=x[0];v!==void 0&&b.some(N=>T>=N[0]&&T<N[1])&&Ct.set(L,Er(L,b[v]))})(_));const w=Ct.get(_);w&&_.setSelectionRange(...w)};D(),document.addEventListener("selectionchange",D),setTimeout(()=>{document.removeEventListener("selectionchange",D),Ct.delete(_)},k)})(p,g)}}})(e)),e.addEventListener("selection",p=>(function(u,c){if(Ct.get(u))return;jp(u),c=ns(u,c);const[f]=Ie(u),d=lt(u,c),$=d!==void 0&&Er(u,f[d]);$&&!Ot(c,$)&&Nn(u,$,!0)})(e,p.detail)),Hr(e,{type:"insert",selectionBefore:[0,0,"forward"],data:e.value,valueBefore:"",suffix:t.suffix,prefix:t.prefix})}function oi(e){var t,r;if(At.has(e))return;const n=(t=at.get(e))!==null&&t!==void 0?t:[],o=n[(r=lr.get(e))!==null&&r!==void 0?r:n.length-1];if(o){const s=o.selectionAfter,[a,i]=Ie(e,o.valueAfter),l=lt(e,s,[a,i]);if(l!==void 0&&l in a){const p=i[l],u=a[l],c=[s[0]-u[0],s[1]-u[0],"none"];At.set(e,[p,c])}}}function si(e){At.delete(e)}function ai(e,t,r){const n=typeof e=="string"||!at.has(e),o=typeof e=="string"?Mp(e):e;if(n)t.prefix&&gr.set(o,t.prefix),t.suffix&&to.set(o,t.suffix),o.value=Bs(o,o.value),Ns(o,t,r);else{const s=Rs(o),a=o.value;o.value="",Hr(o,{type:"insert",selectionBefore:[0,s?s.valueAfter.length:0,"none"],valueBefore:s?s.valueAfter:"",data:a,suffix:t.suffix,prefix:t.prefix})}return o.value}function Mp(e){return{value:e,selectionStart:0,selectionEnd:0,scrollWidth:0,clientWidth:0,addEventListener:()=>{},dispatchEvent:()=>{},setSelectionRange:()=>{}}}function Op(e,t,r,n,o){o=e&&rr.has(e)||o;const s=(n??(function(f){const d=Object.values(Cy);if(!f)return d;const $={...f},h=[];for(const m of d)if(!ur(m)){if("token"in m&&m.token in f){const S={...m,...f[m.token]};ii(S)&&h.push(S),delete $[m.token];continue}h.push(m)}const y=Object.values($);for(const m of y)ii(m)?h.push(m):console.warn(`Invalid ${m.type} token`,m);return h})(r)).sort((f,d)=>{const $="token"in f?f.token.length:-1,h="token"in d?d.token.length:-1;return $===h?0:$>h?-1:1});let a=[];[t,a]=(function(f,d,$,h){let y,m=0,S="",g="",_="";const C=[];for(;S=Se(f);)S===d&&y!==h?(m++,m>1&&(_+=S)):S===$&&m&&y!==h?(m--,m===0?(g+=`{$${C.length}}`,C.push(_),_=""):_+=S):m?_+=S:y!==h||S!==d&&S!==$?g+=S:g=`${g.substring(0,g.length-1)}${S}`,y=S,f=f.substring(S.length);return[g,C]})(t,"{","}","\\");const i=a.length;t=s.reduce((f,d,$)=>"token"in d?f.replaceAll(`\\${d.token}`,"{“!”}").replaceAll(d.token,`{$${i+$}}`).replaceAll("{“!”}",d.token):f,t);const l=(function(f,d,$){return f.reduce((h,y)=>{const[m,S]=(function(C){const[k,...D]=C.split("|"),w=D.reduce((L,x)=>{const[b,v=!0]=x.split(":");return Object.assign(L,{[b]:v})},{});return[k,w]})(y);let g=Op(null,m,void 0,d,$);g=g.map(C=>{const k={...C};if(k.type==="char"&&S.placeholder)k.placeholder=S.placeholder;else if(k.type==="enum")throw new Error("Groups cannot contain enums.");return k});const _={type:"group",parts:g,...S};return h.push(_),h},[])})(a,s,o).concat(s),p=/\{\$\d+\}/g,u=t.match(p),c=t.split(p).reduce((f,d,$)=>{if(d&&(d=d.replaceAll("\\",""),f.push({type:"literal",value:o?[...d].reverse().join(""):d})),u&&u[$]){const h=u[$],y=Number(h.substring(2,h.length-1));!isNaN(y)&&l[y]&&f.push(l[y])}return f},[]);return o&&c.reverse(),e&&eo.set(e,c),c}function ii(e){return!!e&&(ur(e)||it(e)||dt(e))}function it(e){return!!e&&e.type==="char"&&e.pattern instanceof RegExp&&Pp(e)}function dt(e){return!!e&&e.type==="enum"&&Array.isArray(e.values)&&Pp(e)}function Pp(e){return!!e&&"placeholder"in e&&"token"in e}function ur(e){return!!e&&e.type==="literal"&&typeof e.value=="string"}function Ot(e,t){return e===t||e!==void 0&&t!==void 0&&e[0]===t[0]&&e[1]===t[1]}function Ge(e){var t,r;return[(t=e.selectionStart)!==null&&t!==void 0?t:e.value.length,(r=e.selectionEnd)!==null&&r!==void 0?r:e.value.length,"none"]}function Hr(e,t){var r;rr.has(e)&&fi(t);let n=!1;switch(gn.set(e,"playing"),t.type){case"insert":n=(function(o,s){let a=li(s);const i=s.selectionBefore,l=(function(u,c){var f,d,$;if(gt.get(u)==="select"){const[h,y]=Ie(u),m=h.findIndex(g=>Ot(g,c.selectionBefore)),S=(f=y[m])!==null&&f!==void 0?f:null;if(it(S)){const g=c.selectionBefore,_=g[1]-g[0],C=c.valueBefore.substring(g[0],g[1]),k=S.selectDirection==="left",D=Np(C,S),w=k?0:(function(x,b,v){if(!x)return 0;let T="";for(;x.length;){const N=Se(x);x=x.substring(N.length),b.pattern.test(N)&&(T+=N)}return Math.min(Math.max(T.length,1),v)})(c.data,S,_);if(D.length>=_)return k||(c.insertPos=g[1]-w),((d=S.selectFill)!==null&&d!==void 0?d:S.placeholder).repeat(_);const L=(($=S.selectFill)!==null&&$!==void 0?$:S.placeholder).repeat(_-D.length-(k?0:w));return c.insertPos=k?g[0]+D.length:g[1]-w,S.selectDirection==="left"?`${D}${L}`:`${L}${D}${S.placeholder}`}if(dt(S)){const g=c.selectionBefore;return c.valueBefore.substring(g[0],g[1])}}return""})(o,s);a=`${a.substring(0,i[0])}${l}${a.substring(i[1])}`;const p=os(o,s,a);return Dy.set(o,p.endPos),{...s,valueAfter:p.value,selectionAfter:Iy(o,p),unmasked:p.unmasked,complete:p.complete,meta:p.meta}})(e,t);break;case"deleteContentBackward":case"deleteContentForward":n=(function(o,s){const a=li(s),i=s.selectionBefore,l=rr.has(o);let p=i[0],u=i[1];p===u&&(s.type!=="deleteContentBackward"||l?u+=$n(a,p):p-=$n(a,p,"backward"));const c=gt.get(o);let f="";if(c==="select"){const[h,y]=Ie(o),m=lt(o,[p,u,"none"]);if(m!==void 0){const S=y[m],g=h[m];it(S)?f=S.placeholder.repeat(u-p):dt(S)&&([f,p]=Ot(g,Ge(o))?[S.placeholder,p]:(function(_,C,k,D){const w=D.valueBefore,L=$n(w,D.selectionBefore[0],"backward"),x=Math.max(k[0],D.selectionBefore[0]-L),b=w.substring(k[0],x),v=Gr(C.values,b);let T=v?.substring(b.length);return v&&!T&&Rp(C.values,v)&&(T=v),[T??C.placeholder,T?x:k[0]]})(0,S,g,s))}}const d=`${a.substring(0,p)}${f}${a.substring(u)}`,$=os(o,s,d);return{...s,valueAfter:$.value,selectionAfter:Py(o,$,s,p),unmasked:$.unmasked,complete:$.complete,meta:$.meta}})(e,t)}if(rr.has(e)&&n&&fi(n),n&&(function(o,s){s.prefix&&(s.valueAfter=s.prefix+s.valueAfter,s.selectionAfter=Er(o,s.selectionAfter)),s.suffix&&(s.valueAfter+=s.suffix)})(e,n),n&&(function(o){return o.valueBefore!==o.valueAfter||o.selectionBefore[0]!==o.selectionAfter[0]||o.selectionBefore[1]!==o.selectionAfter[1]})(n)){Ir.has(e)&&So.set(e,()=>{So.delete(e),n&&Ir.get(e)(n,e)}),gn.set(e,"beforeCallback");let o=(r=at.get(e))!==null&&r!==void 0?r:[];const s=lr.get(e);s&&(o=o.slice(0,s),lr.delete(e)),o.push(n),at.set(e,o),Rr&&Mt()===e&&typeof document.execCommand=="function"&&!vn?(Nn(e,[0,e.value.length,"forward"],!0),vn=!0,document.execCommand("insertText",void 0,n.valueAfter),vn=!1):Vp(e,n),Rr&&Mt()===e&&Nn(e,n.selectionAfter);const a=So.get(e);a&&a(),jp(e)}gn.set(e,"complete")}function Bs(e,t){var r,n;const o=(r=gr.get(e))!==null&&r!==void 0?r:"",s=(n=to.get(e))!==null&&n!==void 0?n:"";return o&&t.startsWith(o)&&(t=t.substring(o.length)),s&&t.endsWith(s)&&(t=t.substring(0,t.length-s.length)),t}function Er(e,t){const r=gr.get(e),n=[...t];return r&&(n[0]+=r.length,n[1]+=r.length),n}function ns(e,t){const r=gr.get(e),n=[...t];return r&&(n[0]-=r.length,n[1]-=r.length),n}function li(e){let t=e.valueBefore;const r=e.selectionBefore;if(e.suffix&&t.endsWith(e.suffix)&&(t=t.substring(0,t.length-e.suffix.length),e.valueBefore=t,r[0]>=t.length&&(r[0]=t.length),r[1]>=t.length&&(r[1]=t.length)),e.prefix&&t.startsWith(e.prefix)){const n=e.prefix.length;t=t.substring(n),e.valueBefore=t,r[0]=Math.max(r[0]-n,0),r[1]=Math.max(r[1]-n,0)}return t}function Nn(e,t,r=!1){r&&(pr.add(e),setTimeout(()=>pr.delete(e),5)),Ct.get(e)&&Ct.set(e,t),e.setSelectionRange(...t)}function Vp(e,t,r="After"){if(e.value=t[`value${r}`],Rr){const n=new InputEvent("input",{inputType:t.type==="insert"?"insertText":t.type,data:t.data});e.dispatchEvent(n)}}function Se(e){if(e==null)return"";const t=Fn.test(e.charAt(0))&&Fn.test(e.charAt(1))?2:1;return e.substring(0,t)}function $n(e,t,r="forward"){if(r==="backward")return t===0?0:t===1?1:Fn.test(e.charAt(t))&&Fn.test(e.charAt(t-1))?2:1;const n=e.length-t;return n===0?0:n===1?1:Se(e.substring(t)).length}function Fp(e,t){const r=Se(e.data),n=r.length;if(e.value+=r,e.pos+=n,typeof e.data=="string"&&(e.data=e.data.substring(n),e.data.length||(e.endPos=e.pos)),t)return t.substring(n)}function pi(e){const t=Se(e.buffer),r=t.length;e.value+=t,e.pos+=r,e.buffer=e.buffer.substring(r)}function Ay(e,t){const r=Se(t),n=r.length;return e.value+=r,e.pos+=n,t.substring(n)}function Ty(e,t){for(;t.buffer;){const r=Se(t.buffer);if(e.pattern.test(r)||t.placeholder&&e.placeholder===r)return void(t.mode!=="replace"&&t.mode!=="select"||(t.buffer=t.buffer.substring(r.length)));t.buffer=t.buffer.substring(r.length)}}function ui(e,t){const r=e.values.concat([e.placeholder]).map(n=>n.toLowerCase()).sort((n,o)=>n.length>o.length?-1:1);for(;t.buffer;){const n=t.buffer.toLowerCase(),o=r.find(s=>n.startsWith(s));if(o){const s=t.buffer.substring(0,o.length);return t.buffer=t.buffer.substring(o.length),s}t.buffer=t.buffer.substring($n(t.buffer,0))}return null}function Np(e,t){let r=e.replaceAll(t.placeholder,"");const n=t.selectDirection==="left";if(t.selectFill){const s=new RegExp(`${n?"":"^"}${o=t.selectFill,o.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}+${n?"$":""}`);r=r.replace(s,"")}var o;return r}function Iy(e,t){let r=[t.endPos,t.endPos,"forward"];if(t.mode!=="select")return r;const n=Ge(e);r=[n[0],t.endPos,"none"];const[o,s]=Ie(e,t.value),a=lt(e,r,[o,s]);if(a===void 0||!(a in o)||!(a in s))return r;const i=o[a],l=s[a],p=t.value.slice(i[0],i[1]);if(it(l)&&Np(p,l).length===p.length&&a<o.length-1)return ti(),o[a+1];if(dt(l)&&t.insertPos>=i[0]&&t.insertPos<=i[1]){if(t.cycle)return i;const u=(function(f,d,$){if(f.originalData===null)return 0;const h=f.insertPos>=d?f.value.substring(d,f.insertPos):"",y=`${h}${f.originalData}`,m=Gr($.values,y);return m?Bp(y,m).length-h.length:0})(t,i[0],l);if(t.insertPos+u===i[1])return Rp(l.values,p)?[i[1],i[1],"forward"]:(ti(),o[a+1]?o[a+1]:o[a]);const c=[t.insertPos+u,i[1],"none"];return Ot(c,n)||(pr.add(e),setTimeout(()=>pr.delete(e),5)),c}return i}function os(e,t,r,n){var o,s;const a=(o=eo.get(e))!==null&&o!==void 0?o:[],i={pos:0,insertPos:(s=t.insertPos)!==null&&s!==void 0?s:t.selectionBefore[0],range:t.selectionBefore,chars:0,placeholder:ts.has(e),buffer:r,data:t.data,originalData:t.data,value:"",mode:gt.get(e)||"replace",endPos:t.selectionBefore[0],rangeParts:Ie(e),unmasked:"",complete:!0,cycle:t.cycle,meta:[]};return ss(a,i,void 0,n),i}function ss(e,t,r,n){var o,s;const a={...t};r?.placeholder&&(t.placeholder=!0);const i=r?.repeat&&((o=r.nextPart)===null||o===void 0?void 0:o.type)==="literal"?r.nextPart.value:null;let l=0;const p=e.reduce((c,f)=>c+(f.type==="char"?1:0),0),u=t.chars;for(const c of e){const f=e[l+1];switch(c.type){case"literal":My(c,t,e.at(-1)===c);break;case"char":Oy(c,t,i);break;case"enum":Ey(c,t);break;case"group":const $={repeat:(s=c.repeat)!==null&&s!==void 0&&s,nextPart:f,repeats:0,placeholder:!!c.placeholder};ss(c.parts,t,$,n)}if(n&&n(t,c)===!1)break;const d=ur(f)&&l+2===e.length&&u!==t.chars;if(!(t.buffer||t.data||t.placeholder||d))break;l++}if(t.chars<p&&(t.complete=!1),r){const c=t.chars-u,f=c===p,d=!(!t.data||i&&t.data.startsWith(i)&&t.insertPos<=t.pos),$=!(t.buffer&&i&&t.buffer.startsWith(i)&&t.insertPos>=t.pos+i.length)&&(t.buffer||d);if(r.repeat&&$&&f)return r.repeats++,ss(e,t,r,n);if(!f){t.complete=!1;const h=e.reverse().find(y=>y.type==="literal");e.reverse(),ur(h)&&t.value.endsWith(h.value)&&(t.value=t.value.substring(0,t.value.length-h.value.length),t.pos=t.value.length)}p>1&&c<p&&c!==0&&t.insertPos<=t.pos?t.data="":r.repeat&&!f&&r.repeats&&Object.assign(t,a)}t.placeholder=a.placeholder}function Ey(e,t){const[r,n]=t.rangeParts,o=r[n.indexOf(e)];if(o&&(t.insertPos<=t.pos||t.insertPos>=o[0]&&t.insertPos<=o[1])&&t.data){const s=t.buffer.substring(0,t.insertPos-t.pos),a=`${s}${t.data}`,i=Gr(e.values.concat([e.placeholder]),a);if(i){const l=Bp(a,i);return t.data=t.data.substring(l.length),t.value+=i,i!==e.placeholder?t.unmasked+=i:t.complete=!1,t.meta.push({type:i!==e.placeholder?"enum":"placeholder",value:i}),s?t.buffer=t.buffer.substring(s.length):ui(e,t),t.endPos=t.pos+l.length,void(t.pos=t.value.length)}t.data=""}if(t.buffer){const s=ui(e,t);if(s)return t.value+=s,s!==e.placeholder?t.unmasked+=s:t.complete=!1,t.meta.push({type:s!==e.placeholder?"enum":"placeholder",value:s}),void(t.pos=t.value.length)}t.complete=!1,t.value+=e.placeholder,t.meta.push({type:"placeholder",value:e.placeholder}),t.pos=t.value.length}function My(e,t,r){let n=e.value;if(t.data===""&&!t.buffer&&!t.placeholder&&!r)return;let o=!1;for(;n;){const s=t.insertPos<=t.pos?Se(t.data):"",a=Se(n);if(s===a)n=Fp(t,n),t.meta.push({type:"literal",value:a}),o=!0;else if(!o||t.data||t.data===null||t.placeholder||r)n=Ay(t,n),t.meta.push({type:"literal",value:a});else if(o&&!t.data)break;t.buffer.startsWith(a)&&(t.buffer=t.buffer.substring(a.length))}t.data===null&&!t.buffer&&t.insertPos<=t.pos&&!t.placeholder&&(t.value=t.value.substring(0,t.value.length-e.value.length),t.pos=t.endPos=t.value.length)}function Oy(e,t,r){var n;let o=!0;if(t.insertPos<=t.pos)for(;!((n=t.data)===null||n===void 0)&&n.length;){const s=Se(t.data);if(e.pattern.test(s))return Fp(t),t.meta.push({type:"char",value:s}),t.chars++,t.unmasked+=s,void Ty(e,t);if(typeof t.data=="string"){if(r&&t.data.startsWith(r)){o=!1;break}t.data=t.data.substring(s.length)}}for(;o&&t.buffer;){const s=Se(t.buffer);if(e.pattern.test(s))return t.chars++,t.unmasked+=s,pi(t),void t.meta.push({type:"char",value:s});if(t.placeholder&&s===e.placeholder)return pi(t),void t.meta.push({type:"placeholder",value:s});if(typeof t.buffer=="string"){if(r&&t.buffer.startsWith(r)){t.buffer=t.buffer.substring(r.length);break}t.buffer=t.buffer.substring(s.length)}}t.placeholder?(t.value+=e.placeholder,t.meta.push({type:"placeholder",value:e.placeholder})):t.endPos=t.pos}function Py(e,t,r,n){const o=[n,n,"none"];if(t.mode==="select"){const s=Ie(e),a=lt(e,o,s),[i,l]=Ie(e,t.value),p=a!==void 0&&ci(r.valueBefore,s[0][a],s[1][a]);if(a!==void 0&&a in i)return p?i.slice(a).every((c,f)=>ci(t.value,c,l[a+f]))&&i[a-1]?i[a-1]:i[a]:[n,i[a][1],"none"]}return o}function ci(e,t,r){if(ur(r))return!1;if(it(r)){let n=t[0];for(;n<t[1];){const o=Se(e.substring(n));if(o!==r.placeholder)return!1;n+=o.length}}return!dt(r)||e.substring(t[0],t[1])===r.placeholder}function Bp(e,t){let r="";do{const n=Se(e).toLowerCase(),o=Se(t).toLowerCase();if(n!==o)break;r+=n,e=e.substring(n.length),t=t.substring(o.length)}while(e.length&&t.length);return r}function Ie(e,t){const r=eo.get(e);if(!r)return[[],[]];if(_o.has(e))return _o.get(e);const n=t??Bs(e,e.value),o=[],s=[];let a=null,i=null,l=0,p=!0;for(const c of r)if(ur(c))a=c,i!==null&&(o.push([i,l,"none"]),i=null),l+=c.value.length;else{if(it(a)&&it(c)&&c.token===a.token)l++;else if(it(c))i===null?(i=l,s.push(c)):(o.push([i,l,"none"]),i=l,s.push(c)),l++;else if(dt(c)){i&&o.push([i,l,"none"]),Hp(c)||(p=!1);const f=Vy(n,c,l);i=null,o.push([l,l+f,"none"]),s.push(c),l+=f}a=c}i!==null&&o.push([i,l,"none"]);const u=[[...o],[...s]];return p&&!t&&_o.set(e,u),u}function Vy(e,t,r){if(Hp(t))return t.values[0].length;const n=e.slice(r),o=Gr(t.values.concat([t.placeholder]),n);return o?o.length:0}function Gr(e,t,r=null,n){var o;if(t.length===0)return r;if(!n){const p=e.find(u=>u.toLowerCase()===t.toLowerCase());if(p)return p}const s=Se(t.toLowerCase()),a=`${n??""}${s}`,i=e.filter(p=>p.toLowerCase().startsWith(a)),l=i.find(p=>p.toLowerCase()===a);return l&&(r=l),i.length===0?r:i.length===1?i[0]:(i.length>1&&(r=i[0]),(o=Gr(i,t.substring(s.length),r,a))!==null&&o!==void 0?o:i[0])}function Rp(e,t){return t=t.toLowerCase(),e.some(r=>(r=r.toLowerCase()).startsWith(t.toLocaleLowerCase())&&r!==t)}function Hp(e){if(!ko.has(e)&&Array.isArray(e.values)&&e.values.length>0){const t=e.values[0].length;if(e.placeholder.length!==t)return!1;ko.set(e,e.values.every(r=>r.length===t))}return ko.get(e)}function Do(e,t=1){const[r]=Ie(e),n=lt(e,ns(e,Ge(e)));return n!==void 0&&r[n+t]!==void 0&&(e.setSelectionRange(...Er(e,r[n+t])),!0)}function di(e,t=1){const[r,n]=Ie(e),o=lt(e,Ge(e));if(o!==void 0&&o in n){const s=n[o];if(dt(s)){const a=r[o],i=e.value.slice(a[0],a[1]);let l=null,p=s.values.indexOf(i);const u=s.values.length-1;if(p!==-1){const c=p+t;p=c<0?u:c>u?0:c,l=s.values[p]}else i===s.placeholder&&(l=t>0?s.values[0]:s.values[u]);if(l!==null){const c={selectionBefore:a,insertPos:a[0],type:"insert",data:l,valueBefore:e.value,cycle:!0};return setTimeout(()=>Hr(e,c),0),!0}}}return!1}function Wp(e,t){if(!e.length)return-1;if(e.length===1)return e[0];const r=e.length/2,n=Number.isInteger(r)?r:Math.floor(r),o=Math.abs(t-e[n-1])<Math.abs(t-e[n])?[0,n]:[n];return Wp(e.slice(...o),t)}function lt(e,t,r){const[n]=r??Ie(e),o=n.findIndex(l=>l[0]!==l[1]&&(!!Ot(l,t)||t[1]>l[0]&&t[1]<l[1]));if(o!==-1)return o;const[s,a]=n.reduce((l,p,u)=>(l[0].add(p[0]),l[0].add(p[1]),l[1][p[0]]=u,l[1][p[1]]=u,l),[new Set,{}]),i=Wp([...s],t[0]===0&&t[1]===e.value.length?0:t[1]);return i in a?a[i]:void 0}function Rs(e){var t,r;const n=(t=at.get(e))!==null&&t!==void 0?t:[];return n[(r=lr.get(e))!==null&&r!==void 0?r:n.length-1]}function Kp(e,t=!1){const r=Rs(e);return r&&(r.complete||t)?rr.has(e)?[...r.unmasked].reverse().join(""):r.unmasked:t?"":null}function as(e){var t;const r=Rs(e);return(t=r?.meta)!==null&&t!==void 0?t:null}function fi(e){const t=n=>[...n].reverse().join(""),r=(n,o)=>[o-n[1],o-n[0],n[2]];e.data&&(e.data=t(e.data)),e.valueBefore=t(e.valueBefore),"valueAfter"in e&&(e.valueAfter=t(e.valueAfter)),"selectionAfter"in e&&(e.selectionAfter=r(e.selectionBefore,e.valueAfter.length)),e.selectionBefore=r(e.selectionBefore,e.valueBefore.length)}function jp(e){if(e.scrollWidth>e.clientWidth&&e.selectionStart!==null&&e.selectionEnd!==null){const t=e.selectionStart/e.value.length,r=e.selectionEnd/e.value.length;e.scrollLeft=r>.9?e.scrollWidth:t*e.scrollWidth-20,e.dispatchEvent(new CustomEvent("input-scroll",{bubbles:!1,detail:e.scrollLeft}))}}const mi=typeof window<"u",is=new WeakSet,Co=new WeakSet,hi=new WeakSet,Bn=new WeakMap,Yp=new WeakMap,Lo=new WeakSet,ls=new WeakSet;function Zp(e){e.props.selectedMonth=e.props.selectedYear=e.props.selectedDay=e.props.selectedWeek=void 0}function Up(e){var t,r,n;e.props.selectedMonth=e.props.months.findIndex(o=>zp(o,e.props.activeDate)),e.props.selectedYear=e.props.years.findIndex(o=>qp(o,e.props.activeDate));for(let o=0;o<((t=e.props.calendar[0])===null||t===void 0?void 0:t.weeks.length);o++)for(let s=0;s<((r=e.props.calendar[0])===null||r===void 0?void 0:r.weeks[o].length);s++){const a=(n=e.props.calendar[0])===null||n===void 0?void 0:n.weeks[o][s];if(lp(a,e.props.activeDate)){e.props.selectedWeek=o,e.props.selectedDay=s;break}}}function Mr(e){return e.partName!=="timeZoneName"}function qp(e,t){return t instanceof Date&&e.getFullYear()===t.getFullYear()}function zp(e,t){return t instanceof Date&&e.getMonth()===t.getMonth()}function Ao(e){e.props.skipBuildCalendar||Zp(e),e.props.selectedIndex=e.props.calendar=vt(e.props.showMonths,t=>t).map(t=>(function(r,n){const o=[],s=ce(n);s.setDate(1);let a=pp(s,r.props.weekStart);a.setHours(s.getHours(),s.getMinutes(),s.getSeconds());const i=$g(In(n),r.props.weekStart);let l=[];do l.push(a),l.length===7&&(o.push(l),l=[]),a=tr(a);while(a.getTime()<=i.getTime());return{monthDay:s,weeks:o}})(e,ht(e.props.renderedDate,t))),e.props.years=(function(t){const r=Number(Pe(t.props.renderedDate,"YYYY")),n=r-r%10;return t.props.decade=`${n} - ${n+9}`,vt(10,o=>Zt(t.props.renderedDate,n+o-r))})(e),e.props.months=(function(t){const r=ce(t.props.renderedDate);return r.setMonth(0),vt(12,n=>ht(r,n))})(e),e.props.skipBuildCalendar?e.props.skipBuildCalendar=!1:e.value&&Up(e)}function Fy(e,t){var r;t.target&&t.target instanceof Element&&(t.target.closest(`#${e.props.id}_popover`)||!(!((r=e.props.__root)===null||r===void 0)&&r.contains(t.target)))||(e.props.expanded=!1)}function St(e,t){if(!t)return e.props.inputText="",new Date;const r=t instanceof Date?t:Dt(t,e.props.valueFormat,e.props.valueLocale);return e.props.inputText=e.props.formatDate(r,e.props.format,e.props.locale,!1,Mr),r}function gi(e){return Array.isArray(e.props.sequence)?bt(e.props.sequence):["day"]}function _r(e,t,r=!0){var n,o;if(e._value===t)return;if(t==null)return e.input(t,r);e.props.offset=e.props.timezone?Nr(t,e.props.timezone):"+0000";const s=sp(t,(n=(o=e.props).offset)!==null&&n!==void 0?n:o.offset="+0000");e.input(Pe(s,e.props.valueFormat,e.props.valueLocale,!1),r)}function To(e,t){var r;const n=["prev_button","month_button","day_button","year_button","next_button"].find(s=>{var a;return(a=e.props.__root)===null||a===void 0?void 0:a.getElementById(`${e.props.id}_${s}`)}),o=(r=e.props.__root)===null||r===void 0?void 0:r.getElementById(`${e.props.id}_${n}`);o instanceof HTMLElement&&(t.preventDefault(),o.focus())}function Ny(e,t){let r="";if(!(t instanceof HTMLInputElement)||e.props.pickerOnly)return;Bn.set(e,t);const n=i=>{e.props.expanded&&i.target instanceof HTMLElement&&i.target.closest(`#${e.props.id}_popover`)?ls.add(e):ls.delete(e)},o=e.props.__root;o&&(o.addEventListener("click",n),mr(e,()=>o.removeEventListener("click",n))),e.on("prop:inputText",({payload:i})=>{i!==t.value&&(gn.get(t)==="beforeCallback"&&(r=t.value),oi(t),t.selectionStart=0,t.selectionEnd=t.value.length,(function(l,p){var u,c;if(!at.has(l))return;const f=(u=gr.get(l))!==null&&u!==void 0?u:"",d=(c=to.get(l))!==null&&c!==void 0?c:"";Hr(l,{type:"insert",selectionBefore:Ge(l),data:p,valueBefore:l.value,suffix:d,prefix:f})})(t,i),t.value=i,setTimeout(()=>si(t),10))});const[s,a]=By(e);Ns(t,{pattern:s,explicitParts:a,onChange:({valueAfter:i})=>{if(Gp(e),is.has(e))return is.delete(e);r&&r===i?r="":(oi(t),e.props.inputText=i,setTimeout(()=>si(t),10))}},e)}function Gp(e){var t,r;if(e.props.overlay){const n=Bn.get(e);!n||!(!((t=e.props.attrs)===null||t===void 0)&&t.placeholder)||e._value||Kp(n,!0)||e.props._isFocused||e.props.activeDate&&e.props.expanded?n&&(e.props._isPlaceholder=!1,e.props._overlayParts=Mn(as(n))):(e.props._isPlaceholder=!0,e.props._overlayParts=[{type:"placeholder",value:(r=e.props.attrs)===null||r===void 0?void 0:r.placeholder}])}}function By(e){const t=e.props.locale,r=["full","long","medium","short"].includes(e.props.format)||typeof e.props.format=="object",n=ar(e.props.format,t);return[Is(e.props.format,t,!0,Mr),n.reduce((o,s)=>{if(s.partName==="literal")return o;let a=Gn(s.token,t,r);if(s.token==="YYYY"&&e.props.minDate&&e.props.maxDate){const l=e.props.minDate.getFullYear();a=vt(e.props.maxDate.getFullYear()-l+1,p=>String(l+p))}const i={type:"enum",token:s.token,values:a,placeholder:s.token==="A"?"A/P":s.token,selectDirection:"left"};return o.push(i),s.token.startsWith("D")&&Yp.set(e,a),o},[])]}function Ry(e,t){return!t||!(!e.props.minDate||!yg(t,e.props.minDate))||!(!e.props.maxDate||!bg(t,e.props.maxDate))||void 0}function Hy(e){return typeof e.props.validationLabel=="function"?e.props.validationLabel(e):e.props.validationLabel||e.props.label||e.props.name||String(e.name)}const Wy=typeof window<"u",vi=new WeakMap;function Ky(e,t){var r,n;if(t instanceof HTMLInputElement&&!vi.get(e)&&Wy){const o=(r=e.props.__root)===null||r===void 0?void 0:r.getElementById(`${e.props.id}_overlay`),s=(n=e.props.__root)===null||n===void 0?void 0:n.getElementById(`${e.props.id}_overlay_inner`);if(o&&t&&s){vi.set(e,o);const a=getComputedStyle(t).color;t.style.color="transparent",t.style.caretColor=a;const i=new ResizeObserver(()=>{var p;const u=getComputedStyle(t),c=t.getBoundingClientRect(),f=(p=t.parentElement)===null||p===void 0?void 0:p.getBoundingClientRect();e.props._overlayStyles={...e.props._overlayStyles,width:u.width,height:u.height,boxSizing:u.boxSizing,padding:u.padding,margin:u.margin,fontSize:u.fontSize,lineHeight:u.lineHeight,top:c.top-(f?.top||c.top)+"px",left:c.left-(f?.left||c.left)+"px"}});i.observe(t);const l=p=>{s.scrollLeft=p.detail};t.addEventListener("input-scroll",l),e.on("destroyed",()=>{t.removeEventListener("input-scroll",l),i.disconnect()})}}}function Xp(e){e.addProps(["_overlayStyles","_overlayParts","_overlayInnerStyles","_isPlaceholder"]),e.props._overlayParts=[],e.props._overlayStyles={position:"absolute",top:"0",left:"0",pointerEvents:e.props._isPlaceholder?"auto":"none"},e.props._overlayInnerStyles={overflow:"hidden",whiteSpace:"nowrap",paddingRight:"20px"},e.on("created",()=>{e.props.overlay=W(e.props.overlay),e.props.pickerOnly=W(e.props.pickerOnly),e.props.overlay=e.props.pickerOnly?void 0:e.props.overlay,e.props.overlay&&me(`${e.props.id}`,Ky.bind(null,e),e.props.__root)}),e.on("prop:_isPlaceholder",()=>{e.props._overlayStyles={...e.props._overlayStyles,pointerEvents:e.props._isPlaceholder?"auto":"none"}})}const jy={schema:O0(P0(F0("$label"),V0(kt("prefix"),N0(),wy(ky(_y($y("$part.value"),yy("$part.value"),by("$part.value"),xy("$part.value")))),K0(),j0(ly(U0(q0("$ui.prev.value"),kt("prev")),py("$decade"),uy(wo()),cy(ei(),wo()),dy(ei(),fy(),wo()),Y0(Z0("$ui.next.value"),kt("next")),vy(kt("close"))),Sy(oy(sy("$fns.format($year, $yearFormat)")),ay(iy("$fns.format($month, $monthFormat)")),z0(X0(J0(Q0("$fns.format($day, $weekdayFormat)"))),G0(ey(ty(ry("$fns.format($day, $dateFormat)"))))),hy(gy()))),my(kt("clear")),ny(kt("calendar")),B0(),kt("suffix"))),R0("$help"),H0(W0("$message.value"))),type:"input",family:"text",props:["dateFormat","dayButtonFormat","format","monthButtonFormat","monthFormat","overlay","pickerOnly","showMonths","showPagination","weekStart","weekdayFormat","yearFormat","years"],features:[Xp,function(e){var t,r,n,o,s,a,i,l,p,u,c,f,d,$,h,y,m,S,g,_,C,k;e.addProps(["_isDisabled","_isFocused","activeDate","calendar","clearable","disabled","decade","disabledDays","expanded","inputText","localTime","maxDate","maxScan","minDate","months","offset","paginatedPanels","panel","pickerOnly","renderedDate","sequence","timezone","valueFormat","valueLocale","showPanelClose","selectedDay","selectedWeek","selectedMonth","selectedYear"]),e.hook.prop((w,L)=>(w.prop==="expanded"&&e.props.disabled&&(w.value=!1),w.prop==="weekStart"&&(w.value=Number(w.value||0)),w.prop==="showMonths"&&(w.value=Number(w.value||1)),w.prop==="maxScan"&&(w.value=Number(w.value||7)),w.prop==="timezone"&&(typeof e._value=="string"||e._value instanceof Date)&&(e.props.offset=Nr(e._value,w.value)),L(w))),e.props._isFocused=!1,e.props._isPlaceholder=!1,(t=(f=e.props).valueFormat)!==null&&t!==void 0||(f.valueFormat="ISO8601"),(r=(d=e.props).weekdayFormat)!==null&&r!==void 0||(d.weekdayFormat="d"),(n=($=e.props).monthFormat)!==null&&n!==void 0||($.monthFormat="MMM"),(o=(h=e.props).monthButtonFormat)!==null&&o!==void 0||(h.monthButtonFormat="MMMM"),(s=(y=e.props).dayButtonFormat)!==null&&s!==void 0||(y.dayButtonFormat="D"),(a=(m=e.props).dateFormat)!==null&&a!==void 0||(m.dateFormat="D"),(i=(S=e.props).yearFormat)!==null&&i!==void 0||(S.yearFormat="YYYY"),(l=(g=e.props).paginatedPanels)!==null&&l!==void 0||(g.paginatedPanels=["day","year"]),(p=(_=e.props).valueLocale)!==null&&p!==void 0||(_.valueLocale=e.props.locale),(u=(C=e.props).format)!==null&&u!==void 0||(C.format="long"),e.props.panels=gi(e),e.props.pickerOnly=W(e.props.pickerOnly),"disabled"in e.props&&(e.props.disabled=W(e.props.disabled)),"clearable"in e.props&&(e.props.clearable=W(e.props.clearable)),(c=(k=e.props).maxScan)!==null&&c!==void 0||(k.maxScan=7),e.props._isDisabled=typeof e.props.disabledDays=="function"?e.props.disabledDays.bind(null,e):Ry.bind(null,e),e.props.calendar=[],e.props.inputText="",e.props.showMonths=e.props.showMonths||1,typeof e.props.format=="function"?(e.props.formatDate=e.props.format,e.props.format=null):e.props.formatDate=Pe,Ao(e),e.on("mounted",()=>{me(`${e.props.id}`,Ny.bind(null,e),e.props.__root)}),e.on("created",()=>{if((function(w){const L=w._value;let x=new Date;if(L instanceof Date)x=ce(L);else if(typeof L=="string")try{const v=Dt(L,w.props.valueFormat,w.props.valueLocale);x=ce(v)}catch{console.warn(`Date (${L}) does not match format (${Is(w.props.valueFormat,w.props.valueLocale)})`),x=void 0}else L||(x=void 0);if(w.props.offset=w.props.timezone?Nr(x||new Date,w.props.timezone):"+0000",w.props.minDate){const v=typeof w.props.minDate=="string"?Dt(w.props.minDate):w.props.minDate;w.props.minDate=Ut(v,w.props.offset)}if(w.props.maxDate){const v=typeof w.props.maxDate=="string"?Dt(w.props.maxDate):w.props.maxDate;w.props.maxDate=Ut(v,w.props.offset)}x=x&&Ut(x,w.props.offset),x&&_r(w,x,!1);let b=x||new Date;w.props.minDate&&b<w.props.minDate?b=w.props.minDate:w.props.maxDate&&b>w.props.maxDate&&(b=w.props.maxDate),w.props.renderedDate=b,w.props.activeDate=b,w.props.localTime=x&&Pe(x,"HH:mm")||"12:00"})(e),e.context){const w={};let L;e.context.fns.format=(x,b)=>{if(w[b]&&w[b][x.toString()])return w[b][x.toString()];const v=Pe(x,b,e.props.locale||"en",!1,Mr);return w[b]?w[b][x.toString()]=v:w[b]={[x.toString()]:v},v},e.context.fns.isDisabled=e.props._isDisabled,e.context.fns.isDisabledMonth=x=>!$r(x,b=>!e.props._isDisabled(b),"month"),e.context.fns.isDisabledYear=x=>!$r(x,b=>!e.props._isDisabled(b),"year"),e.context.handlers._blur=x=>{var b,v;e.props._isFocused=!1,typeof((b=e.context)===null||b===void 0?void 0:b.handlers.blur)=="function"&&((v=e.context)===null||v===void 0||v.handlers.blur(x))},e.context.handlers.closePanel=()=>{e.props.expanded=!1},e.context.handlers._blurOut=x=>b=>{var v;b.preventDefault(),e.props.keydown?e.props.keydown=!1:x&&x!==e.props.panel||e.props.pickerOnly&&b.relatedTarget instanceof Element&&(b.relatedTarget===document.getElementById(`${e.props.id}_inner`)||b.relatedTarget.closest(`#${e.props.id}_inner`))||b.relatedTarget&&b.relatedTarget instanceof Element&&(b.relatedTarget.closest(`#${e.props.id}_popover`)||!(!((v=e.props.__root)===null||v===void 0)&&v.contains(b.relatedTarget))||b.relatedTarget.id===`${e.props.id}_popover`)||(e.props.expanded=!1)},e.context.handlers.overlayClick=()=>{const x=Bn.get(e);x&&(x.focus(),e.props._isPlaceholder=!1)},e.context.handlers.focus=()=>{e.props.pickerOnly||(e.props._isFocused=!0,e.props.pickerOnly&&!Co.has(e)&&(hi.add(e),e.props.expanded=!0,setTimeout(()=>hi.delete(e),200)))},e.context.handlers.clear=()=>{var x,b;_r(e,void 0,!0),St(e,void 0);const v=(b=(x=e.props)===null||x===void 0?void 0:x.__root)===null||b===void 0?void 0:b.getElementById(`${e.props.id}`);v instanceof HTMLInputElement&&(v.focus(),setTimeout(()=>{v.setSelectionRange(0,0)},50))},e.context.handlers.dateInput=x=>{var b;if(Lo.has(e))return Lo.delete(e);if(x.target instanceof HTMLInputElement&&!e.props.expanded)try{let v=Dt({date:x.target.value,format:e.props.format,locale:e.props.locale,partFilter:Mr});if((function(T){return ar(T.props.format,T.props.locale).some(N=>N.partName==="weekday")})(e)&&e.props.activeDate instanceof Date&&e.props.activeDate.getTime()===v.getTime()&&!At.get(x.target)&&Pe(v,e.props.format,e.props.locale,!1,Mr)!==x.target.value){const T=Gn("dddd",e.props.locale),N=ar(e.props.format,e.props.locale),q=(b=ip(x.target.value,N).find(U=>U.token==="dddd"))===null||b===void 0?void 0:b.value,Q=Pe(v,"dddd",e.props.locale);if(q&&T.includes(q)&&Q!==q){let U=T.indexOf(q)-T.indexOf(Q);U=U<-1?7+U:U,v=tr(v,U),is.add(e)}}_r(e,v)}catch{_r(e,void 0)}},e.context.handlers.open=()=>{e.props.expanded=!0},e.context.handlers.next=()=>{switch(e.props.panel){case"year":return void(e.props.renderedDate=Zt(e.props.renderedDate,10));case"day":return void(e.props.renderedDate=ht(e.props.renderedDate,1))}},e.context.handlers.prev=()=>{switch(e.props.panel){case"year":return void(e.props.renderedDate=Zt(e.props.renderedDate,-10));case"day":return void(e.props.renderedDate=ht(e.props.renderedDate,-1))}},e.context.handlers.setDate=x=>()=>{e.props.panel!=="month"&&e.props.panel!=="year"||!e.props.activeDate||(x=e.props.activeDate),e.emit("dateSelected",x)},e.context.handlers.localTime=x=>{const b=x.target;if(!b.value)return;const[v,T]=b.value.split(":");e.props.localTime=b.value,e.props.activeDate.setHours(v,T),St(e,e.props.activeDate)},e.context.handlers.keyDown=x=>{switch(e.props.keydown=!0,e.props.panel){case"day":return e.emit("calendarKeydown",x);case"year":return e.emit("yearKeydown",x);case"month":return e.emit("monthKeydown",x);case"time":return e.emit("timeKeydown",x);default:return}},e.context.handlers.inputKeydown=x=>{e.emit("keydown",x)},e.context.handlers.openKeydown=x=>{x.key!=="Enter"&&x.key!=="Space"||(e.props.expanded=!0)},e.context.handlers.mouseEnter=x=>b=>{if(clearTimeout(L),b.target instanceof HTMLElement&&b.target.getAttribute("tabindex")==="-1"&&b.target.getAttribute("data-is-extra")!=="true")if(e.props.panel==="month"||e.props.panel==="year"){const v=$r(x,()=>!0,e.props.panel);v&&(e.props.activeDate=v)}else e.props.activeDate=x},e.context.handlers.mouseLeave=()=>{clearTimeout(L),L=setTimeout(()=>{},100)},e.context.handlers.jumpTo=x=>()=>{e.props.panels.unshift(e.props.panel),e.props.panel=x},e.context.fns.sameDay=x=>(function(b,v){return v instanceof Date&&lp(b,v)})(x,e.props.activeDate),e.context.fns.sameMonth=x=>zp(x,e.props.activeDate),e.context.fns.sameYear=x=>qp(x,e.props.activeDate),e.context.fns.notInMonth=(x,b)=>{const v=dg(b).getTime();return v<Ca(x).getTime()||v>In(x).getTime()||void 0}}});const D=Fy.bind(null,e);mr(e,()=>{document.removeEventListener("click",D)}),e.on("prop:panel",({payload:w})=>{e.props.showPagination=e.props.paginatedPanels.includes(w)}),e.on("dateSelected",({payload:w})=>{var L,x;Array.isArray(e.props.panels)&&e.props.panels.length?e.props.panel=e.props.panels.shift():(e.props.expanded=!1,(x=(L=e.props.__root)===null||L===void 0?void 0:L.getElementById(`${e.props.id}`))===null||x===void 0||x.focus()),w&&e.props._isDisabled(w)||_r(e,w)}),e.on("input",({payload:w})=>{if(w===void 0&&!e.props._isFocused)return void St(e,void 0);const L=new Date,x=w?St(e,Ut(typeof w=="string"?Dt(w,e.props.valueFormat,e.props.valueLocale):w,e.props.offset)):L;e.props.activeDate=!w&&e.props.activeDate?e.props.activeDate:x,e.props.renderedDate=!w&&e.props.renderedDate?e.props.renderedDate:x,e.props.localTime=Pe(x,"HH:mm"),(function(b){const v=Yp.get(b);if(b._value&&v){const T=Ur(b.props.activeDate);if(v.length>T)v.splice(T,v.length-T);else if(v.length<T)for(let N=v.length+1;N<=T;N++)v.push(String(N))}})(e)}),e.on("prop:renderedDate",Ao.bind(null,e)),e.on("prop:expanded",({payload:w})=>{if(w){if(ls.delete(e),e.props.panels=gi(e),e.props.panel=e.props.panels.shift(),window.innerWidth<=430&&!window.matchMedia("(hover: hover)").matches?e.props.showPanelClose=!0:e.props.showPanelClose=!1,e.props.panel==="day"){const L=e.props.activeDate;e.props.activeDate=$r(e.props.activeDate,x=>!e.props._isDisabled(x),"month")||L}Ao(e),me(`${e.props.id}_popover`,L=>{const x=L.querySelector('[tabindex="0"]');x&&setTimeout(()=>{x.focus(),(function(b,v){const T=Ms(b,q=>{for(const Q of q)Q.type==="attributes"&&Q.target instanceof HTMLElement&&Q.target.getAttribute("tabindex")==="0"?Q.target.focus():Q.addedNodes.length&&Q.addedNodes.forEach(U=>{var ue;if(U instanceof HTMLElement&&U.getAttribute("tabindex")==="0")U.focus();else if(U instanceof HTMLElement&&U.querySelector('[tabindex="0"]')){const ge=U.querySelector('[tabindex="0"]');ge instanceof HTMLElement&&ge.focus()}else U instanceof HTMLElement&&U.querySelector('input[type="time"]')&&((ue=U.querySelector('input[type="time"]'))===null||ue===void 0||ue.focus())})});T.observe(v,{attributes:!0,attributeFilter:["tabindex"],childList:!0,subtree:!0});const N=b.on("prop:expanded",({payload:q})=>{q||(b.off(N),T.disconnect())})})(e,L)},0)},e.props.__root),mi&&setTimeout(()=>{document.addEventListener("click",D)},10)}else{if(e.props.activeDate=e.props.renderedDate,e.props.panel==="time")e.emit("dateSelected",e.props.activeDate);else if(e._value){Lo.add(e);const L=typeof e._value=="string"?Dt(e._value,e.props.valueFormat,e.props.valueLocale):e._value;St(e,Ut(L,e.props.offset))}else St(e,void 0);mi&&(Co.add(e),document.removeEventListener("click",D),setTimeout(()=>Co.delete(e),50))}}),e.on("prop:activeDate",({payload:w})=>{if(Array.isArray(e.props.calendar)&&e.props.calendar.length){if(e.props.panel==="day"){const L=e.props.calendar,x=Ca(e.props.renderedDate),b=In(ht(e.props.renderedDate,L.length-1));w.getTime()<x.getTime()?e.props.renderedDate=ht(e.props.renderedDate,-1):w.getTime()>b.getTime()&&(e.props.renderedDate=ht(e.props.renderedDate))}else if(e.props.panel==="year"){const L=e.props.years,x=L[0].getFullYear(),b=L[L.length-1].getFullYear(),v=e.props.activeDate.getFullYear();v>b?e.props.renderedDate=Zt(e.props.renderedDate,10):v<x?e.props.renderedDate=Zt(e.props.renderedDate,-10):(e.props.skipBuildCalendar=!0,e.props.renderedDate=w)}}e.props.expanded&&St(e,e.props.activeDate)}),e.on("keydown",({payload:w})=>{switch(w.key){case"ArrowDown":case"ArrowUp":case" ":w.preventDefault(),e.props.pickerOnly&&(e.props.expanded=!0);break;case"Enter":case"Return":e.props.expanded||(e.props.expanded=!0);break;case"Escape":e.props.expanded=!1}}),e.on("calendarKeydown",({payload:w})=>{w.preventDefault();let L=null,x=0;switch(w.key){case"ArrowRight":x=1;break;case"ArrowLeft":x=-1;break;case"ArrowDown":x=7;break;case"ArrowUp":x=-7;break;case"Return":case"Enter":e.emit("dateSelected",e.props.activeDate);break;case"Tab":w.shiftKey||To(e,w);break;case"Escape":e.props.expanded=!1}if(x&&(w.preventDefault(),L=tr(e.props.activeDate,x)),L&&!e.props._isDisabled(L))e.props.activeDate=L;else if(L&&e.props._isDisabled(L)){const b=x>0?1:-1;vt(Number(e.props.maxScan),v=>b*v).some(v=>{const T=tr(L,v);return!e.props._isDisabled(T)&&(e.props.activeDate=T,!0)})}}),e.on("yearKeydown",({payload:w})=>{let L=0;switch(w.key){case"ArrowDown":L=5;break;case"ArrowRight":L=1;break;case"ArrowUp":L=-5;break;case"ArrowLeft":L=-1;break;case"Tab":w.shiftKey||To(e,w);break;case"Return":case"Enter":e.emit("dateSelected",e.props.activeDate);break;case"Escape":e.props.expanded=!1}const x=e.props.activeDate.getFullYear()+L-e.props.renderedDate.getFullYear();e.props.activeDate=Zt(e.props.renderedDate,x)}),e.on("monthKeydown",({payload:w})=>{let L=0;switch(w.key){case"ArrowDown":L=3;break;case"ArrowRight":L=1;break;case"ArrowLeft":L=-1;break;case"ArrowUp":L=-3;break;case"Tab":w.shiftKey||To(e,w);break;case"Return":case"Enter":e.emit("dateSelected",e.props.activeDate);break;case"Escape":e.props.expanded=!1}L&&w.preventDefault();let x=(e.props.activeDate.getMonth()+L)%12;x=x<0?12+x:x;const b=x-e.props.renderedDate.getMonth();let v=ht(e.props.renderedDate,b);if(e.props._isDisabled(v)){const T=$r(v,N=>!e.props._isDisabled(N),"month");T&&(v=T)}e.props.activeDate=v}),e.on("timeKeydown",({payload:w})=>{switch(w.key){case"Return":case"Enter":w.preventDefault(),e.emit("dateSelected",e.props.activeDate)}}),e.on("prop:_isFocused",()=>{Bn.get(e)&&Gp(e)}),e.on("commit",({payload:w})=>{if(w?Up(e):Zp(e),e.props.activeDate&&e.props._isDisabled(e.props.activeDate)){const L=be({blocking:!0,key:"rule_invalidDate",meta:{messageKey:"invalidDate",removeImmediately:!1,localize:!0,i18nArgs:[{node:e,name:Hy(e),args:[]}]},type:"validation",value:"The selected date is invalid."});e.store.set(L)}else e.store.remove("rule_invalidDate")})},qr,le("next"),le("prev"),le("changeDate"),le("chooseDate"),re("close","close"),re("next","right"),re("clear","close"),re("prev","left"),re("calendar","date")]},Je=Ee("tl"),{outer:Yy,wrapper:Zy,inner:Uy,icon:kr,label:qy,prefix:zy,suffix:Gy,help:Xy,messages:Jy,message:Qy}=Me(Je),eb=Je("input",()=>({$el:"input",bind:"$attrs",attrs:{id:"$id",type:"text",onClick:"$handlers.click",onBlur:"$handlers.blur",onKeydown:"$handlers.keydown",onInput:"$handlers.input",onFocus:"$handlers.focus",value:"$inputText",name:"$node.name",tabindex:"0",placeholder:"$state.loading && $inputStd.length === 0 && $ui.isLoading.value || $placeholder || undefined",role:"combobox",autocomplete:"off",autocapitalize:"none",readonly:"$attrs.readonly || $isLoadingOption || undefined || $multiple && $max && $value && $value.length >= $max",disabled:"$disabled || $disabledInternally || undefined","aria-autocomplete":"list","aria-expanded":"$expanded","aria-controls":'$expanded && $id + "_listbox" || undefined',"aria-describedBy":"$describedBy","aria-activedescendant":"$expanded && $activeDescendant || undefined","aria-required":"$state.required || undefined"}})),tb=Je("listboxButton",()=>({$el:"button",attrs:{style:"$visibilityStyles",id:'$id + "_listbox_button"',type:"button",onClick:"$handlers.toggleListbox",tabindex:"-1","aria-label":"$expanded && $ui.close.value || $ui.open.value",disabled:"$disabled || undefined","aria-haspopup":"true","aria-expanded":"$expanded","aria-controls":'$expanded && $id + "_listbox" || undefined'}})),rb=Je("tagWrapper",()=>({$el:"span",for:["option","index","$selections"],attrs:{id:'$id + "_tag-wrapper_" + $index',key:"$option.value","data-value":"$option.value",tabindex:"-1",onClick:"$handlers.tagClick && $handlers.tagClick($option)",onFocus:"$handlers.tagFocus && $handlers.tagFocus($option)",onBlur:"$handlers.tagBlur && $handlers.tagBlur($option)",onKeydown:"$handlers.searchInputTagKeydown && $handlers.searchInputTagKeydown($option)","data-is-tag":"true","data-active-selection":"$fns.isActiveSelection && $fns.isActiveSelection($activeSelectionValue, $option)"}})),nb=Je("tag",()=>({$el:"div",attrs:{id:'$id + "_tag_" + $index',role:"button"}})),ob=Je("removeSelection",()=>({$el:"button",if:"$selections.length > 0",attrs:{id:'$id + "_remove_selection_" + $index',tabindex:"-1","aria-label":"$ui.remove.value",type:"button",onClick:"$handlers.removeSelection && $handlers.removeSelection($option)",onTouchstartPassive:"$handlers.removeSelection && $handlers.removeSelection($option)","aria-controls":"$id"}})),sb=Je("tagLabel",()=>({$el:"span"})),ab=Je("tags",()=>({$el:"div",attrs:{id:'$id + "_selections"',"aria-live":"polite"}})),ib=Je("tagLoading","span"),lb=Es(Je);function pb(e){e.props.multiple=!0,e.props.openOnClick=W(e.props.openOnClick),e.props.closeOnSelect===void 0&&(e.props.closeOnSelect=!0),e.props.closeOnSelect?e.props.resetSearchOnCommit=!1:e.props.resetSearchOnCommit===void 0&&(e.props.resetSearchOnCommit=e.props.multiple),e.props.allowNewValues=W(e.props.allowNewValues)}function ub(e){Ep(e),Cp(e),e.on("created",()=>{function t(){return Array.isArray(e.value)?e.value:[]}function r(n){e.input(n)}e.props.disabled&&(e.props.draggable=!1),me(`${e.props.id}_selections`,n=>{if(n instanceof HTMLElement){if(!e.context)return;const o={draggingClass:e.context.classes.dragging,dropZoneClass:e.context.classes.dropZone,disabled:!e.props.draggable,threshold:{horizontal:.25,vertical:0},plugins:[Un()],root:e.props.__root,touchDraggingClass:e.context.classes.touchDragging,touchDropZoneClass:e.context.classes.touchDropZone,draggable:s=>s.hasAttribute("data-is-tag"),handleEnd(s){e.props.activeSelectionValue=void 0,An(s)},handleDragstart(s){e.props.activeSelectionValue=void 0,Ln(s)},handleTouchstart(s){e.props.activeSelectionValue=void 0,Tn(s)}};$e({parent:n,getValues:t,setValues:r,config:o}),e.on("prop:disabled",({payload:s})=>{o.disabled=s,$e({parent:n,getValues:t,setValues:r,config:o})}),e.on("prop:draggable",({payload:s})=>{o.disabled=!s,$e({parent:n,getValues:t,setValues:r,config:o})})}},e.props.__root)})}const cb={schema:Yy(Zy(qy("$label"),Uy(kr("prefix"),zy(),ab(rb(nb(H("$state.loading && $fns.hasOptionLoaderValue && $fns.hasOptionLoaderValue($option) || $option.label === undefined",ib("$ui.isLoading.value"),sb("$option.label")),ob(kr("close")))),eb()),H("$state.loading",kr("loader")),tb(kr("select")),lb(),Gy(),kr("suffix"))),Xy("$help"),Jy(Qy("$message.value"))),type:"input",family:"dropdown",props:[],features:[ft,Fs.bind(null,pb,Tp,ub),re("select","select"),re("close","close"),re("selected","check"),re("loader","spinner"),le("isLoading"),le("loadMore"),le("remove"),le("open"),le("close"),qr]},Hs=Ee("mk"),{outer:db,wrapper:fb,inner:mb,label:hb,prefix:gb,suffix:vb,help:$b,messages:yb,message:bb,icon:$i}=Me(Hs),{overlayPlaceholder:xb,overlayLiteral:wb,overlayChar:_b,overlayEnum:kb,overlay:Sb,overlayParts:Db,overlayInner:Cb}=up(Hs),Lb=Hs("input",()=>({$el:"input",bind:"$attrs",attrs:{type:"text",disabled:"$disabled",name:"$node.name",onBlur:"$handlers.blur",onInput:"$handlers.DOMInput",value:"$_maskValue",placeholder:"$placeholder",id:"$id","aria-describedby":"$describedBy"}})),ps=new WeakMap,us=new WeakMap,yi=new WeakMap;function Ab(e,t){if(!(t instanceof HTMLInputElement))throw new Error(`Masks can only be applied to an HTMLInputElement (id: ${t.id}).`);us.set(e,t),Ns(t,{...ps.get(e),onChange:({valueAfter:r,meta:n})=>{e.props._maskValue=r,e.input({maskValue:r}),e.props._overlayParts=Mn(n)}},e)}const Tb={schema:db(fb(hb("$label"),mb($i("prefix"),gb(),Sb(Cb(Db(xb("$part.value"),wb("$part.value"),_b("$part.value"),kb("$part.value")))),Lb(),vb(),$i("suffix"))),$b("$help"),yb(bb("$message.value"))),type:"input",props:["allowIncomplete","mask","mode","tokens","showMask","unmaskValue","prefix","suffix","reverse","overlay"],family:"text",features:[Xp,function(e){e.addProps(["_maskValue","_overlayParts"]),e.on("created",()=>{var t,r,n,o,s;const a=Mp(typeof e._value=="string"?e._value:"");us.set(e,a),yi.set(e,a),e.props.allowIncomplete=W(e.props.allowIncomplete),e.props.overlay=W(e.props.overlay);const i=!(e.props.showMask!==void 0&&!W(e.props.showMask));e.props.unmaskValue=W(e.props.unmaskValue),e.hook.prop((p,u)=>(p.prop==="unmaskValue"&&(p.value=W(p)),u(p)));const l={placeholder:i,pattern:(t=e.props.mask)!==null&&t!==void 0?t:"",mode:(r=e.props.mode)!==null&&r!==void 0?r:"shift",partOverrides:(n=e.props.tokens)!==null&&n!==void 0?n:{},prefix:(o=e.props.prefix)!==null&&o!==void 0?o:void 0,suffix:(s=e.props.suffix)!==null&&s!==void 0?s:void 0,reverse:W(e.props.reverse)};ps.set(e,l),e.hook.input((p,u)=>{const c=(function(f,d){const $=us.get(f),h=typeof d=="object"&&"maskValue"in d;d=typeof d=="string"?d:h?d.maskValue:"";const y=yi.get(f);y.value=Bs(y,d);const m=ai(y,ps.get(f)),S=Kp(y,f.props.allowIncomplete);return d===$.value?f.props.unmaskValue?S??"":S===null?"":typeof d=="string"?d:"":d===""&&$.value!==""&&!f.props.allowIncomplete?($.value=m,f.props._maskValue=m,f.props._overlayParts=Mn(as(y)||[]),d):(h||m===f.props._maskValue||($.value=m,f.props._maskValue=m,f.props._overlayParts=Mn(as(y)||[])),S===null?"":f.props.unmaskValue?S:m)})(e,p);return u(c)}),e.props._maskValue=ai(a,l,e),e.input(e.props._maskValue,!1),e.context&&(e.context.handlers.DOMInput=p=>{e.emit("dom-input-event",p)}),me(`${e.props.id}`,Ab.bind(null,e),e.props.__root)})}]},oe=Ee("tf"),{outer:Ib,wrapper:Eb,icon:Ue,help:Mb,messages:Ob,message:Pb}=Me(oe),Vb=oe("fieldset",()=>({$el:"fieldset",attrs:{id:'$id + "_fieldset"',role:"presentation","aria-describedby":{if:"$help",then:'$: "help-" + $id',else:void 0}}})),Fb=oe("legend",()=>({if:"$label",$el:"legend"})),Nb=oe("source",()=>({$el:"div",attrs:{id:'$id + "_source"',class:'$classes.transferlist + " " + $classes.source'}})),Bb=oe("sourceHeader",()=>({$el:"div",attrs:{id:'$id + "_source_header"',role:"presentation",class:'$classes.transferlistHeader + " " + $classes.sourceHeader'}})),Rb=oe("sourceHeaderLabel",()=>({if:"$sourceLabel",$el:"label",attrs:{id:'$id + "_source_header_label"',for:'$id + "_source_search_input"',class:'$classes.transferlistHeaderLabel + " " + $classes.sourceHeaderLabel'},children:"$sourceLabel || $label"})),Hb=oe("sourceHeaderItemCount",()=>({$el:"span",attrs:{id:'$id + "_source_header_item_count"',role:"presentation","aria-label":'$sourceOptions.length " items"',class:'$classes.transferlistHeaderItemCount + " " + $classes.sourceHeaderItemCount'}})),Wb=oe("targetHeaderLabel",()=>({if:"$targetLabel",$el:"label",attrs:{id:'$id + "_target_header_label"',for:'$id + "_target_search_input"',class:'$classes.transferlistHeaderLabel + " " + $classes.targetHeaderLabel'},children:"$targetLabel || $label"})),Kb=oe("targetHeaderItemCount",()=>({$el:"span",attrs:{id:'$id + "_target_header_item_count"',role:"presentation","aria-label":'$targetOptions.length + " items"',class:'$classes.transferlistHeaderItemCount + " " + $classes.targetHeaderItemCount'},children:"$targetOptions.length"})),jb=oe("sourceControls",()=>({$el:"div",if:"$searchable",attrs:{id:'$id + "_source_controls"',class:'$classes.transferlistControls + " " + $classes.sourceControls'}})),Yb=oe("sourceSearch",()=>({if:"$searchable",$el:"div",attrs:{id:'$id + "_source_search"',class:'$classes.transferlistSearch + " " + $classes.sourceSearch'}})),Zb=oe("sourceSearchInput",()=>({$el:"input",attrs:{id:'$id + "_source_search_input"',type:"text",placeholder:"$placeholder",onInput:"$handlers.onSearch",value:"$inputText",onKeydown:"$handlers.sourceSearchKeydown",disabled:"$disabled","aria-label":"Search",role:"searchbox",autocomplete:"off",class:'$classes.transferlistSearchInput + " " + $classes.sourceSearchInput',onFocus:"$handlers.sourceSearchFocus",onBlur:"$handlers.sourceSearchBlur"}})),Ub=oe("targetSearch",()=>({if:"$targetSearchable",$el:"div",attrs:{id:'$id + "_target_search"',class:'$classes.transferlistSearch + " " + $classes.targetSearch'}})),qb=oe("targetSearchInput",()=>({$el:"input",attrs:{id:'$id + "_target_search_input"',type:"text",placeholder:"$placeholder",onInput:"$handlers.onTargetSearch",value:"$targetInputText",onKeydown:"$handlers.targetSearchKeydown",disabled:"$disabled","aria-label":"Search",role:"searchbox",autocomplete:"off",class:'$classes.transferlistSearchInput + " " + $classes.targetSearchInput',onFocus:"$handlers.targetSearchFocus",onBlur:"$handlers.targetSearchBlur"}})),zb=oe("targetControls",()=>({$el:"div",if:"$targetSearchable",attrs:{id:'$id + "_target_controls"',class:'$classes.transferlistControls + " " + $classes.targetControls'}})),Gb=oe("sourceSearchClear",()=>({$el:"button",if:'$inputText !== ""',attrs:{id:'$id + "_source_search_clear"',type:"button",onClick:"$handlers.clearSearch","aria-label":"Clear Source Search",class:'$classes.transferlistSearchClear + " " + $classes.sourceSearchClear'}})),Xb=oe("targetSearchClear",()=>({$el:"button",if:'$targetInputText !== ""',attrs:{id:'$id + "_target_search_clear"',type:"button",onClick:"$handlers.clearTargetSearch","aria-label":"Clear Target Search",class:'$classes.transferlistSearchClear + " " + $classes.targetSearchClear'}})),Jb=oe("sourceListItems",()=>({$el:"ul",attrs:{id:'$id + "_source_list_items"',"aria-activedescendant":"$activeDescendant",onMouseenter:"$handlers.onMouseenter(true)",onMouseout:"$handlers.onMouseleave(true)",role:"listbox","aria-multiselectable":"true","aria-roledescription":"List of options to choose from.",class:'$classes.transferlistListItems + " " + $classes.sourceListItems',onKeydown:"$handlers.sourceListKeydown",tabindex:"$searchable || $sourceOptions.length === 0 && -1 || 0",onFocus:"$handlers.sourceListFocused",onBlur:"$handlers.sourceListBlurred","aria-label":"Source list"}})),Qb=oe("sourceListItem",()=>({for:["option","index","$sourceOptions"],$el:"li",attrs:{id:'$id + "_source_list_item_" + $index',"data-value":"$option.value","aria-selected":"$transferOnSelect === false && $fns.isSelected($option, $selectedSourceItems)","data-is-active":"$fns.isActive($option, $activeValue)","data-disabled":"$option.attrs.disabled",role:"option",onClick:"$handlers.listitemClick($option, true)",onTouchstartPassive:"$handlers.listitemTouchstart($option, true)",onTouchmovePassive:"$handlers.listitemTouchmove($option, true)",onTouchend:"$handlers.listitemTouchend($option, true)",key:"$option.value",class:'$classes.transferlistListItem + " " + $classes.sourceListItem'}})),ex=oe("sourceOption",()=>({$el:"div",attrs:{"data-checked":"$fns.isSelected($option, $selectedSourceItems)",class:'$classes.transferlistOption + " " + $classes.sourceOption'}})),tx=oe("sourceLoadMore",()=>({$el:"li",if:"$state.loading || $state.hasNextPage",attrs:{id:'$id + "_source_load_more"',key:"loadMore",onClick:"$handlers.listitemClick($loadMoreOption)","aria-selected":"false","data-is-active":"$fns.isActive($loadMoreOption)",tabindex:"-1"}})),rx=oe("loadMoreInner","span"),nx=oe("target",()=>({$el:"div",attrs:{id:'$id + "_target"',class:'$classes.transferlist + " " + $classes.target'}})),ox=oe("targetHeader",()=>({$el:"div",attrs:{id:'$id + "_target_header"',role:"presentation",class:'$classes.transferlistHeader + " " + $classes.targetHeader'}})),sx=oe("targetListItems",()=>({$el:"ul",attrs:{id:"$id","aria-activedescendant":"$activeDescendant",onMouseenter:"$handlers.onMouseenter(false)",onMouseout:"$handlers.onMouseleave(false)",role:"listbox",class:'$classes.transferlistListItems + " " + $classes.targetListItems',tabindex:"$targetOptions.length === 0 && -1 || 0",onKeydown:"$handlers.targetListKeydown",onFocus:"$handlers.targetListFocused",onBlur:"$handlers.targetListBlurred","aria-label":"Target list"}})),ax=oe("targetListItem",()=>({for:["option","index","$targetOptions"],$el:"li",attrs:{id:'$id + "_target_list_item_" + $index',"data-disabled":"$option.attrs.disabled","data-value":"$option.value","aria-selected":"$transferOnSelect === false && $fns.isSelected($option, $selectedTargetItems)","data-is-active":"$fns.isActive($option, $activeValue)",role:"option",onClick:"$handlers.listitemClick($option, false)",onTouchstartPassive:"$handlers.listitemTouchstart($option, false)",onTouchmovePassive:"$handlers.listitemTouchmove($option, false)",onTouchend:"$handlers.listitemTouchend($option, false)",key:"$option.value",class:'$classes.transferlistListItem + " " + $classes.targetListItem'}})),ix=oe("targetOption",()=>({$el:"div",attrs:{id:'$id + "_target_list_item_" + $index + "_option"',"data-checked":"$fns.isSelected($option, $selectedTargetItems)",class:'$classes.transferlistOption + " " + $classes.targetOption'}})),lx=oe("transferControls",()=>({$el:"div",attrs:{id:'$id + "_transfer_controls"'}})),px=oe("transferButtonForward",()=>({if:"$transferOnSelect !== true",$el:"button",attrs:{id:'$id + "_transfer_button_forward"',type:"button",disabled:"$selectedSourceItems.length === 0 || $disabled || ($max && $value && $value.length >= $max)",onClick:"$handlers.transferForward","aria-label":"$ui.addSelectedValues.value",title:"$ui.addSelectedValues.value",class:'$classes.transferlistButton + " " + $classes.transferButtonForward'}})),ux=oe("transferButtonForwardAll",()=>({$el:"button",attrs:{id:'$id + "_transfer_button_forward_all"',type:"button",disabled:"$sourceOptions.length === 0 || $disabled || ($max && $value && $value.length >= $max)",onClick:"$handlers.transferForwardAll","aria-label":"$ui.addAllValues.value",title:"$ui.addAllValues.value",onFocus:"$handlers.transferForwardAllFocused",class:'$classes.transferlistButton + " " + $classes.transferButtonForwardAll'}})),cx=oe("transferButtonBackward",()=>({if:"$transferOnSelect !== true",$el:"button",attrs:{id:'$id + "_transfer_button_backward"',onClick:"$handlers.transferBackward",type:"button",disabled:"$selectedTargetItems.length === 0 || $targetOptions.length === 0 || $disabled","aria-label":"$ui.removeSelectedValues.value",title:"$ui.removeSelectedValues.value",class:'$classes.transferlistButton + " " + $classes.transferButtonBackward'}})),dx=oe("transferButtonBackwardAll",()=>({$el:"button",attrs:{id:'$id + "_transfer_button_backward_all"',onClick:"$handlers.transferBackwardAll",type:"button",disabled:"$targetOptions.length === 0 || $disabled","aria-label":"$ui.removeAllValues.value",title:"$ui.removeAllValues.value",class:'$classes.transferlistButton + " " + $classes.transferButtonBackwardAll'}})),sn=oe("controlLabel","span"),fx=oe("sourceEmptyMessage",()=>({$el:"li",if:"$showSourceEmptyMessage && $sourceEmptyMessage && $state.loading !== true",attrs:{id:'$id + "_source_empty_message"',key:"$sourceEmptyMessage",role:"presentation"}})),mx=oe("targetEmptyMessage",()=>({$el:"li",if:"$showTargetEmptyMessage && $targetEmptyMessage",attrs:{id:'$id + "_empty_message"',key:"$emptyMessage",role:"presentation"}})),bi=oe("emptyMessageInner","span"),cr=Symbol(),dr=new WeakSet,Wr=new WeakSet;function Ws(e,t,r,n){if(!(e.props.disabled||(e.props.isSourceOption=r,e.props.isSourceOption&&Array.isArray(e.value)&&e.value.length>=e.props.max)))if(r){if(e.props.selectedSourceItems.includes(t))return e.props.selectedSourceItems=e.props.selectedSourceItems.filter(o=>o!==t),e.props.activeValue=void 0,void(e.props.activeDescendant=void 0);e.props.selectedTargetItems=[],e.props.selectedSourceItems=[...e.props.selectedSourceItems,t]}else{if(e.props.selectedTargetItems.includes(t))return void(e.props.selectedTargetItems=e.props.selectedTargetItems.filter(o=>o!==t));e.props.selectedSourceItems=[],e.props.selectedTargetItems=[...e.props.selectedTargetItems,t]}}function Rn(e,t){if(e.props.sourceListOrigin=!0,e.props.maxReached)return;if(t){const n=Array.isArray(e.value)?[...e.value,t]:[t];return void e.input(n)}const r=e.props.selectedSourceItems.map(n=>F(n));Array.isArray(e.value)?e.input([...e.value,...r]):e.input(r),e.props.selectedSourceItems=[]}function Hn(e,t){if(e.props.sourceListOrigin=!1,t){const n=Array.isArray(e.value)?e.value.filter(o=>!K(o,t)):[];return void e.input(n)}const r=e.props.selectedTargetItems.map(n=>F(n));if(Array.isArray(e.value)){const n=e.value.filter(o=>!r.includes(o));e.input(n)}e.props.selectedTargetItems=[]}function Jp(e){var t,r;if(e.props.activeValue===cr){const o=(t=e.props.__root)===null||t===void 0?void 0:t.getElementById(`${e.props.id}_source_load_more`);return void(o&&o.scrollIntoView({block:"nearest",inline:"start"}))}const n=(r=e.props.__root)===null||r===void 0?void 0:r.getElementById(e.props.activeDescendant);n&&n.scrollIntoView({block:"nearest",inline:"start"})}function an(e){var t;if(Array.isArray(e.value)){const r=[];let n=[...e.props.options];e.value.forEach(o=>{const s=e.props.memoOptions.find(a=>K(F(a),o));if(s&&!s.noOptionFound)r.push(s),e.props.options.findIndex(i=>K(F(i),o))!==-1&&(n=n.filter(i=>!K(F(i),o)));else{const a=n.find(i=>K(F(i),o));a?(r.push(a),n=n.filter(i=>!K(F(i),o))):r.push({label:String(o),value:o,noOptionFound:!0})}}),e.props.targetOptions=e.props.targetInputText?r.filter(o=>e.props.filter(o,e.props.targetInputText,e)):r,e.props.sourceOptions=n}else e.props.sourceOptions=[...e.props.options],e.props.targetOptions=[];if(e.props.skipSetActiveValue)return void(e.props.skipSetActiveValue=!1);!((t=e.props.__root)===null||t===void 0)&&t.getElementById(e.props.id+"_source_list_items")&&Qp(e)}function Qp(e){var t,r,n,o,s,a,i,l,p;if(e.props.isDragging)return;if(e.props.targetSearchActive){if(((r=(t=e.props.__root)===null||t===void 0?void 0:t.activeElement)===null||r===void 0?void 0:r.id)===`${e.props.id}_target_search_input`){const f=e.props.targetOptions.find(d=>{var $;return!(!(($=d.attrs)===null||$===void 0)&&$.disabled)});return f?void(e.props.activeValue=F(f)):void(e.props.activeValue=void 0)}return}if(e.props.sourceSearchActive){if(((o=(n=e.props.__root)===null||n===void 0?void 0:n.activeElement)===null||o===void 0?void 0:o.id)===`${e.props.id}_source_search_input`){const f=e.props.sourceOptions.find(d=>{var $;return!(!(($=d.attrs)===null||$===void 0)&&$.disabled)});return f?void(e.props.activeValue=F(f)):void(e.props.activeValue=void 0)}e.props.sourceSearchActive=!1}if(e.props.transferOnSelect===!1)return void(e.props.activeValue=void 0);const u=e.props.sourceListOrigin?e.props.sourceOptions:e.props.targetOptions;let c=!1;for(let f=e.props.activeIndex;f<=u.length;f++)if(!(!((s=u.attrs)===null||s===void 0)&&s.disabled)&&u[f]){c=!0,e.props.activeValue=F(u[f]);break}if(!c&&u.length){for(let f=e.props.activeIndex;f>=0;f--)if(!(!((a=u.attrs)===null||a===void 0)&&a.disabled)&&u[f])return c=!0,void(e.props.activeValue=F(u[f]))}if(!c){let f;f=e.props.sourceListOrigin?(p=e.props.__root)===null||p===void 0?void 0:p.getElementById(`${e.props.id}`):e.props.searchable?(i=e.props.__root)===null||i===void 0?void 0:i.getElementById(`${e.props.id}_source_search_input`):(l=e.props.__root)===null||l===void 0?void 0:l.getElementById(`${e.props.id}_source_list_items`),f&&f.focus()}}function eu(e,t){return(t?e.props.sourceOptions:e.props.targetOptions).find(r=>{var n;return!(!((n=r.attrs)===null||n===void 0)&&n.disabled)})}function hx(e){Array.isArray(e.value)&&e.value.forEach(async t=>{gp(e,t,(function(r,n){return[...r.props.options,...r.props.memoOptions].find(s=>K(F(s),n))})(e,t))})}function gx(e){e.context&&(e.context.handlers.loadMore=On.bind(null,e),e.context.fns.getSourceItemCount=t=>e.props.transferOnSelect===!1&&t.length?t.length+"/"+e.props.sourceOptions.length:e.props.sourceOptions.length,e.context.fns.getTargetItemCount=t=>e.props.transferOnSelect===!1&&t.length?t.length+"/"+e.props.targetOptions.length:e.props.targetOptions.length,e.context.fns.isActive=(t,r)=>{if(!e.props.isDragging&&!e.props.touchStarted)return K(r,F(t))||void 0},e.context.fns.isSelected=(t,r)=>!!r&&!!Array.isArray(r)&&r.includes(t),e.context.fns.optionLoading=t=>e.props.optionLoaderValues.includes(F(t)),e.context.handlers.clearSearch=()=>{(function(t){var r;t.props.sourceSearchActive=!1,t.props.inputText="",Ke(t,"",!0);const n=(r=t.props.__root)===null||r===void 0?void 0:r.getElementById(`${t.props.id}_source_search_input`);n&&n.focus()})(e)},e.context.handlers.clearTargetSearch=()=>{(function(t){var r;t.props.targetSearchActive=!1,t.props.targetInputText="";const n=[...new Set([...t.props.options,...t.props.memoOptions])],o=[];for(const a of t.value){const i=n.find(l=>F(l)===a);i&&o.push(i)}t.props.targetOptions=o;const s=(r=t.props.__root)===null||r===void 0?void 0:r.getElementById(`${t.props.id}_target_search_input`);s&&s.focus()})(e)},e.context.handlers.sourceSearchBlur=t=>{setTimeout(()=>{var r;if(t.relatedTarget&&t.relatedTarget instanceof HTMLElement&&(t.relatedTarget.id===`${e.props.id}_source_list_items`||t.relatedTarget.id===`${e.props.id}`)){const n=(r=e.props.__root)===null||r===void 0?void 0:r.getElementById(`${e.props.id}_source_search_input`);if(!n)return;n.focus()}else e.props.activeValue=void 0})},e.context.handlers.targetSearchBlur=t=>{setTimeout(()=>{var r;if(t.relatedTarget&&t.relatedTarget instanceof HTMLElement&&(t.relatedTarget.id===`${e.props.id}_source_list_items`||t.relatedTarget.id===`${e.props.id}`)){const n=(r=e.props.__root)===null||r===void 0?void 0:r.getElementById(`${e.props.id}_target_search_input`);if(!n)return;n.focus()}else e.props.activeValue=void 0})},e.context.handlers.listitemClick=(t,r)=>n=>{xi(e,t,r)},e.context.handlers.transferForward=Rn.bind(null,e,void 0),e.context.handlers.transferForwardAll=()=>{let t;if(e.props.maxReached)return;const r=e.props.sourceOptions.map(n=>F(n));t=Array.isArray(e.value)?[...e.value,...r]:[...r],e.input(t),e.props.selectedSourceItems=[]},e.context.handlers.transferBackward=Hn.bind(null,e,void 0),e.context.handlers.transferBackwardAll=()=>{Array.isArray(e.value)&&(e.input([]),e.props.selectedTargetItems=[])},e.context.handlers.onSearch=t=>{(function(r,n){r.props.sourceSearchActive=!0;const o=n.target;r.props.inputText=o.value,Ke(r,o.value,!0)})(e,t)},e.context.handlers.onTargetSearch=t=>{(function(r,n){r.props.targetSearchActive=!0;const o=n.target;r.props.targetInputText=o.value;const s=[...new Set([...r.props.memoOptions,...r.props.options])],a=[];for(const l of r.value){const p=s.find(u=>F(u)===l);p&&a.push(p)}const i=[...new Map([...r.props.targetOptions,...a].map(l=>[JSON.stringify(l),l])).values()];r.props.targetOptions=i.filter(l=>r.props.filter(l,o.value,r)),r.props.targetOptions.length===0?r.props.showTargetEmptyMessage=!0:r.props.showTargetEmptyMessage=!1,Qp(r)})(e,t)},e.context.handlers.onMouseenter=t=>r=>{r.type!=="touchstart"&&(t?e.props.mouseOnSource=!0:e.props.mouseOnTarget=!0)},e.context.handlers.onMouseleave=t=>r=>{var n;if(r.type==="touchend")return;const o=(n=e.props.__root)===null||n===void 0?void 0:n.getElementById(t?`${e.props.id}_source_list_items`:`${e.props.id}`);o&&(o.contains(r.relatedTarget)||(e.props.trackHover=!1,e.props.activeValue=void 0,e.props.activeDescendant=void 0,e.props.activeIndex=void 0,t?e.props.mouseOnSource=!1:e.props.mouseOnTarget=!1))},e.context.handlers.listitemClick=(t,r)=>n=>{n instanceof MouseEvent&&e.props.touchStarted||xi(e,t,r)},e.context.handlers.listitemTouchstart=()=>()=>{(function(t){t.props.touchStarted=!0})(e)},e.context.handlers.listitemTouchend=(t,r)=>n=>{(function(o,s,a){if(o.props.touchMoved)return o.props.touchMoved=!1,void(o.props.touchStarted=!1);const i=F(s);o.props.activeIndex=o.props.sourceOptions.findIndex(l=>F(l)===i),o.props.transferOnSelect?a?Rn(o,i):Hn(o,i):Ws(o,s,a)})(e,t,r)},e.context.handlers.listitemTouchmove=()=>t=>{(function(r){r.props.touchMoved=!0})(e)},e.context.handlers.sourceSearchFocus=t=>{ln(e,!0)},e.context.handlers.targetSearchFocus=t=>{ln(e,!1)},e.context.handlers.sourceListFocused=t=>{ln(e,!0)},e.context.handlers.targetListFocused=()=>{ln(e,!1)},e.context.handlers.sourceListBlurred=t=>{e.props.activeValue=void 0},e.context.handlers.targetListBlurred=t=>{e.props.activeValue=void 0},e.context.handlers.sourceListKeydown=t=>{pn(e,t,!0)},e.context.handlers.targetListKeydown=t=>{pn(e,t,!1)},e.context.handlers.sourceSearchKeydown=t=>{pn(e,t,!0)},e.context.handlers.targetSearchKeydown=t=>{pn(e,t,!1)})}function xi(e,t,r,n){var o;if(F(t)===cr)return void((o=e.context)===null||o===void 0||o.handlers.loadMore(!0));const s=F(t);e.props.activeIndex=e.props.sourceOptions.findIndex(a=>K(F(a),s)),e.props.transferOnSelect?r?Rn(e,s):Hn(e,s):Ws(e,t,r)}function ln(e,t){const r=eu(e,t);r&&(e.props.sourceListOrigin=t,e.props.activeValue=F(r))}function pn(e,t,r){if(t.key==="ArrowDown"||t.key==="ArrowUp")(function(n,o,s){var a,i,l;n.preventDefault();const p=s?o.props.sourceOptions:o.props.targetOptions,u=p.reduce((f,d)=>{var $;return!(($=d?.attrs)===null||$===void 0)&&$.disabled||f.push(F(d)),f},[]);!((a=o.store.hasNextPage)===null||a===void 0)&&a.value&&u.push(cr);const c=u.indexOf(o.props.activeValue);if(n.key==="ArrowUp"&&c!==0)for(let f=c-1;f>=0;f--){o.props.sourceListOrigin=s,o.props.activeValue=u[c-1];break}else if(n.key==="ArrowDown"&&c!==u.length-1){for(let f=c+1;f<u.length;f++)if(!(!((l=(i=p[f])===null||i===void 0?void 0:i.attrs)===null||l===void 0)&&l.disabled)){o.props.sourceListOrigin=s,o.props.activeValue=u[f];break}}Jp(o)})(t,e,r);else if(t.key==="ArrowRight"||t.key==="ArrowLeft"){if(t.key==="ArrowLeft"&&r||t.key==="ArrowRight"&&!r)return;(function(n,o,s){o.props.searchable||(n.preventDefault(),(function(a,i){var l,p,u;if(eu(a,!i))if(i){const c=(l=a.props.__root)===null||l===void 0?void 0:l.getElementById(`${a.props.id}`);c&&c.focus()}else if(a.props.searchable){const c=(p=a.props.__root)===null||p===void 0?void 0:p.getElementById(`${a.props.id}_source_search_input`);c&&c.focus()}else{const c=(u=a.props.__root)===null||u===void 0?void 0:u.getElementById(`${a.props.id}_source_list_items`);c&&c.focus()}})(o,s))})(t,e,r)}else t.key==="Enter"&&(function(n,o,s){var a;if(n.preventDefault(),!o.props.activeValue)return;if(o.props.activeValue===cr)return void((a=o.context)===null||a===void 0||a.handlers.loadMore(!0));const i=s?o.props.sourceOptions:o.props.targetOptions,l=i.findIndex(u=>F(u)===o.props.activeValue);o.props.activeIndex=l;const p=i[l];p&&(o.props.transferOnSelect?s?Rn(o,F(p)):Hn(o,F(p)):Ws(o,p,s))})(t,e,r)}function vx(e){e.on("created",()=>{if(typeof e.props.optionsLoader=="function"&&(e.props.skipSetActiveValue=!0,ir(e)),gx(e),e.props.disabled&&(e.props.draggable=!1),Te){me(e.props.id+"_source_list_items",r=>{r instanceof HTMLElement&&(function(n,o){if(!n.context)return;function s(){return n.props.sourceOptions.map(l=>F(l))}function a(){return[]}const i={longTouch:!0,draggingClass:n.context.classes.dragging,dropZoneClass:n.context.classes.dropZone,group:n.props.id,root:n.props.__root||document,disabled:!n.props.draggable||n.props.maxReached,touchDraggingClass:n.context.classes.touchDragging,touchDropZoneClass:n.context.classes.touchDropZone,selectionDraggingClass:n.context.classes.selectionDragging,selectionDropZoneClass:n.context.classes.selectionDropZone,touchSelectionDraggingClass:n.context.classes.touchSelectionDragging,touchSelectionDropZoneClass:n.context.classes.touchSelectionDropZone,longTouchClass:n.context.classes.longTouch,handleTouchmove(l){n.props.selectedSourceItems=[],Xl(l)},draggable:l=>l.getAttribute("role")==="option"};i.plugins=[ba({handleDragstart(l){n.props.isDragging=!0,n.props.trackHover=!1,n.props.activeValue=void 0,n.props.activeDescendant=void 0,Ln(l)},handleEnd(l){An(l),n.props.isDragging=!1,n.props.activeValue=void 0,n.props.activeDescendant=void 0,n.props.activeDescendant=void 0,n.props.isDragging=!1,n.props.selectedTargetItems=[],n.props.selectedSourceItems=[]},handleTouchstart(l){n.props.isDragging=!0,n.props.trackHover=!1,n.props.activeValue=void 0,n.props.activeDescendant=void 0,n.props.mouseOnSource=!1,n.props.mouseOnTarget=!1,Tn(l)},selections:()=>n.props.selectedSourceItems.map(l=>F(l))})],$e({parent:o,getValues:s,setValues:a,config:i}),n.on("prop:disabled",({payload:l})=>{i.disabled=l,$e({parent:o,getValues:s,setValues:a,config:i})}),n.on("prop:draggable",({payload:l})=>{i.disabled=!l,$e({parent:o,getValues:s,setValues:a,config:i})}),n.on("prop:maxReached",({payload:l})=>{i.disabled=l,$e({parent:o,getValues:s,setValues:a,config:i})})})(e,r)},e.props.__root),me(`${e.props.id}`,r=>{r instanceof HTMLElement&&(function(n,o){if(!n.context)return;function s(){return n.props.targetOptions.map(l=>F(l))}function a(l,p){n.props.sourceListOrigin=!0,n.input(l)}const i={longTouch:!0,root:n.props.__root,group:n.props.id,disabled:!n.props.draggable,draggingClass:n.context.classes.dragging,dropZoneClass:n.context.classes.dropZone,touchDraggingClass:n.context.classes.touchDragging,touchDropZoneClass:n.context.classes.touchDropZone,selectionDraggingClass:n.context.classes.selectionDragging,selectionDropZoneClass:n.context.classes.selectionDropZone,touchSelectionDraggingClass:n.context.classes.touchSelectionDragging,touchSelectionDropZoneClass:n.context.classes.touchSelectionDropZone,longTouchClass:n.context.classes.longTouch,draggable:l=>l.getAttribute("role")==="option",plugins:[]};i.plugins=[ba({handleDragstart(l){n.props.isDragging=!0,n.props.trackHover=!1,n.props.activeValue=void 0,Ln(l)},handleEnd(l){An(l),n.props.selectedTargetItems=[],n.props.selectedSourceItems=[],n.props.activeValue=void 0,n.props.trackHover=!0,n.props.isDragging=!1},handleTouchstart(l){n.props.trackHover=!1,n.props.activeValue=void 0,n.props.isDragging=!0,n.props.activeDescendant=void 0,Tn(l)},selections:()=>n.props.selectedTargetItems.map(l=>F(l))})],$e({parent:o,getValues:s,setValues:a,config:i}),n.on("prop:disabled",({payload:l})=>{i.disabled=l,$e({parent:o,getValues:s,setValues:a,config:i})}),n.on("prop:draggable",({payload:l})=>{i.disabled=!l,$e({parent:o,getValues:s,setValues:a,config:i})})})(e,r)},e.props.__root);const t=r=>{var n;if(e.props.isDragging)return;e.props.mouseX=r.clientX,e.props.mouseY=r.clientY;const o=e.props.mouseOnSource?`${e.props.id}_source_list_items`:`${e.props.id}`,s=(n=e.props.__root)===null||n===void 0?void 0:n.getElementById(o);if(s){const a=s.getBoundingClientRect();r.clientX>a.x&&r.clientX<a.x+a.width&&r.clientY>a.y&&r.clientY<a.y+a.height&&(e.props.trackHover=!0)}};document.addEventListener("mousemove",t)}})}function cs(e,t){var r;let n=null,o="",s=[];if(e.props.mouseOnSource){if(n=dr.has(e),o=`${e.props.id}_source_list_item`,s=[...e.props.sourceOptions],!s||!s.length||n)return s=[],o="",void(n=null)}else if(e.props.mouseOnTarget&&(n=Wr.has(e),o=`${e.props.id}_target_list_item`,s=[...e.props.targetOptions],!s||!s.length||n))return s=[],o="",void(n=null);const a=s.reduce((l,p,u)=>{var c,f;if(!((c=p.attrs)===null||c===void 0)&&c.disabled)return l;const d=(f=e.props.__root)===null||f===void 0?void 0:f.getElementById(o+`_${u}`);return d&&l.push([d,p]),l},[]),i=(r=e.props.__root)===null||r===void 0?void 0:r.getElementById(`${e.props.id}_load_more`);i&&a.push([i,e.props.loadMoreOption]),e.props.mouseOnSource&&dr.add(e),e.props.mouseOnTarget&&Wr.add(e),a.length&&tu(e,a,null,t)}function tu(e,t,r,n){const o=n?n.getBoundingClientRect():{top:0,bottom:0};if(r=null,e.props.trackHover){if(e.props.mouseY>o.top&&e.props.mouseY<o.bottom){let s=r||0,a=r;const i=(l,p)=>{var u;const c=p[0],{y:f,height:d,x:$,width:h}=c.getBoundingClientRect();if(e.props.mouseX>$&&e.props.mouseX<$+h&&e.props.mouseY>f&&e.props.mouseY<f+d){r=l;const y=p[1];return e.props.activeValue=y&&!(!((u=y.attrs)===null||u===void 0)&&u.disabled)?F(y):void 0,!0}return!1};do{if(s!==null&&i(s,t[s])||a!==null&&i(a,t[a]))break;s!==null&&(s++,s>t.length-1&&(s=null)),a!==null&&(a--,a<0&&(a=null))}while(s!==null||a!==null)}}else Jp(e);e.props.mouseOnSource||e.props.mouseOnTarget?e.props.mouseOnSource&&dr.has(e)||e.props.mouseOnTarget&&Wr.has(e)?requestAnimationFrame(tu.bind(null,e,t,r,n)):cs(e,n):(dr.delete(e),Wr.delete(e))}const $x={schema:Ib(Vb(Fb("$label"),Mb("$help"),Eb(Nb(Bb(Rb(),Hb(H("$optionsLoadingCounter > 0",Ue("loader"),"$fns.getSourceItemCount($selectedSourceItems)"))),jb(Yb(Zb(),Gb(Ue("close")))),Jb(fx(bi("$sourceEmptyMessage")),Qb(H("$transferOnSelect !== true && $fns.isSelected($option, $selectedSourceItems)",Ue("selected")),ex("$option.label")),tx(H("$state.loading && $optionLoadingCounter === 0 || $state.hasNextPage",rx(H("$state.loading",Ue("loader")),"$state.loading && $ui.isLoading.value || $ui.loadMore.value"))))),lx(ux(sn("$ui.addAllValues.value"),Ue("fastForward")),px(sn("$ui.addSelectedValues.value"),Ue("moveRight")),cx(sn("$ui.removeSelectedValues.value"),Ue("moveLeft")),dx(sn("$ui.removeAllValues.value"),Ue("rewind"))),nx(ox(Wb(),Kb("$fns.getTargetItemCount($selectedTargetItems)")),zb(Ub(qb(),Xb(Ue("close")))),sx(mx(H("$state.loading !== true",bi("$targetEmptyMessage"))),ax(H("$transferOnSelect !== true && $fns.isSelected($option, $selectedTargetItems)",Ue("selected")),ix(H("$fns.optionLoading($option, $optionLoaderValues)","$ui.isLoading.value","$option.label")))))),Ob(Pb("$message.value")))),type:"input",props:[],features:[re("moveRight","right"),re("moveLeft","left"),re("fastForward","fastForward"),re("rewind","rewind"),re("close","close"),re("loader","spinner"),re("selected","check"),le("isLoading"),le("loadMore"),le("addAllValues"),le("addSelectedValues"),le("removeSelectedValues"),le("removeAllValues"),ft,function(e){(function(t){t.addProps(["search","options","selectedItems","activeValue","activeIndex","activeDescendant","targetOptions","sourceOptions","optionLoader","isLoadingOptions","filterOptions","inputText","hasNextPage","page","targetLoading","searchable","sourceLabel","targetLabel","transferOnSelect","disabled","placeholder","filter","showSourceEmptyMessage","showTargetEmptyMessage","sourceEmptyMessage","targetEmptyMessage","clearOnSelect","max","maxReached","debounce","sourceListActive","optionLoaderValues","optionLoadingCounter","optionsLoadingCounter","memoOptions","optionsLoaded","selectedSourceItems","selectedTargetItems","draggable","loadMore","loadMoreOption","targetSearchable","targetInputText"]),t.props.loadMoreOption={label:"Load more",value:cr},t.props.draggable===void 0?t.props.draggable=!0:t.props.draggable==="false"&&(t.props.draggable=!1),t.props.optionsLoaderValues=[],t.props.selectedSourceItems=[],t.props.selectedTargetItems=[],t.props.optionsLoaded=void 0,t.props.memoOptions=[],t.props.multiple=!0,t.props.debounce=t.props.debounce?parseInt(t.props.debounce):200,t.props.optionLoaderValues=[],t.props.optionsLoadingCounter=0,t.props.optionLoadingCounter=0,t.props.page=1,t.props.hasNextPage=vp.bind(null,t),t.props.options?t.props.options=[...t.props.options]:t.props.options=[],t.props.sourceOptions=[],t.props.targetOptions=[],"disabled"in t.props&&(t.props.disabled=W(t.props.disabled)),t.props.searchable=W(t.props.searchable),t.props.searchable&&(t.props.inputText=""),t.props.targetSearchable=W(t.props.targetSearchable),t.props.targetSearchable&&(t.props.targetInputText=""),t.props.clearOnSelect=W(t.props.clearOnSelect),t.props.transferOnSelect===void 0?t.props.transferOnSelect=!0:t.props.transferOnSelect==="false"&&(t.props.transferOnSelect=!1),t.props.targetOptions.length&&(t.props.targetOptionValues=t.props.targetOptions.map(r=>F(r))),t.props.initialOptions=[...t.props.options],t.props.max&&(t.props.max=parseInt(t.props.max)),t.props.sourceListOrigin=void 0,typeof t.props.filter!="function"&&(t.props.filter=(r,n)=>r.label.toLowerCase().includes(n.toLowerCase()))})(e),(function(t){t.on("commit",async({payload:r})=>{t.props.activeValue=void 0,t.props.max&&(t.props.maxReached=r.length>=t.props.max),t.props.clearOnSelect&&t.props.inputText&&(t.props.reFilter=!0,t.props.inputText=""),t.props.memoOptions=[...new Set([...t.props.targetOptions,...t.props.memoOptions])],t.props.searchable&&t.props.reFilter&&!t.props.initialLoad?(Ke(t,t.props.inputText),t.props.reFilter=!1):t.props.initialLoad||(t.isCreated||(t.props.skipSetActiveValue=!0),an(t)),typeof t.props.optionLoader=="function"?hx(t):t.props.initialLoad||(t.props.memoOptions=[...new Set([...t.props.targetOptions,...t.props.memoOptions])])})})(e),vx(e),(function(t){t.on("prop:options",()=>{t.props.appendingOptions&&(t.props.skipSetActiveValue=!0,t.props.appendingOptions=!1),an(t)}),t.on("prop:memoOptions",()=>{t.props.skipSetActiveValue=!0,an(t)}),t.on("prop:sourceOptions",()=>{t.props.sourceOptions.length===0?t.props.showSourceEmptyMessage=!0:t.props.showSourceEmptyMessage=!1,dr.delete(t)}),t.on("prop:targetOptions",()=>{t.props.targetOptions.length===0?t.props.showTargetEmptyMessage=!0:t.props.showTargetEmptyMessage=!1}),t.on("prop:activeValue",({payload:r})=>{if(t.props.isDragging)return void(t.props.activeDescendant=void 0);if(r===cr)return void(t.props.activeDescendant=`${t.props.id}_load_more`);const n=(t.props.sourceListOrigin?t.props.sourceOptions:t.props.targetOptions).findIndex(o=>K(F(o),r));n>=0&&t.props.sourceListOrigin?t.props.activeDescendant=`${t.props.id}_source_list_item_${n}`:t.props.activeDescendant=n>=0?`${t.props.id}_target_list_item_${n}`:void 0}),t.on("prop:mouseOnSource",({payload:r})=>{var n;if(r&&t.props.disabled!==!0&&!t.props.isDragging){const o=(n=t.props.__root)===null||n===void 0?void 0:n.getElementById(t.props.id+"_source_list_items");if(!o)return;t.props.mouseOnTarget=!1,t.props.sourceListOrigin=!0,dr.delete(t),cs(t,o)}}),t.on("prop:mouseOnTarget",({payload:r})=>{var n;if(r&&t.props.disabled!==!0&&!t.props.isDragging){const o=(n=t.props.__root)===null||n===void 0?void 0:n.getElementById(`${t.props.id}`);if(!o)return;t.props.mouseOnSource=!1,t.props.sourceListOrigin=!1,Wr.delete(t),cs(t,o)}}),t.on("prop:optionsLoadingCounter",({payload:r})=>{r===0&&t.props.optionLoadingCounter===0&&t.store.set(Br)}),t.on("prop:optionLoadingCounter",({payload:r})=>{r===0&&t.props.optionsLoadingCounter===0&&(t.store.set(Br),t.props.skipSetActiveValue=!0,an(t))})})(e)}]},fe=Ee("sl"),{outer:yx,wrapper:bx,icon:wi,prefix:xx,suffix:wx,help:_x,messages:kx,message:Sx}=Me(fe),Dx=fe("label",()=>({if:"$label",$el:"label",attrs:{id:"$id + '_label'"}})),Cx=fe("chart",()=>({$el:"div",if:"$chart"})),Lx=fe("chartBar",()=>({$el:"div",for:["bar","index","$chart"],attrs:{"data-active":{if:"$isMulti",then:{if:"$_value.0 < $_value.1",then:"$bar.at >= $_value.0 && $bar.at <= $_value.1",else:"$bar.at >= $_value.1 && $bar.at <= $_value.0"},else:"$bar.at <= $_value"},style:{left:'$bar.at / ($max - $min) * 100 + "%"',width:'$: "calc(" + (100 / $chart.length) + "% - 2px)"',height:{if:"$largestBar",then:'$bar.value / $largestBar * 100 + "%"'}}}})),Ax=fe("sliderInner",()=>({$el:"div",attrs:{"data-has-mark-labels":"$markLabels && $marks.length > 0"}})),Tx=fe("track",()=>({$el:"div",attrs:{id:"$: 'track-' + $id",onClick:"$handlers.clickTrack"}})),Ix=fe("trackWrapper",()=>({$el:"div"})),Ex=fe("trackInner",()=>({$el:"div"})),Mx=fe("fill",()=>({$el:"div",attrs:{style:"$fillStyles"}})),Ox=fe("linkedValues",()=>({$el:"div"})),_i=fe("maxValue",()=>({$formkit:"number",bind:"$computedMaxInputAttrs",ignore:!0,number:!0,value:{if:"$isMulti",then:"$_value.1",else:"$_value"},tabindex:{if:"$disabled",then:-1},onNode:"$handlers.maxNode",onBlur:"$handlers.inputBlur"})),Px=fe("minValue",()=>({$formkit:"number",if:"$isMulti",bind:"$computedMinInputAttrs",ignore:!0,number:!0,value:{if:"$isMulti",then:"$_value.0",else:"$_value"},tabindex:{if:"$disabled",then:-1},onNode:"$handlers.minNode",onBlur:"$handlers.inputBlur"})),Vx=fe("marks",()=>({$el:"div",if:"$marks"})),Fx=fe("mark",()=>({$el:"span",for:["step","index","$marks"],attrs:{"data-active":{if:"$isMulti",then:{if:"$_value.0 < $_value.1",then:"$step.at >= $_value.0 && $step.at <= $_value.1",else:"$step.at >= $_value.1 && $step.at <= $_value.0"},else:"$step.at <= $_value"},class:{if:"$step.class",then:'$: $classes.mark + " " + $step.class',else:"$classes.mark"},style:{left:'$: $fns.calculateMarkPosition($step.at) + "%"'}}})),Nx=fe("markLabel",()=>({$el:"span",if:"$markLabels",children:{if:"$step.label !== undefined",then:"$step.label",else:""},attrs:{class:'$: $classes.markLabel + " " + $step.labelClass'}})),Bx=fe("handles",()=>({$el:"ul"})),Rx=fe("handleMax",()=>({$el:"li",attrs:{"data-active":"$dragging","data-is-target":'$lastHandleInteraction === "max"',"data-handle":"max","data-show-tooltip":"$tooltip",class:"$: 'formkit-handle ' + $classes.handle + ' ' + $classes.handleMax",onFocus:"$handlers.focus",onClick:"$handlers.clickHandle",onMousedown:"$handlers.startDrag",onTouchstartPassive:"$handlers.startDrag",style:"$maxHandleStyles",tabindex:{if:"$disabled",then:-1,else:0},onBlur:"$handlers.blur",onKeydown:"$handlers.keydown"}})),Hx=fe("handleMin",()=>({$el:"li",if:"$isMulti",attrs:{"data-active":"$dragging","data-is-target":'$lastHandleInteraction === "min"',"data-handle":"min","data-show-tooltip":"$tooltip",class:"$: $classes.handle + ' ' + $classes.handleMin",onFocus:"$handlers.focus",onClick:"$handlers.clickHandle",onMousedown:"$handlers.startDrag",onTouchstartPassive:"$handlers.startDrag",style:"$minHandleStyles",tabindex:{if:"$disabled",then:-1,else:0},onBlur:"$handlers.blur",onKeydown:"$handlers.keydown"}})),Wx=fe("handleMinInner",()=>({$el:"div",attrs:{class:'$: $classes.handleInner + " " + $classes.handleMinInner'}})),Kx=fe("handleMaxInner",()=>({$el:"div",attrs:{class:'$: $classes.handleInner + " " + $classes.handleMaxInner'}})),jx=fe("tooltipMax",()=>({$el:"div",if:'$tooltip === true || $tooltip === "auto"',children:{if:"$isMulti",then:{if:"$_value.0 < $_value.1",then:'$tooltipFormat($_value.1, "max")',else:'$tooltipFormat($_value.0, "max")'},else:'$tooltipFormat($_value, "max")'},attrs:{class:"$classes.tooltip + ' ' + $classes.tooltipMax"}})),Yx=fe("tooltipMin",()=>({$el:"div",if:'$isMulti && ($tooltip === true || $tooltip === "auto")',children:{if:"$_value.0 < $_value.1",then:'$tooltipFormat($_value.0, "min")',else:'$tooltipFormat($_value.1, "min")'},attrs:{class:"$classes.tooltip + ' ' + $classes.tooltipMin"}})),Zx={schema:yx(bx(Dx("$label"),_x("$help"),Ax(wi("prefix"),xx(),Tx(Cx(Lx()),Ix(Ex(Mx(),Vx(Fx(Nx())),Bx(Hx(Yx(),Wx()),Rx(jx(),Kx()))))),wx(),wi("suffix"),H("$showInput && $isMulti === false",_i())),H("$showInput && $isMulti",Ox(Px(),_i())),kx(Sx("$message.value")))),type:"input",family:"",props:["min","max","step","showInput","tooltip","tooltipFormat","inputAttrs","maxInputAttrs","minInputAttrs","marks","markLabels","snapToMarks","chart","scalingFunction","intervals"],features:[function(e){let t,r,n;e.addProps(["isMulti","maxHandleStyles","minHandleStyles","fillStyles","decimals","dragging","lastHandleInteraction","largestBar","computedMaxInputAttrs","computedMinInputAttrs"]);const o={linear:{forward:g=>g,reverse:g=>g},log:{forward:(g,_=e.props.min,C=e.props.max)=>C*Math.pow(g/C,1.5),reverse:(g,_=e.props.min,C=e.props.max)=>C*Math.pow(g/C,1/1.5)}};let s=!1;function a(){const g=document.activeElement;if(g instanceof HTMLInputElement){const _=g.value;g.value="",g.value=_}}function i(g){if(!g)return;const _={disabled:g.props.disabled,min:typeof g.props.min=="number"?g.props.min:0,max:typeof g.props.max=="number"?g.props.max:void 0,step:g.props.step||1};g.props.minInputAttrs=Object.assign(g.props.minInputAttrs||{},_),g.props.maxInputAttrs=Object.assign(g.props.maxInputAttrs||{},_),g.props.inputAttrs=g.props.inputAttrs&&typeof g.props.inputAttrs=="object"?Object.assign(g.props.inputAttrs,_):_,g.props.computedMaxInputAttrs=g.props.maxInputAttrs&&typeof g.props.maxInputAttrs=="object"?Object.assign({},g.props.inputAttrs,g.props.maxInputAttrs):g.props.inputAttrs,g.props.computedMinInputAttrs=g.props.minInputAttrs&&typeof g.props.minInputAttrs=="object"?Object.assign({},g.props.inputAttrs,g.props.minInputAttrs):g.props.inputAttrs}function l(g){const{min:_,max:C,intervals:k}=e.props;if(g=Math.min(Math.max(g,0),100),!k||k.length===0){S();const w=_+g/100*(C-_);return e.props.scalingFunction.reverse(w,_,C)}const D=u(k,_,C);for(let w=0;w<D.length;w++){const{value:L,step:x,left:b,width:v,stepsInInterval:T}=D[w];if(g>=b&&g<=b+v){const N=L+(g-b)/v*T*x,q=N%x;return h(q<x/2?N-q:N+(x-q))}}return g>100?C:g<0?_:void 0}function p(g,_=e.props.min,C=e.props.max){const k=e.props.intervals;if(!k||k.length===0)return S(),(e.props.scalingFunction.forward(g,_,C)-_)/(C-_)*100;const D=u(k,_,C);for(let w=0;w<D.length;w++){const{value:L,step:x,left:b,width:v,stepsInInterval:T}=D[w],N=w<D.length-1?D[w+1].value:C;if(g>=L&&g<=N)return 100*((b+(g-L)/x/T*v)/100)}return 100}function u(g,_=e.props.min,C=e.props.max){(g=[...g]).sort((w,L)=>w.value-L.value),g[0].value!==_&&g.unshift({value:_,step:e.props.step});let k=0;for(let w=0;w<g.length;w++){const L=g[w].value,x=((w<g.length-1?g[w+1].value:C)-L)/g[w].step;k+=x}let D=0;return g.map((w,L)=>{const x=w.value,b=((L<g.length-1?g[L+1].value:C)-x)/w.step,v=D/k*100;return D+=b,{value:w.value,step:w.step,left:v,width:b/k*100,stepsInInterval:b,totalSteps:k}})}function c(){const g=parseFloat(`${e.props.min}`),_=parseFloat(`${e.props.max}`);let C,k=0;if(Array.isArray(e._value)){const D=[...e._value].sort(f);k=parseFloat(`${D[0]}`),C=parseFloat(`${D[1]}`)}else C=parseFloat(`${e._value}`);e.props.maxHandleStyles={left:`${p(C,g,_)}%`},e.props.isMulti&&Array.isArray(e._value)?(e.props.minHandleStyles={left:`${p(k,g,_)}%`},e.props.fillStyles={left:`${p(k,g,_)}%`,width:p(C,g,_)-p(k,g,_)+"%"}):e.props.fillStyles={left:"0%",width:`${p(C,g,_)}%`}}function f(g,_){return parseFloat(`${g}`)-parseFloat(`${_}`)}function d(g,_=!0){if(e.props.disabled)return;let C;if(g===void 0){if(e.props.isMulti)e.input([y(e.props.min),y(e.props.max)]);else{const D=e.props.min+(e.props.max-e.props.min)/2;e.input(y(D))}return void c()}if(e.props.isMulti&&Array.isArray(e._value)&&!Array.isArray(g)){const D=e.props.lastHandleInteraction==="min"?0:1,w=[...e._value];w[D]=g;const[L,x]=w;if(L>=x){const b=t?.querySelector(`[data-handle="${e.props.lastHandleInteraction==="min"?"max":"min"}"]`);b?.focus()}C=y([...w].sort(f))}else Array.isArray(g)?C=y(g):(C=y(g),C=isNaN(C)?e.props.min:C);e.props.snapToMarks&&(C=m(C));const k=y($(C));_&&e.input(k),c()}function $(g){return e.props.isMulti&&Array.isArray(g)?[$(g[0]),$(g[1])]:(g=isNaN(g)?e.props.min:g,Math.min(Math.max(parseFloat(`${g}`),e.props.min),e.props.max))}function h(g){return parseFloat(g.toFixed(e.props.decimals))}function y(g){if(e.props.snapToMarks)return g;if(!e.props.intervals)return Array.isArray(g)?g.map(C=>h(Math.round(C/e.props.step)*e.props.step)):h(Math.round(g/e.props.step)*e.props.step);const _=u(e.props.intervals);if(Array.isArray(g))return g.map(C=>{const k=_.find((D,w)=>{var L;return C>=D.value&&C<(((L=_[w+1])===null||L===void 0?void 0:L.value)||e.props.max)});return k?h(k.value+Math.round((C-k.value)/k.step)*k.step):C});{const C=_.find((k,D)=>{var w;return g>=k.value&&g<(((w=_[D+1])===null||w===void 0?void 0:w.value)||e.props.max)});return C?h(C.value+Math.round((g-C.value)/C.step)*C.step):g}}function m(g){if(Array.isArray(g))return g[0]=m(g[0]),g[1]=m(g[1]),g;{const _=e.props.marks;return _.reduce((k,D)=>Math.abs(D.at-g)<Math.abs(k.at-g)?D:k,_[0]).at}}function S(){s||(W(e.props.scalingFunction)?typeof e.props.scalingFunction=="string"?e.props.scalingFunction=o[e.props.scalingFunction]||o.linear:typeof e.props.scalingFunction=="object"&&(e.props.scalingFunction={...o.linear,...e.props.scalingFunction}):e.props.scalingFunction=o.linear,s=!0)}e.props.maxHandleStyles={left:"0%"},e.props.fillStyles={left:"0%",width:"0%"},e.props.isMulti=!1,e.props.step=1,e.props.min=0,e.props.max=100,e.props.tooltipFormat=typeof e.props.tooltipFormat=="function"?e.props.tooltipFormat:(g,_)=>{if(_)return g},e.props.largestBar=0,"disabled"in e.props&&(e.props.disabled=W(e.props.disabled)),e.on("created",()=>{var g;S(),e.props.isMulti=Array.isArray(e.value),e.props.step=parseFloat(`${e.props.step}`),e.props.decimals=((g=e.props.step.toString().split(".")[1])===null||g===void 0?void 0:g.length)||0,e.props.min=e.props.min?parseFloat(`${e.props.min}`):0,e.props.max=e.props.max?parseFloat(`${e.props.max}`):100;const _=W(e.props.tooltip);e.props.tooltip=e.props.tooltip===void 0?"auto":_;const C=W(e.props.marks);if(e.props.marks=!!C&&(Array.isArray(e.props.marks)?e.props.marks:(function(){const{min:w,max:L,step:x}=e.props,b=[];for(let v=w;v<=L;v+=x)b.push({at:v,label:v});return b})()),e.props.markLabels=W(e.props.markLabels),e.props.snapToMarks=W(e.props.snapToMarks),e.props.showInput=W(e.props.showInput),e.props.largestBar=e.props.chart?e.props.chart.reduce((w,L)=>L.value>w?L.value:w,0):e.props.largestBar,i(e),me(`track-${e.props.id}`,()=>{var w;t=(w=e.props.__root)===null||w===void 0?void 0:w.getElementById(`track-${e.props.id}`),d(e.value,!1),c()},e.props.__root),e.context){let w=0,L="";const x=e.context.handlers.blur;e.context.handlers.blur=b=>{x(b),e.emit("blur")},e.context.handlers.clickTrack=b=>{if(!t)return;e.props.dragging=!1;const{left:v,width:T}=t.getBoundingClientRect(),N=(b.clientX-v)/T;if(e.props.isMulti&&Array.isArray(e.value)){const[q,Q]=e.value,U=Math.abs(q-N*e.props.max)<Math.abs(Q-N*e.props.max)?"min":"max",ue=U==="min"?0:1;e.props.lastHandleInteraction=U,e.value[ue]=l(100*N),d(e._value)}else d(l(100*N))},e.context.handlers.focus=b=>{if(!t)return;const v=b.target.dataset.handle;v&&(e.props.lastHandleInteraction=v)},e.context.handlers.clickHandle=b=>{b.stopPropagation(),e.props.attrs.onClick&&e.props.attrs.onClick(b),e.props.dragging=!1,d(e._value)},e.context.handlers.startDrag=b=>{if(!t)return;e.props.dragging=!0;const v=b.type==="touchstart",T=v?"touchmove":"mousemove",N=v?"touchend":"mouseup";e.props.lastHandleInteraction=b.target.dataset.handle||e.props.lastHandleInteraction,document.addEventListener(T,D,{passive:!1}),document.addEventListener(N,()=>{e.context&&(e.props.dragging=!1,document.removeEventListener(T,D),v&&b.target instanceof HTMLElement&&b.target.blur())})},e.context.handlers.keydown=b=>{if(["1","2","3","4","5","6","7","8","9","0",".","-"].includes(b.key)){b.preventDefault(),clearTimeout(w),L+=b.key;const v=L==="-"?-1:1;w=window.setTimeout(()=>{L!=="-"&&d(parseFloat(L)*v),L=""},350)}if(["ArrowLeft","ArrowDown","ArrowRight","ArrowUp","PageUp","PageDown","Home","End"].includes(b.key)){b.preventDefault();const v=e.props.lastHandleInteraction==="min"?0:1,T=Array.isArray(e._value)?e._value[v]:e._value,N=(function(q,Q){if(!e.props.intervals)return e.props.step;const U=u(e.props.intervals);if(q>=e.props.max)return U[U.length-1].step;let ue=U.find((ge,De)=>{var te;return q>=ge.value&&q<(((te=U[De+1])===null||te===void 0?void 0:te.value)||e.props.max)});return ue?(Q===-1&&q-ue.step<ue.value&&(ue=U[U.indexOf(ue)-1]||ue),ue.step):e.props.step})(T,["ArrowLeft","ArrowDown","PageDown"].includes(b.key)?-1:1);if(e.props.marks&&e.props.snapToMarks){const q=m(T),Q=e.props.marks.find(De=>De.at===q),U=e.props.marks.indexOf(Q),ue=["ArrowLeft","ArrowDown"].includes(b.key)?-1:1,ge=Math.min(Math.max(0,U+ue),e.props.marks.length-1);return void d(e.props.marks[ge].at)}if(b.metaKey)return void(b.key==="ArrowLeft"||b.key==="ArrowDown"?d(e.props.min):d(e.props.max));if(b.key==="Home")return void d(e.props.min);if(b.key==="End")return void d(e.props.max);["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(b.key)&&d(T+(b.shiftKey?10*N:N)*(["ArrowLeft","ArrowDown"].includes(b.key)?-1:1)),b.key==="PageUp"?d(T+10*N):b.key==="PageDown"&&d(T-10*N)}},e.context.handlers.maxNode=b=>{n=b,b.hook.commit((v,T)=>K(b.value,v)?T(v):(`${b.value}`.includes(".")&&!`${v}`.includes(".")&&a(),e.props.isMulti&&Array.isArray(e._value)?d([e._value[0],v]):d(v),T($(v))))},e.context.handlers.minNode=b=>{r=b,b.hook.commit((v,T)=>K(b.value,v)?T(v):(`${b.value}`.includes(".")&&!`${v}`.includes(".")&&a(),e.props.isMulti&&Array.isArray(e._value)?d([v,e._value[1]]):d(v),T($(v))))},e.context.handlers.inputBlur=()=>{e.props.isMulti&&Array.isArray(e._value)&&d([...e._value].sort(f))},e.context.fns.calculateMarkPosition=b=>p(b,e.props.min,e.props.max)}let k;function D(w){var L;if(!t||!e.props.dragging)return;w.preventDefault();const x=w.clientX||((L=w.touches)===null||L===void 0?void 0:L.length)&&w.touches[0].clientX,{left:b,width:v}=t.getBoundingClientRect(),T=y(l((x-b)/v*100));k!==T&&(k=T,d(T))}d(e.value)}),e.on("input",({payload:g})=>{Array.isArray(e.value)&&Array.isArray(g)?e.value[0]===g[0]&&e.value[1]===g[1]||d(g,!1):e.value!==g&&d(g,!1),(function(){if(e.props.isMulti&&Array.isArray(e._value)){const[_,C]=[...e._value];r&&r.input(h(_)),n&&n.input(h(C))}else n&&n.input(e._value)})()}),e.on("prop:max",()=>{e.props.max=e.props.max?parseFloat(`${e.props.max}`):100,d(e.value),i(e)}),e.on("prop:min",()=>{e.props.min=e.props.min?parseFloat(`${e.props.min}`):0,d(e.value),i(e)})}]},pe=Ee("cp"),{outer:Ux,wrapper:qx,inner:zx,label:Gx,prefix:Xx,suffix:Jx,help:ki,messages:Qx,message:ew,icon:Sr}=Me(pe),tw=pe("swatchPreview",()=>({$el:"div",attrs:{id:"$id",class:"$classes.swatchPreview",tabindex:{if:"$disabled",then:-1,else:0},onClick:"$handlers.inputPreviewClick",onFocusout:"$handlers.inputPreviewFocusout",onKeydown:"$handlers.inputPreviewKeydown",role:"button","aria-valuetext":'$: "Current color: " + $value'}})),rw=pe("valueString",()=>({$el:"span",attrs:{class:"$classes.valueString"},children:{if:'$format === "hex"',then:"$hex",else:{if:'$format === "rgba"',then:"$rgbaString",else:{if:'$format === "hsla"',then:"$hslaString",else:""}}}})),nw=pe("panel",()=>({$el:"div",attrs:{id:'$: $id + "_popover"',class:"$classes.panel",onKeydown:"$handlers.panelKeydown","aria-role":{if:"$layout === popover",then:"dialog"},"aria-modal":{if:"$layout === popover",then:"true"},"aria-label":"$label",popover:"$popover",style:{if:"$usePopover",then:{margin:0,top:'$popoverCoordinates.y + "px"',left:'$popoverCoordinates.x + "px"'},else:{position:{if:"$inline === undefined || $inline === false",then:"absolute"}}}}})),ow=pe("panelClose",()=>({$el:"button",attrs:{type:"button",class:"$classes.panelClose",onClick:"$handlers.closePanel",tabindex:{if:"$showPanelClose",then:-1,else:0},onKeydown:"$handlers.panelCloseKeydown","aria-label":"$ui.close.value"}})),sw=pe("controlGroup",()=>({$el:"div",attrs:{class:"$classes.controlGroup","data-eye-dropper":"$hasNativeEyeDropper && $eyeDropper",role:"group"}})),aw=pe("LS",()=>({$el:"div",attrs:{class:"$classes.LS"}})),iw=pe("canvasLS",()=>({$el:"canvas",attrs:{id:'$: "canvas-ls-" + $id',class:'$classes.canvas + " " + $classes.canvasLS',width:256,height:256,"aria-hidden":"true"}})),lw=pe("controlLS",()=>({$el:"div",attrs:{tabindex:{if:"$disabled",then:-1,else:0},class:'$classes.control + " " + $classes.controlLS',onKeydown:"$handlers.lsKeydown",style:{left:'$controlLSPosition.x + "%"',top:'$controlLSPosition.y + "%"',backgroundColor:'$: "hsl(" + $hsla.h + "deg, " + ($hsla.s / 255) * 100 + "%, " + ($hsla.l / 255) * 100 + "%)"'},role:"slider","aria-valuemin":0,"aria-valuemax":1,"aria-valuetext":'$: "Lightness: " + $hslaPercent.l + "%, Saturation: " + $hslaPercent.s + "%"'}})),pw=pe("hue",()=>({$el:"div",attrs:{class:"$classes.hue"}})),uw=pe("canvasHue",()=>({$el:"canvas",attrs:{id:'$: "canvas-hue-" + $id',class:'$classes.canvas + " " + $classes.canvasHue',width:256,height:10,"aria-hidden":"true"}})),cw=pe("controlHue",()=>({$el:"div",attrs:{tabindex:{if:"$disabled",then:-1,else:0},onKeydown:"$handlers.hueControlKeydown",class:'$classes.control + " " + $classes.controlHue',style:{left:'$: "min(max(" + (($hsla.h / 360) * 100) + "%, 3px), calc(100% - 3px))"',backgroundColor:'$: "hsl(" + $hsla.h + "deg, 100%, 50%)"'},role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":"$h"}})),dw=pe("alpha",()=>({$el:"div",attrs:{class:"$classes.alpha",style:{opacity:{if:"$alpha",then:"1",else:"0.5"},cursor:{if:"$alpha",then:"",else:"not-allowed"},filter:{if:"$alpha",then:"",else:"grayscale(1)"}}}})),fw=pe("canvasAlpha",()=>({$el:"canvas",attrs:{id:'$: "canvas-alpha-" + $id',class:'$classes.canvas + " " + $classes.canvasAlpha',width:256,height:10,"aria-hidden":"true",style:{pointerEvents:{if:"$alpha",then:"auto",else:"none"}}}})),mw=pe("controlAlpha",()=>({$el:"div",attrs:{tabindex:{if:"$disabled || $alpha === undefined",then:-1,else:0},onKeydown:"$handlers.alphaControlKeydown",class:'$classes.control + " " + $classes.controlAlpha',style:{left:'$: "min(max(" + ($hsla.a * 100) + "%, 3px), calc(100% - 3px))"',backgroundImage:'$: "linear-gradient(to right, hsla(" + $hsla.h + "deg, " + ($hsla.s / 255) * 100 + "%, " + ($hsla.l / 255) * 100 + "%, " + $hsla.a + "), hsla(" + $hsla.h + "deg, " + ($hsla.s / 255) * 100 + "%, " + ($hsla.l / 255) * 100 + "%, " + $hsla.a + ")), linear-gradient(to right, white, white)"',pointerEvents:{if:"$alpha",then:"auto",else:"none"}},role:"slider","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":"$hsla.a"}})),hw=pe("preview",()=>({$el:"div",attrs:{class:"$classes.preview"}})),gw=pe("canvasPreview",()=>({$el:"canvas",attrs:{id:'$: "canvas-preview-" + $id',class:'$classes.canvas + " " + $classes.canvasPreview',width:33,height:33,"aria-hidden":"true"}})),vw=pe("canvasSwatchPreview",()=>({$el:"div",attrs:{class:"$classes.canvasSwatchPreviewWrapper"},children:[{$el:"canvas",attrs:{id:'$: "canvas-swatch-preview-" + $id',class:'$classes.canvas + " " + $classes.canvasSwatchPreview',width:33,height:33,"aria-hidden":"true"}}]})),$w=pe("eyeDropper",()=>({$el:"div",attrs:{tabindex:{if:"$disabled",then:-1,else:0},role:"button",onKeydown:"$handlers.eyeDropperKeydown",id:'$: "eye-dropper-" + $id',class:"$classes.eyeDropper"}})),yw=pe("formatField",()=>({$el:"div",attrs:{class:"$classes.formatField"}})),bw=pe("colorInputGroup",()=>({$el:"div",attrs:{class:"$classes.colorInputGroup","aria-role":"group"}})),xw=pe("hexField",()=>({$el:"div",attrs:{class:'$classes.fieldGroup + " " + $classes.hexFieldGroup'},children:[{$el:"input",attrs:{onInput:"$handlers.hexInput",onKeydown:"$handlers.hexKeydown",onFocus:"$handlers.hexFocus",onBlur:"$handlers.hexBlur",id:'$: "hex-" + $id',tabindex:{if:"$disabled",then:-1,else:0},disabled:"$disabled",class:'$classes.colorField + " " + $classes.hexField',value:"$hex",autocomplete:"off"}},{$el:"label",children:"HEX",attrs:{for:'$: "hex-" + $id',class:"$classes.fieldLabel"}}]})),ww=pe("rField",()=>({$el:"div",attrs:{class:'$classes.fieldGroup + " " + $classes.rFieldGroup'},children:[{$el:"input",attrs:{id:'$: "r-" + $id',onInput:'$handlers.rangeLimitInput("rgba", 0, 255)',onKeydown:'$handlers.rangeLimitKeydown("rgba", 0, 255, 1)',type:"number",class:'$classes.colorField + " " + $classes.rField',min:0,max:255,step:1,tabindex:{if:"$disabled",then:-1,else:0},disabled:"$disabled",value:"$rgba.r",autocomplete:"off"}},{$el:"label",children:"R",attrs:{for:'$: "r-" + $id',class:"$classes.fieldLabel"}}]})),_w=pe("gField",()=>({$el:"div",attrs:{class:'$classes.fieldGroup + " " + $classes.gFieldGroup'},children:[{$el:"input",attrs:{id:'$: "g-" + $id',onInput:'$handlers.rangeLimitInput("rgba", 0, 255)',onKeydown:'$handlers.rangeLimitKeydown("rgba", 0, 255, 1)',type:"number",class:'$classes.colorField + " " + $classes.gField',min:0,max:255,step:1,tabindex:{if:"$disabled",then:-1,else:0},disabled:"$disabled",value:"$rgba.g",autocomplete:"off"}},{$el:"label",children:"G",attrs:{for:'$: "g-" + $id',class:"$classes.fieldLabel"}}]})),kw=pe("bField",()=>({$el:"div",attrs:{class:'$classes.fieldGroup + " " + $classes.bFieldGroup'},children:[{$el:"input",attrs:{id:'$: "b-" + $id',onInput:'$handlers.rangeLimitInput("rgba", 0, 255)',onKeydown:'$handlers.rangeLimitKeydown("rgba", 0, 255, 1)',type:"number",class:'$classes.colorField + " " + $classes.bField',min:0,max:255,step:1,tabindex:{if:"$disabled",then:-1,else:0},disabled:"$disabled",value:"$rgba.b",autocomplete:"off"}},{$el:"label",children:"B",attrs:{for:'$: "b-" + $id',class:"$classes.fieldLabel"}}]})),Sw=pe("aField",()=>({$el:"div",attrs:{class:'$classes.fieldGroup + " " + $classes.aFieldGroup'},children:[{$el:"input",attrs:{id:'$: "a-" + $id',onInput:'$handlers.rangeLimitInput("alpha", 0, 1)',onKeydown:'$handlers.rangeLimitKeydown("alpha", 0, 1, 0.01)',type:"text",class:'$classes.colorField + " " + $classes.aField',value:"$rgba.a",tabindex:{if:"$disabled",then:-1,else:0},disabled:"$disabled || $alpha === undefined",autocomplete:"off",style:{opacity:{if:"$alpha",then:"1",else:"0.33"},cursor:{if:"$alpha",then:void 0,else:"not-allowed"}},"aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":"$rgba.a"}},{$el:"label",children:"A",attrs:{for:'$: "a-" + $id',class:"$classes.fieldLabel",style:{opacity:{if:"$alpha",then:"1",else:"0.33"}}}}]})),Dw=pe("hField",()=>({$el:"div",attrs:{class:'$classes.fieldGroup + " " + $classes.hFieldGroup'},children:[{$el:"input",attrs:{id:'$: "h-" + $id',onInput:'$handlers.rangeLimitInput("hsla", 0, 360)',onKeydown:'$handlers.rangeLimitKeydown("hsla", 0, 360, 1)',type:"text",class:'$classes.colorField + " " + $classes.hField',tabindex:{if:"$disabled",then:-1,else:0},disabled:"$disabled",value:"$hslaPercent.h",autocomplete:"off","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":"$hsla.h"}},{$el:"label",children:"H",attrs:{for:'$: "h-" + $id',class:"$classes.fieldLabel"}}]})),Cw=pe("sField",()=>({$el:"div",attrs:{class:'$classes.fieldGroup + " " + $classes.sFieldGroup'},children:[{$el:"input",attrs:{id:'$: "s-" + $id',onInput:'$handlers.rangeLimitInput("hsla", 0, 100)',onKeydown:'$handlers.rangeLimitKeydown("hsla", 0, 100, 1)',type:"text",class:'$classes.colorField + " " + $classes.sField',tabindex:{if:"$disabled",then:-1,else:0},value:"$hslaPercent.s",autocomplete:"off","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":"$hsla.s"}},{$el:"label",children:"S",attrs:{for:'$: "s-" + $id',class:"$classes.fieldLabel"}}]})),Lw=pe("lField",()=>({$el:"div",attrs:{class:'$classes.fieldGroup + " " + $classes.lFieldGroup'},children:[{$el:"input",attrs:{id:'$: "l-" + $id',onInput:'$handlers.rangeLimitInput("hsla", 0, 100)',onKeydown:'$handlers.rangeLimitKeydown("hsla", 0, 100, 1)',type:"text",class:'$classes.colorField + " " + $classes.lField',tabindex:{if:"$disabled",then:-1,else:0},disabled:"$disabled",value:"$hslaPercent.l",autocomplete:"off","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":"$hsla.l"}},{$el:"label",children:"L",attrs:{for:'$: "l-" + $id',class:"$classes.fieldLabel"}}]})),Aw=pe("formatSwitcher",()=>({$el:"div",attrs:{class:"$classes.formatSwitcher",onClick:"$handlers.toggleFormat",tabindex:{if:"$disabled",then:-1,else:0},onKeydown:"$handlers.formatSwitcherKeydown",role:"button","aria-label":"$ui.next.value"}})),Tw=pe("swatches",()=>({$el:"div",attrs:{id:'$: "swatches-" + $id',class:"$classes.swatches","data-keyboard-nav":"$swatchIsUsingKeyboardNav"}})),Iw=pe("swatch",()=>({$el:"div",for:["swatch","index","$options"],if:"$swatch",attrs:{if:"$swatch.group",then:{class:"$classes.swatchGroup"},else:{class:"$classes.swatch",title:"$swatch.label"}},children:{if:"$swatch.group",then:[{$el:"span",attrs:{class:"$classes.swatchGroupLabel"},children:"$swatch.group"},{$el:"div",for:["groupSwatch","swatchIndex","$swatch.options"],attrs:{class:"$classes.swatch",title:"$groupSwatch.label"},children:[{$el:"canvas",attrs:{class:"$classes.swatchCanvas",width:21,height:21,onClick:"$handlers.swatchClick",onKeydown:"$handlers.swatchKeydown",tabindex:{if:"$: ($focusedSwatch === $fns.anyToHsvaString($groupSwatch.value, 0))",then:{if:"$disabled",then:-1,else:0},else:-1},key:'$groupSwatch.label + "-" + $groupSwatch.value',"data-color":"$fns.anyToHsvaString($groupSwatch.value, 0)","data-color-precise":"$fns.anyToHsvaString($groupSwatch.value, 2)","data-group":"$index","data-label":"$swatch.label",role:"button","aria-label":"$swatch.label"}}]}],else:{$el:"canvas",attrs:{class:"$classes.swatchCanvas",width:21,height:21,onClick:"$handlers.swatchClick",onKeydown:"$handlers.swatchKeydown",tabindex:{if:"$: ($focusedSwatch === $fns.anyToHsvaString($swatch.value, 0))",then:{if:"$disabled",then:-1,else:0},else:-1},key:'$swatch.label + "-" + $swatch.value',"data-color":"$fns.anyToHsvaString($swatch.value, 0)","data-color-precise":"$fns.anyToHsvaString($swatch.value, 2)","data-group":0,"data-label":"$swatch.label",role:"button","aria-label":"$swatch.label"}}}})),ru=/rgba?\((\d+%?)\s*(?:,?\s*|\s+)(\d+%?)\s*(?:,?\s*|\s+)(\d+%?)(?:\s*(?:,?\s*|\s+|\/\s*)(\d*(?:\.\d+)?%?))?\)/i,nu=/^hsla?\((\d{1,3}deg|[\d.]+)\s*,?\s*([\d.]+%)\s*,?\s*([\d.]+%)(?:\s*,?\s*([\d.]+%?))?\)$/i;function ne(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}function ds(e){const[t,r,n,o]=(function(s){s=s.replace("#",""),s.length===3&&(s=s[0]+s[0]+s[1]+s[1]+s[2]+s[2]);const a=parseInt(s.slice(0,2),16),i=parseInt(s.slice(2,4),16),l=parseInt(s.slice(4,6),16),p=s.length>=8?parseInt(s.slice(6,8),16)/255:1;return(function(u,c,f,d=1){const $=u/255,h=c/255,y=f/255,m=Math.max($,h,y),S=Math.min($,h,y);let g,_=0;const C=(m+S)/2;if(m===S)_=g=0;else{const k=m-S;switch(g=C>.5?k/(2-m-S):k/(m+S),m){case $:_=(h-y)/k+(h<y?6:0);break;case h:_=(y-$)/k+2;break;case y:_=($-h)/k+4}_*=60}return[_,255*g,255*C,d]})(a,i,l,p)})(e);return[...Ks(t,r,n,o)]}function Si(e,t,r,n=1){const o=t/100,s=r/100,a=(2-o)*s/2;return a!==0&&(a===1||(t=a<.5?o*s/(2*a):o*s/(2-2*a))),[e,ne(255*t,2),ne(255*a,2),n]}function Ks(e,t,r,n=1){const o=ne(t/255,4),s=ne(r/255,4);if(s===1)return[e,0,100,n];const a=ne(s+o*Math.min(s,1-s),4);let i=t/2.55;return a!==0&&(i=s!==1&&s!==0?2*(a-s)/a*100:t/2.55),[e,ne(i,2),ne(100*a,2),n]}function ou(e,t,r,n=1){const o=r/100,s=o*(t/100),a=s*(1-Math.abs(e/60%2-1)),i=o-s;let l=0,p=0,u=0;return[l,p,u]=e<60?[s,a,0]:e<120?[a,s,0]:e<180?[0,s,a]:e<240?[0,a,s]:e<300?[a,0,s]:[s,0,a],l=Math.round(255*(l+i)),p=Math.round(255*(p+i)),u=Math.round(255*(u+i)),[Math.min(Math.max(l,0),255),Math.min(Math.max(p,0),255),Math.min(Math.max(u,0),255),n]}function su(e,t,r,n=1){const o=e/255,s=t/255,a=r/255,i=Math.max(o,s,a),l=Math.min(o,s,a);let p=0;const u=i,c=i-l,f=i===0?0:c/i;if(i!==l){switch(i){case o:p=(s-a)/c+(s<a?6:0);break;case s:p=(a-o)/c+2;break;case a:p=(o-s)/c+4}p/=6}return[360*p,100*f,100*u,n]}function Ew(e,t,r,n=1){const[o,s,a,i]=ou(e,t,r,n);return(function(l,p,u,c=1){const f=$=>Math.round($).toString(16).padStart(2,"0").toUpperCase(),d=(function($){return Math.round(255*$).toString(16).padStart(2,"0").toUpperCase()})(c);return"#"+f(l)+f(p)+f(u)+`${d==="FF"?"":d}`})(o,s,a,i)}function qt(e){return/^(#?)([A-Fa-f0-9]{3}|[A-Fa-f0-9]{6}|[A-Fa-f0-9]{8})$/.test(e)}function Io(e){if(e){if(qt(e))return ds(e);if(e.startsWith("rgb")){const t=e.match(ru);if(!t)return[0,0,0,1];const r=n=>n.endsWith("%")?Math.round(2.55*Number(n.slice(0,-1))):Number(n);return su(r(t[1]),r(t[2]),r(t[3]),t[4]?t[4].endsWith("%")?Number(t[4].slice(0,-1))/100:Number(t[4]):1)}if(e.startsWith("hsl")){const t=e.match(nu);if(!t)return[0,0,0,1];const r=Number(t[1].replace("deg","").trim()),n=Number(t[2].slice(0,-1))/100,o=Number(t[3].slice(0,-1))/100,s=t[4]?t[4].endsWith("%")?Number(t[4].slice(0,-1))/100:Number(t[4]):1;return Ks(r,ne(255*n,2),ne(255*o,2),s)}}}function Di(e){const[t,r,n,o]=e.split("-").map(s=>Number(s));return[t,r,n,o]}function jt(e,t=150,r=!0){let n=null,o=!0;return(...s)=>{const a=()=>{e(...s),n=null};r&&o&&(o=!1,a()),n||(n=setTimeout(a,t))}}function Dr(e){return e!==!1&&e!=="false"}function Mw(e){return e.tabIndex>=0&&!e.disabled&&e.offsetParent!==null}const Ci={"canvas-ls":"LS","canvas-hue":"Hue","canvas-alpha":"Alpha"},Ow={schema:Ux(qx(Gx("$label"),H("$inline && $help",ki("$help")),zx(H("($inline === undefined || $inline === false) && $prefixIcon !== undefined",Sr("prefix","label")),H("$inline === undefined || $inline === false",Xx()),H("$inline === undefined || $inline === false",tw(vw(),H("$showValue",rw()))),H("$inline || $expanded)",nw(H("$showPanelClose && ($inline === undefined || $inline === false)",ow(Sr("close"))),H("$panelControls",sw(aw(iw(),lw()),hw(gw()),pw(uw(),cw()),dw(fw(),mw()),H("$eyeDropper && $hasNativeEyeDropper",$w(Sr("eyeDropper"))))),H("$panelFormat",yw(bw(H('$panelActiveFormat === "hex"',xw()),H('$panelActiveFormat === "rgba"',ww()),H('$panelActiveFormat === "rgba"',_w()),H('$panelActiveFormat === "rgba"',kw()),H('$panelActiveFormat === "hsla"',Dw()),H('$panelActiveFormat === "hsla"',Cw()),H('$panelActiveFormat === "hsla"',Lw()),H('$panelActiveFormat === "rgba" || $panelActiveFormat === "hsla"',Sw())),Aw(Sr("switch")))),H("$options",Tw(Iw())))),H("$inline === undefined || $inline === false",Jx()),H("($inline === undefined || $inline === false) && $suffixIcon !== undefined",Sr("suffix"))),H("$: ($inline === undefined || $inline === false) && $help",ki("$help"))),Qx(ew("$message.value"))),type:"input",family:"text",props:["disbaled","format","valueFormat","alpha","panelControls","panelFormat","eyeDropper","inline","options","showValue","closeOnSelect","allowPaste"],features:[function(e){let t,r=null,n=null,o=null,s=null,a=null,i=null,l=null,p=0;const u=["hex","rgba","hsla"],c=jt(function(){if(!n)return;const M=n.getContext("2d");if(!M)return;const{width:R,height:A}=n,E=e.props.h||0;M.fillStyle=`hsl(${E}, 100%, 50%)`,M.fillRect(0,0,R,A);const I=M.createLinearGradient(0,0,R,0);I.addColorStop(0,"rgba(255, 255, 255, 1)"),I.addColorStop(1,"rgba(255, 255, 255, 0)"),M.fillStyle=I,M.fillRect(0,0,R,A);const P=M.createLinearGradient(0,0,0,A);P.addColorStop(0,"rgba(0,0,0,0)"),P.addColorStop(1,"rgba(0,0,0,1)"),M.fillStyle=P,M.fillRect(0,0,R,A)},2),f=jt(function(){if(!s)return;const M=s.getContext("2d");if(!M)return;const R=Math.round(s.width),A=Math.round(s.height);M.clearRect(0,0,R,A),ue(s,A/2);const E=e.props.rgba.r||0,I=e.props.rgba.g||0,P=e.props.rgba.b||0,V=M.createLinearGradient(0,0,R,0);V.addColorStop(0,`rgba(${E}, ${I}, ${P}, 0)`),V.addColorStop(1,`rgba(${E}, ${I}, ${P}, 1)`),M.fillStyle=V,M.fillRect(0,0,R,A)},2),d=jt(b,2),$=jt(v,2),h=jt(te,2),y=jt(ge,10,!1);function m(M){var R,A;if(!e.context||!e.props.allowPaste||e.props.disabled)return;const E=(R=e.props.__root)===null||R===void 0?void 0:R.activeElement;if(r&&r.contains(E)){const I=(A=M.clipboardData)===null||A===void 0?void 0:A.getData("text");if(!I||E.tagName==="INPUT"&&!qt(I)&&!ru.test(I)&&!nu.test(I))return;(qt(I)||I.startsWith("hsl")||I.startsWith("rgb"))&&(e.props.hexInputFocused&&(e.props.hexInputFocused=!1,setTimeout(()=>{e.props.hexInputFocused=!0},10)),M.preventDefault(),S(I))}}function S(M){var R;if(!M)return;const A=Io(M);if(A){const[E,I,P,V]=A;M!=="undefined"&&(typeof E!="number"||isNaN(E)||typeof I!="number"||isNaN(I)||typeof P!="number"||isNaN(P)||typeof V!="number"||isNaN(V)||ne(E,2)===e.props.h&&ne(I,2)===e.props.s&&ne(P,2)===e.props.v&&ne(V,2)===e.props.a)||(e.props.alpha&&(e.props.a=ne(V,2)),te(E,I,P))}else{const E=(R=e.props.options)===null||R===void 0?void 0:R.find(I=>{var P;return((P=I.label)===null||P===void 0?void 0:P.toLowerCase())===M.toLowerCase()});if(E&&E.value){const I=Io(E.value);if(I){const[P,V,Z,j]=I;e.props.alpha&&(e.props.a=ne(j,2)),te(P,V,Z)}else te(e.props.h,e.props.s,e.props.v)}else te(e.props.h,e.props.s,e.props.v)}}function g(M){if(!e.context||!l)return;const R=l[M];R&&(e.props.focusedSwatch=R.dataset.color)}function _(M,R){new ResizeObserver(()=>{const A=M.getBoundingClientRect();M.width=Math.round(A.width),M.height=Math.round(A.height),R(M)}).observe(M)}function C(){e.context&&e.props.eyeDropper&&(e.context.hasNativeEyeDropper=!(typeof window>"u"||!window.EyeDropper),me(`eye-dropper-${e.props.id}`,()=>{var M;const R=new window.EyeDropper,A=(M=e.props.__root)===null||M===void 0?void 0:M.getElementById(`eye-dropper-${e.props.id}`);A?.addEventListener("click",async()=>{const E=await R.open();if(!E.sRGBHex)return;const[I,P,V]=ds(E.sRGBHex);e.props.alpha&&(e.props.a=1),te(I,P,V)})},e.props.__root))}function k(){D("canvas-ls",M=>{n=M},c,q),D("canvas-hue",M=>{o=M},x,Q),D("canvas-alpha",M=>{s=M},f,U),w(`canvas-preview-${e.props.id}`,M=>{a=M,b()},d),w(`canvas-swatch-preview-${e.props.id}`,M=>{i=M,v()},$),L()}function D(M,R,A,E){let I=!1;const P=()=>{document.removeEventListener("mousemove",V),document.removeEventListener("mouseup",j),document.removeEventListener("touchmove",Z),document.removeEventListener("touchend",Y)},V=ee=>{ee.buttons===1&&t&&E(ee)},Z=ee=>{t&&E(ee)},j=()=>{t=void 0,P()},Y=()=>{t=void 0,P()};w(`${M}-${e.props.id}`,ee=>{const J=ee.nextElementSibling;R(ee),A(),(function(z,we){const Fe=_e=>{z&&(_e.preventDefault(),we(_e))};z?.addEventListener("mousedown",Fe),z?.addEventListener("touchstart",Fe)})(ee,E),I||(function(z,we){I=!0,z.addEventListener("blur",()=>{z.removeAttribute("data-prevent-focus-style")}),we.addEventListener("touchend",()=>{z.removeAttribute("data-prevent-focus-style"),z.blur()}),z.addEventListener("keydown",Fe=>{["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(Fe.key)&&z.removeAttribute("data-prevent-focus-style")})})(J,ee),ee.addEventListener("mousedown",z=>{J.focus(),J.setAttribute("data-prevent-focus-style","true"),t=Ci[M],E(z),document.addEventListener("mousemove",V),document.addEventListener("mouseup",j)}),ee.addEventListener("touchstart",()=>{J.setAttribute("data-prevent-focus-style","true"),J.focus(),t=Ci[M],document.addEventListener("touchmove",Z),document.addEventListener("touchend",Y)})},A)}function w(M,R,A){me(M,()=>{var E;const I=(E=e.props.__root)===null||E===void 0?void 0:E.getElementById(M);I&&(R(I),A&&_(I,A))},e.props.__root)}function L(){me(`swatches-${e.props.id}`,()=>{var M,R,A;l=Array.from(((M=e.props.__root)===null||M===void 0?void 0:M.querySelectorAll(`#swatches-${e.props.id} canvas`))||[]),l.forEach(E=>{_(E,T)}),e.props.focusedSwatch=(A=(R=l[0])===null||R===void 0?void 0:R.dataset)===null||A===void 0?void 0:A.color,ge()},e.props.__root)}function x(){if(!o)return;const M=o.getContext("2d");if(!M)return;const R=o.width,A=o.height;for(let E=0;E<R;E++){const I=Math.floor(E/R*360);M.fillStyle=`hsl(${I}, 100%, 50%)`,M.fillRect(E,0,1,A)}}function b(){if(!a)return;const M=a.getContext("2d");if(!M)return;ue(a,a.width/3);const{r:R,g:A,b:E,a:I}=e.props.rgba;M.fillStyle=`rgba(${R}, ${A}, ${E}, ${I})`,M.fillRect(0,0,a.width,a.height)}function v(){if(!i)return;const M=i.getContext("2d");if(!M)return;ue(i,i.height/2);const{r:R,g:A,b:E,a:I}=e.props.rgba;M.fillStyle=`rgba(${R}, ${A}, ${E}, ${I})`,M.fillRect(0,0,i.width,i.height)}function T(M){if(!M)return;const R=M.getContext("2d");if(!R)return;ue(M,M.width/2);const A=M.dataset.colorPrecise;if(!A)return;const[E,I,P,V]=Di(A),[Z,j,Y,ee]=Si(E,I,P,V);R.fillStyle=`hsla(${Z}, ${j/255*100}%, ${Y/255*100}%, ${ee})`,R.fillRect(0,0,Math.round(M.width),Math.round(M.height))}function N(M,R,A){let E=null;const I=Y=>{E!==null&&cancelAnimationFrame(E),E=requestAnimationFrame(()=>{if(!R)return;const ee=R.getBoundingClientRect();let J,z;"touches"in Y?(J=Y.touches[0].clientX-ee.left,z=Y.touches[0].clientY-ee.top):(J=Y.clientX-ee.left,z=Y.clientY-ee.top),J=Math.min(Math.max(J,0),ee.width),z=Math.min(Math.max(z,0),ee.height),A(J,z)})};I(M);const P=Y=>{Y.preventDefault(),I(Y)},V=Y=>{Y.preventDefault(),I(Y)},Z=()=>{t=void 0,document.removeEventListener("mousemove",P),document.removeEventListener("mouseup",Z)},j=()=>{t=void 0,document.removeEventListener("touchmove",V),document.removeEventListener("touchend",j)};"touches"in M?(document.addEventListener("touchmove",V),document.addEventListener("touchend",j)):(document.addEventListener("mousemove",P),document.addEventListener("mouseup",Z))}function q(M){N(M,n,(R,A)=>{const E=R/n.width*100,I=100-A/n.height*100;h(e.props.hue,E,I)})}function Q(M){N(M,o,(R,A)=>{if(!o)return;const E=o.width,I=Math.floor(R/E*360);e.props.h=I,h(e.props.h,e.props.s,e.props.v)})}function U(M){e.props.alpha&&N(M,s,(R,A)=>{const E=R/s.width*100/100;e.props.a=E,h(e.props.hue,e.props.s,e.props.v)})}function ue(M,R){const A=M.getContext("2d");if(!A)return;const E=Math.ceil(M.height/R),I=Math.ceil(M.width/R);for(let P=0;P<E;P++)for(let V=0;V<I;V++)A.fillStyle=(P+V)%2==1?"#FFFFFF":"#CCCCCC",A.fillRect(V*R,P*R,R,R)}function ge(){var M,R;if(!e.context||!e.props.options||!l)return;const{h:A,s:E,v:I,a:P}=e.props,V=(function(Y,ee,J,z=1){const we=J===0?0:ee;return`${ne(J===0||J===100&&ee===0?0:Y,0)}-${ne(we,0)}-${ne(J,0)}-${ne(z,2)}`})(A,E,I,P);let Z=!1,j=!1;l.forEach(Y=>{const ee=Y.dataset.color;if(!ee)return;const[J,z,we,Fe]=ee.split("-");we==="0"&&I===0&&Fe===`${P}`&&(j=!0);const _e=Y.parentElement;j||ee===V?(_e.dataset.active="true",Y.ariaSelected="true",j=!1,!Z&&l&&(g(l.indexOf(Y)),Z=!0)):(delete _e.dataset.active,Y.ariaSelected="false")}),Z||(e.props.focusedSwatch=(R=(M=l[0])===null||M===void 0?void 0:M.dataset)===null||R===void 0?void 0:R.color)}function De(M){M=M.replace("#",""),e.props.hexInputFocused||M.length!==3||(M=M[0]+M[0]+M[1]+M[1]+M[2]+M[2]),M=`#${M=M.toUpperCase()}`,e.props.hex=M.slice(0,9)}function te(M,R,A,E=!1){e.props.h=M===void 0||isNaN(M)?e.props.h:ne(Math.max(Math.min(M,360),0),2),e.props.s=R===void 0||isNaN(R)?e.props.s:ne(Math.max(Math.min(R,100),0),2),e.props.v=A===void 0||isNaN(A)?e.props.v:ne(Math.max(Math.min(A,100),0),2);const{h:I,s:P,v:V,a:Z}=e.props,[j,Y,ee]=Si(I,P,V),[J,z,we]=ou(I,P,V),Fe=e.props.hexInputFocused?e.props.hex:Ew(I,P,V,Z),_e=ne(Z,2);e.props.hsla={h:I,s:Y,l:ee,a:_e},e.props.hslaPercent={h:ne(I,0),s:V===100&&P===0?0:ne(V===0?Y/255:Math.max(Math.min(Y/255*100,100),0),0),l:ne(Math.max(Math.min(e.props.hsla.l/255*100,100),0),0),a:_e},e.props.hslaString=`hsla(${e.props.hslaPercent.h}, ${e.props.hslaPercent.s}%, ${e.props.hslaPercent.l}%, ${_e})`,e.props.hslaStringPrecise=`hsla(${I}, ${ne(V===0?Y/255:Y/255*100,2)}%, ${ne(ee/255*100,2)}%, ${_e})`,e.props.rgba={r:J,g:z,b:we,a:_e},e.props.rgbaString=`rgba(${J}, ${z}, ${we}, ${_e})`,De(Fe),setTimeout(()=>{var Ce;ro(),(function(){const Ye=e.props.s,Nt=100-e.props.v;e.props.controlLSPosition={x:Ye,y:Nt}})(),y(),r||typeof window>"u"||(r=(Ce=e.props.__root)===null||Ce===void 0?void 0:Ce.querySelector(`[data-id="${e.props.id}"]`))},0);const ve=e.props.valueFormat?e.props.valueFormat:e.props.format;E||(ve==="hex"?e.input(e.props.hex):ve==="rgba"?e.input(e.props.rgbaString):ve==="hsla"&&e.input(e.props.hslaStringPrecise))}function ro(){c(),f(),d(),$()}e.addProps(["expanded","h","s","v","a","hsla","hslaPercent","hslaString","hslaStringPrecise","rgba","rgbaString","hex","controlLSPosition","panelActiveFormat","hexInputFocused","hasNativeEyeDropper","focusedSwatch","swatchIsUsingKeyboardNav","showPanelClose"]),e.props.h=e.props.h||void 0,e.props.s=e.props.s||void 0,e.props.v=e.props.v||void 0,e.props.a=e.props.a||1,e.props.controlLSPosition=e.props.controlLSPosition||{x:0,y:0},e.props.switchIcon=e.props.switchIcon||'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M34.2 179.7L154.4 66.2c1.4-1.3 3.5-2.2 5.6-2.2s4.2 .8 5.6 2.2L285.8 179.7c1.4 1.3 2.2 3.2 2.2 5.2c0 3.9-3.2 7.1-7.1 7.1H39.1c-3.9 0-7.1-3.2-7.1-7.1c0-2 .8-3.8 2.2-5.2zm-22-23.3C4.4 163.8 0 174.1 0 184.9C0 206.5 17.5 224 39.1 224H280.9c21.6 0 39.1-17.5 39.1-39.1c0-10.8-4.4-21.1-12.3-28.4L187.6 42.9C180.1 35.9 170.2 32 160 32s-20.1 3.9-27.6 10.9L12.3 156.4zm22 175.9c-1.4-1.3-2.2-3.2-2.2-5.2c0-3.9 3.2-7.1 7.1-7.1H280.9c3.9 0 7.1 3.2 7.1 7.1c0 2-.8 3.8-2.2 5.2L165.6 445.8c-1.4 1.3-3.5 2.2-5.6 2.2s-4.2-.8-5.6-2.2L34.2 332.3zm-22 23.3L132.4 469.1c7.4 7 17.4 10.9 27.6 10.9s20.1-3.9 27.6-10.9L307.7 355.6c7.8-7.4 12.3-17.7 12.3-28.5c0-21.6-17.5-39.1-39.1-39.1H39.1C17.5 288 0 305.5 0 327.1c0 10.8 4.4 21.1 12.3 28.5z"/></svg>',e.props.hexInputFocused=!1,e.props.swatchIsUsingKeyboardNav=!1,e.on("destroying",()=>{e.context&&typeof document<"u"&&document.removeEventListener("paste",m)}),e.on("created",()=>{var M,R;e.context&&(typeof window<"u"&&document.addEventListener("paste",m),e.props.expanded=!1,e.props.panelActiveFormat=e.props.format||u[0],e.props.panelControls=Dr(e.props.panelControls),e.props.eyeDropper=Dr(e.props.eyeDropper),e.props.panelFormat=Dr(e.props.panelFormat),e.props.showValue=Dr(e.props.showValue),e.props.allowPaste=Dr(e.props.allowPaste),e.props.inline=W(e.props.inline),e.props.disabled=W(e.props.disabled),e.props.format=e.props.format||"hex",e.props.alpha=W((R=(M=e.props)===null||M===void 0?void 0:M.alpha)===null||R===void 0||R),e.props.valueFormat=e.props.valueFormat||e.props.format,e.props.closeOnSelect=W(e.props.closeOnSelect),e.props.focusedSwatch=void 0,e.value===void 0||e.value===""||e.value===null?(e.props.rgba={r:0,g:0,b:0},te(0,0,0,!0)):S(`${e.value}`),e.on("input",({payload:A})=>{r&&e.props.__root!==void 0&&!r.contains(e.props.__root.activeElement)&&S(A)}),setTimeout(()=>{C()},5),k(),e.on("prop:expanded",()=>{var A;e.props.expanded?(C(),k(),L(),document.addEventListener("keydown",E),window.innerWidth<=430&&!window.matchMedia("(hover: hover)").matches?e.props.showPanelClose=!0:e.props.showPanelClose=!1,setTimeout(()=>{var I;const P=(I=e.props.__root)===null||I===void 0?void 0:I.querySelector(`[data-id="${e.props.id}"] *:not(.formkit-swatch-preview)[tabindex="0"]`);P&&P.focus()},0)):(document.removeEventListener("keydown",E),((A=e.props.__root)===null||A===void 0?void 0:A.querySelector(`[data-id="${e.props.id}"] *[tabindex="0"]`)).focus());function E(I){I.key==="Escape"&&(I.preventDefault(),e.props.expanded=!1)}}),e.context.fns.anyToHsvaString=(A,E)=>{const I=Io(A);if(!I)return"0-0-0-1";let[P,V,Z,j]=I;return E===0&&(P=Z===0||Z===100&&V===0?0:P),`${ne(P,E)}-${ne(V,E)}-${ne(Z,E)}-${ne(j,2)}`},e.context.handlers.inputPreviewClick=A=>{e.props.expanded=!e.props.expanded},e.context.handlers.inputPreviewFocusout=A=>{var E,I,P;const V=(E=e.props.__root)===null||E===void 0?void 0:E.querySelector(`[data-id="${e.props.id}"] .formkit-inner`),Z=A.relatedTarget;if(V.contains(Z)){let j=function(Y){var ee,J;V.contains(Y.target)||(e.props.expanded=!1,(ee=e.props.__root)===null||ee===void 0||ee.removeEventListener("mousedown",j),(J=e.props.__root)===null||J===void 0||J.removeEventListener("touchstart",j))};(I=e.props.__root)===null||I===void 0||I.addEventListener("mousedown",j),(P=e.props.__root)===null||P===void 0||P.addEventListener("touchstart",j)}else e.props.expanded=!1},e.context.handlers.inputPreviewKeydown=A=>{A.key==="Escape"&&(A.preventDefault(),e.props.expanded=!1),A.key!=="Enter"&&A.key!==" "||(A.preventDefault(),e.props.expanded=!e.props.expanded)},e.context.handlers.closePanel=()=>{e.props.expanded=!1},e.context.handlers.panelCloseKeydown=A=>{A.key!=="Enter"&&A.key!==" "||(A.preventDefault(),e.props.expanded=!1)},e.context.handlers.toggleFormat=(A=1)=>{A=typeof A=="number"?A:1;const E=(u.indexOf(e.props.panelActiveFormat)+A+u.length)%u.length;e.props.panelActiveFormat=u[E]},e.context.handlers.panelKeydown=A=>{var E,I,P;if(A.key==="Tab"&&e.props.expanded){A.preventDefault();const V=Array.from(((E=e.props.__root)===null||E===void 0?void 0:E.querySelectorAll(`[data-id="${e.props.id}"] *:not(.formkit-swatch-preview)[tabindex="0"]`))||[]).filter(Mw),Z=V.indexOf(!((I=e.props.__root)===null||I===void 0)&&I.activeElement?(P=e.props.__root)===null||P===void 0?void 0:P.activeElement:e.props.__root);let j;j=A.shiftKey?(Z-1+V.length)%V.length:(Z+1)%V.length,V[j].focus()}},e.context.handlers.lsKeydown=A=>{if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","PageUp","PageDown","Home","End"].includes(A.key)){A.preventDefault();const{h:E,s:I,v:P}=e.props,V=A.shiftKey?10:1;switch(A.key){case"ArrowLeft":te(E,I-V,P);break;case"ArrowRight":te(E,I+V,P);break;case"ArrowUp":te(E,I,P+V);break;case"ArrowDown":te(E,I,P-V);break;case"PageUp":te(E,I,P+10);break;case"PageDown":te(E,I,P-10);break;case"Home":te(E,I-10,P);break;case"End":te(E,I+10,P)}ro()}},e.context.handlers.hueControlKeydown=A=>{if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","PageUp","PageDown","Home","End"].includes(A.key)){A.preventDefault();const{h:E,s:I,v:P}=e.props,V=A.shiftKey?10:1;switch(A.key){case"ArrowLeft":case"ArrowDown":te(E-V,I,P);break;case"ArrowRight":case"ArrowUp":te(E+V,I,P);break;case"PageUp":te(E+10,I,P);break;case"PageDown":te(E-10,I,P);break;case"Home":te(0,I,P);break;case"End":te(360,I,P)}ro()}},e.context.handlers.alphaControlKeydown=A=>{if(e.props.alpha&&["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","PageUp","PageDown","Home","End"].includes(A.key)){A.preventDefault();const{h:E,s:I,v:P,a:V}=e.props,Z=A.shiftKey?.1:.01;switch(A.key){case"ArrowLeft":case"ArrowDown":e.props.a=ne(Math.min(Math.max(V-Z,0),1),2);break;case"ArrowRight":case"ArrowUp":e.props.a=ne(Math.min(Math.max(V+Z,0),1),2);break;case"PageUp":e.props.a=ne(Math.min(Math.max(V+.1,0),1),2);break;case"PageDown":e.props.a=ne(Math.min(Math.max(V-.1,0),1),2);break;case"Home":e.props.a=0;break;case"End":e.props.a=1}te(E,I,P)}},e.context.handlers.eyeDropperKeydown=A=>{var E;if(A.key==="Enter"||A.key===" "){A.preventDefault();const I=(E=e.props.__root)===null||E===void 0?void 0:E.getElementById(`eye-dropper-${e.props.id}`);I?.click()}},e.context.handlers.formatSwitcherKeydown=A=>{e.context&&(A.key!=="Enter"&&A.key!==" "&&A.key!=="ArrowDown"||(A.preventDefault(),e.context.handlers.toggleFormat()),A.key==="ArrowUp"&&(A.preventDefault(),e.context.handlers.toggleFormat(-1)))},e.context.handlers.hexInput=A=>{const E=A.target,I=E.value.startsWith("#")?9:8,P=E.value.slice(0,I);if(E.value=e.props.alpha?P:P.slice(0,7),qt(P)){const[V,Z,j,Y]=ds(P);e.props.alpha&&(e.props.a=Y),De(P),te(V,Z,j)}},e.context.handlers.hexKeydown=A=>{const E=A.target,I=E.value;let P="";if(!qt(I))return;const V=I.startsWith("#")?I.slice(1):I,Z=V.length===8,j=Z?V.substring(0,6):V,Y=Z?V.substring(6,8):"",ee=A.shiftKey?10:1,J=16777215;let z;if(["ArrowUp","ArrowDown","PageUp","PageDown","Home","End"].includes(A.key))switch(A.preventDefault(),A.key){case"ArrowUp":z=(parseInt(j,16)+ee)%16777216;break;case"ArrowDown":z=(parseInt(j,16)-ee+J+1)%16777216;break;case"PageUp":z=(parseInt(j,16)+10)%16777216;break;case"PageDown":z=(parseInt(j,16)-10+J+1)%16777216;break;case"Home":z=0;break;case"End":z=J}z!==void 0&&(P=z.toString(16).padStart(6,"0").toUpperCase()),P&&(E.value=Z?`#${P}${Y}`:`#${P}`),e.context&&e.context.handlers.hexInput(A)},e.context.handlers.hexFocus=()=>{e.context&&(e.props.hexInputFocused=!0)},e.context.handlers.hexBlur=A=>{if(!e.context)return;e.props.hexInputFocused=!1;const E=A.target.value;qt(E)&&De(E)},e.context.handlers.rangeLimitInput=(A,E,I,P)=>V=>{const Z=P||V;if(!Z||!e.context)return;const j=Z.target;if(j.value.endsWith("."))return;const Y=Math.max(Math.min(Number(j.value),I),E);j.value=`${Y}`;const ee=j.id;if(A==="hsla"){switch(ee){case`h-${e.props.id}`:e.props.h=Y;break;case`s-${e.props.id}`:e.props.hslaPercent.s=Y;break;case`l-${e.props.id}`:e.props.hslaPercent.l=Y}const[J,z,we]=Ks(e.props.h,2.55*e.props.hslaPercent.s,2.55*e.props.hslaPercent.l);te(J,z,we)}else if(A==="rgba"){switch(ee){case`r-${e.props.id}`:e.props.rgba.r=Y;break;case`g-${e.props.id}`:e.props.rgba.g=Y;break;case`b-${e.props.id}`:e.props.rgba.b=Y}const[J,z,we]=su(e.props.rgba.r,e.props.rgba.g,e.props.rgba.b);te(J,z,we)}else A=="alpha"&&e.props.alpha&&(e.props.a=Y,te())},e.context.handlers.rangeLimitKeydown=(A,E,I,P)=>V=>{if(e.context)if(["ArrowUp","ArrowDown","PageUp","PageDown","Home","End","Backspace","Tab","Enter"].includes(V.key)||V.metaKey||!/[a-zA-Z!@#$%^&*()_+={}\[\]:;"'<,>?\/|\\`~]/g.test(V.key)){if(["ArrowUp","ArrowDown","PageUp","PageDown","Home","End"].includes(V.key)){const Z=V.target,j=Number(Z.value),Y=V.shiftKey?10*P:P;switch(V.key){case"ArrowUp":V.preventDefault(),Z.value=`${Math.min(j+Y,I)}`;break;case"ArrowDown":V.preventDefault(),Z.value=`${Math.max(j-Y,E)}`;break;case"PageUp":V.preventDefault(),Z.value=`${Math.min(j+10*P,I)}`;break;case"PageDown":V.preventDefault(),Z.value=`${Math.max(j-10*P,E)}`;break;case"Home":V.preventDefault(),Z.value=`${E}`;break;case"End":V.preventDefault(),Z.value=`${I}`}e.context.handlers.rangeLimitInput(A,E,I,V)()}}else V.preventDefault()},e.context.handlers.swatchClick=A=>{const E=A.target;if(E.dataset.colorPrecise){const[I,P,V,Z]=Di(E.dataset.colorPrecise);e.props.alpha&&(e.props.a=Z),te(I,P,V),e.props.closeOnSelect&&(e.props.expanded=!1)}e.context&&A.type!=="keydown"&&e.context.handlers.swatchKeydown(A)},e.context.handlers.swatchKeydown=A=>{var E,I,P,V;if(!e.context||!l||!l.length)return;const Z=l.indexOf(A.currentTarget);let j=null;const Y=(function(ve){var Ce;if(!ve.length)return 0;const Ye=(Ce=ve[0].parentElement)===null||Ce===void 0?void 0:Ce.parentElement;if(!Ye)return 0;const Nt=Ye.getBoundingClientRect().width,vr=ve[0].parentElement;if(!vr)return 0;const no=vr.getBoundingClientRect(),Qe=window.getComputedStyle(vr),uu=parseFloat(Qe.marginLeft)+parseFloat(Qe.marginRight),cu=no.width+uu;return Math.floor(Nt/cu)})(l),ee=l.length;let J=0,z=ee,we=!1;const Fe=l[Z].dataset.group;if(Fe!==void 0){const ve=l.filter(Ce=>Ce.dataset.group===Fe);J=l.indexOf(ve[0]),z=l.indexOf(ve[ve.length-1])}const _e=(Z-J)%Y;if(!A.key||A.key==="Tab")return A.key||(e.props.swatchIsUsingKeyboardNav=!1,p=_e,g(Z)),A.key==="Tab"&&(e.props.swatchIsUsingKeyboardNav=!1),void l.forEach(ve=>{delete ve.parentElement.dataset.focused});if(A.key==="Enter"||A.key===" ")return A.preventDefault(),p=_e,e.context.handlers.swatchClick(A),void g(Z);switch(A.key!=="ArrowUp"&&A.key!=="ArrowDown"&&A.key!=="ArrowLeft"&&A.key!=="ArrowRight"||(e.props.swatchIsUsingKeyboardNav=!0,A.preventDefault()),A.key){case"ArrowUp":j=Math.max(Z-Y,Z-(Y-(p-_e))),we=!0;break;case"ArrowDown":j=Math.max(Z+Y,Z+(Y+(p-_e))),we=!0;break;case"ArrowLeft":j=Z-1,p=(j-J)%Y;break;case"ArrowRight":j=Z+1,p=(j-J)%Y}if(we&&j!==null&&(j<J||j>z)){let ve;ve=j<J?(I=(E=l[J-1])===null||E===void 0?void 0:E.dataset)===null||I===void 0?void 0:I.group:(V=(P=l[z+1])===null||P===void 0?void 0:P.dataset)===null||V===void 0?void 0:V.group;const Ce=l.filter(Qe=>Qe.dataset.group===Fe),Ye=l.filter(Qe=>Qe.dataset.group===ve),Nt=(Z-J)%Y,vr=Ce.length%Y||Y,no=Z>=J+Ce.length-vr;if(j<J){const Qe=Ye.length%Y||Y;j=J-Qe+Math.min(Math.max(Nt,p),Qe-1)}else j>z&&(j=no?Math.min(z+Math.max(Nt,p)+1,l.indexOf(Ye[Ye.length-1])):Math.min(j,z))}if(j!==null&&j>=0&&j<ee){g(j),l.forEach(Ye=>{delete Ye.parentElement.dataset.focused});const ve=l[j],Ce=ve.parentElement;ve.focus(),Ce.dataset.focused="true"}})})},qr,ft,re("eyeDropper","color"),re("close","close"),le("close"),le("next")]},Ft=Ee("tb"),{outer:Pw,wrapper:Li,prefix:Vw,suffix:Fw,help:Nw,messages:Bw,message:Rw,icon:Ai}=Me(Ft),Ti=Ft("label",()=>({if:"$label",$el:"label",attrs:{id:"$id + '_label'"}})),Hw=Ft("singleToggle",()=>({bind:"$attrs",$el:"button",attrs:{id:"$id",type:"button","aria-label":"$label","aria-pressed":"$fns.isChecked($onValue, $value)",onClick:"$handlers.toggleValue()",disabled:"$disabled",class:"$classes.input",onBlur:"$handlers.blur"}})),Ww=Ft("multiToggle",()=>({bind:"$attrs",$el:"button",attrs:{type:"button",id:"$id+'_'+$index","aria-label":"$label","aria-pressed":"$fns.isChecked($option, $value)",onClick:"$handlers.toggleValue($option)",class:"$classes.input",title:"$option.help",disabled:"$disabled || $option.disabled",onBlur:"$handlers.blur"}})),un=Ft("inputInner",()=>({bind:"$attrs",$el:"span"})),Kw=Ft("options",()=>({$el:"ul",attrs:{id:"$id","data-vertical":'$vertical && "true" || "false"',"aria-labelledby":"$id"}})),jw=Ft("option",()=>({$el:"li",for:["option","index","$options"],attrs:{key:"$option.value","data-index":"$index"}}));function Ii(e,t){return t=t?.hasOwnProperty("__original")?t?.__original:t?.value,e.props.multiple?!!Array.isArray(e.value)&&e.value.filter(r=>K(r,t)).length>0:t!==void 0?K(e.value,t):(e.props._isChecked=K(e.value,e.props.onValue),e.props._isChecked)}const Yw={schema:Pw(H("$options",Li(Ti("$label"),Kw(jw(Ww(H("$fns.isChecked($option) === true",un("$slots.default || $slots.on || $option.onLabel || $option.label"),un("$slots.default || $slots.off || $option.offLabel || $option.label")))))),Li(H("$label && ($slots.default || $slots.on || $onLabel)",Ti("$label")),Hw(Ai("prefix"),Vw(),H("$_isChecked === true",un("$slots.default || $slots.on || $onLabel || $label"),un("$slots.default || $slots.off || $offLabel || $label")),Fw(),Ai("suffix")))),Nw("$help"),Bw(Rw("$message.value"))),type:"input",family:"button",props:["options"],features:[function(e){var t,r,n,o;e.addProps(["enforced","multiple","offLabel","offValue","disabled","onLabel","onValue","vertical","_isChecked"]),e.props._isChecked=!1,e.props.enforced=W(e.props.enforced),e.props.multiple=W(e.props.multiple),e.props.vertical=W(e.props.vertical),"disabled"in e.props&&(e.props.disabled=W(e.props.disabled)),(t=(n=e.props).onValue)!==null&&t!==void 0||(n.onValue=!0),(r=(o=e.props).offValue)!==null&&r!==void 0||(o.offValue=!1),e.on("created",()=>{var s;e.props._isChecked=Ii(e,null),e.props.options&&e.props.multiple&&e.input((s=e.value)!==null&&s!==void 0?s:[],!1),e.context&&(e.context.fns.isChecked=a=>Ii(e,a),e.context.handlers.toggleValue=a=>i=>(function(l,p,u){if(u.preventDefault(),p=p&&F(p),l.props.options)if(l.props.multiple){const c=Array.isArray(l.value)?[...l.value]:[],f=c.findIndex(d=>K(d,p));f>-1&&(!l.props.enforced||c.length>1)?c.splice(f,1):f===-1&&c.push(p),l.input(c)}else K(l.value,p)&&!l.props.enforced?l.input(void 0):l.input(p);else l.input(K(l.value,l.props.onValue)?l.props.offValue:l.props.onValue)})(e,a,i))})},ft]},au=Ee("ut"),{outer:Zw,inner:Uw,wrapper:qw,label:zw,prefix:Gw,suffix:Xw,help:Jw,messages:Qw,message:e1,icon:Ei}=Me(au),t1=au("input",()=>({$el:"input",bind:"$attrs",attrs:{name:"$node.name",autocomplete:"$attrs.autocomplete || off",id:"$id",onChange:"$handlers.handleInput",onBlur:"$handlers.unitBlur",onInput:"$handlers.handleInput",onKeydown:"$handlers.handleKeyDown",onBeforeinput:"$handlers.handleBeforeInput",readonly:"$readonly",inputmode:"decimal",placeholder:"$placeholder || $unitParts.unit",disabled:"$disabled","data-unit":"$unit","data-currency":"$currency","data-display-locale":"$displayLocale","data-value-locale":"$valueLocale","data-decimals":"$decimals","data-trailing":"$trailingZeros","data-numeric-value":"$_numericValue","data-align":"$_valueAlignAuto","aria-required":"$state.required || undefined"}})),Eo={meter:{kilometer:.001,meter:1,centimeter:100,millimeter:1e3,mile:621371e-9,yard:1.09361,foot:3.28084,inch:39.3701,"mile-scandinavian":1e-4},kilometer:{kilometer:1,meter:1e3,centimeter:1e5,millimeter:1e6,mile:.621371,yard:1093.61,foot:3280.84,inch:39370.1,"mile-scandinavian":10},centimeter:{kilometer:1e-5,meter:.01,centimeter:1,millimeter:10,mile:62137e-10,yard:.0109361,foot:.0328084,inch:.393701,"mile-scandinavian":1e-6},millimeter:{kilometer:1e-6,meter:.001,centimeter:.1,millimeter:1,mile:621371e-12,yard:.00109361,foot:.00328084,inch:.0393701,"mile-scandinavian":1e-7},mile:{kilometer:1.60934,meter:1609.34,centimeter:160934,millimeter:1609340,mile:1,yard:1760,foot:5280,inch:63360,"mile-scandinavian":.160934},yard:{kilometer:9144e-7,meter:.9144,centimeter:91.44,millimeter:914.4,mile:568182e-9,yard:1,foot:3,inch:36,"mile-scandinavian":9144e-8},foot:{kilometer:3048e-7,meter:.3048,centimeter:30.48,millimeter:304.8,mile:189394e-9,yard:.333333,foot:1,inch:12,"mile-scandinavian":3048e-8},inch:{kilometer:254e-7,meter:.0254,centimeter:2.54,millimeter:25.4,mile:15783e-9,yard:.0277778,foot:.0833333,inch:1,"mile-scandinavian":254e-8},"mile-scandinavian":{kilometer:10,meter:1e4,centimeter:1e6,millimeter:1e7,mile:6.21371,yard:10936.1,foot:32808.4,inch:393701,"mile-scandinavian":1}},Mo={celsius:{celsius:e=>e,fahrenheit:e=>1.8*e+32},fahrenheit:{celsius:e=>5/9*(e-32),fahrenheit:e=>e}},Oo={acre:{acre:1,hectare:.404686},hectare:{acre:2.47105,hectare:1}},Po={gram:{gram:1,kilogram:.001,ounce:.035274,pound:.00220462},kilogram:{gram:1e3,kilogram:1,ounce:35.274,pound:2.20462},ounce:{gram:28.3495,kilogram:.0283495,ounce:1,pound:.0625},pound:{gram:453.592,kilogram:.453592,ounce:16,pound:1},stone:{gram:6350.29,kilogram:6.35029,ounce:224,pound:14,stone:1}},Vo={liter:{liter:1,milliliter:1e3,gallon:.264172,"fluid-ounce":33.814},milliliter:{liter:.001,milliliter:1,gallon:264172e-9,"fluid-ounce":.033814},gallon:{liter:3.78541,milliliter:3785.41,gallon:1,"fluid-ounce":128},"fluid-ounce":{liter:.0295735,milliliter:29.5735,gallon:.0078125,"fluid-ounce":1}},Fo={day:{day:1,hour:24,microsecond:864e8,millisecond:864e5,minute:1440,month:.0328767,nanosecond:864e14,second:86400,week:.142857,year:.00273973},hour:{day:.0416667,hour:1,microsecond:36e8,millisecond:36e5,minute:60,month:.00136986,nanosecond:36e11,second:3600,week:.00595238,year:114155e-9},microsecond:{day:115741e-19,hour:277778e-18,microsecond:1,millisecond:.001,minute:166667e-13,month:380517e-24,nanosecond:1e3,second:1e-6,week:165344e-20,year:3171e-20},millisecond:{day:115741e-13,hour:277778e-12,microsecond:1e3,millisecond:1,minute:166667e-10,month:380517e-19,nanosecond:1e6,second:.001,week:165344e-16,year:3171e-16},minute:{day:694444e-9,hour:.0166667,microsecond:6e7,millisecond:6e4,minute:1,month:228311e-10,nanosecond:6e10,second:60,week:992063e-10,year:190132e-11},month:{day:30.4368,hour:730.484,microsecond:2628e12,millisecond:2628e9,minute:43800,month:1,nanosecond:2628e15,second:2628e6,week:4.34524,year:.0833333},nanosecond:{day:115741e-25,hour:277778e-24,microsecond:.001,millisecond:1e-6,minute:166667e-19,month:380517e-28,nanosecond:1,second:1e-9,week:165344e-26,year:3171e-26},second:{day:115741e-10,hour:277778e-9,microsecond:1e6,millisecond:1e3,minute:.0166667,month:380517e-16,nanosecond:1e9,second:1,week:165344e-13,year:3171e-13},week:{day:7,hour:168,microsecond:6048e11,millisecond:6048e8,minute:10080,month:.230137,nanosecond:6048e14,second:604800,week:1,year:.0191781},year:{day:365,hour:8760,microsecond:3154e13,millisecond:3154e10,minute:525600,month:12,nanosecond:3154e16,second:3154e4,week:52.1429,year:1}},No={bit:{bit:1,byte:.125,kilobit:.001,kilobyte:125e-6,megabit:1e-6,megabyte:125e-9,gigabit:1e-9,gigabyte:125e-12,terabit:1e-12,terabyte:125e-15,petabyte:125e-18},byte:{bit:8,byte:1,kilobit:.008,kilobyte:.001,megabit:8e-6,megabyte:1e-6,gigabit:8e-9,gigabyte:1e-9,terabit:8e-12,terabyte:1e-12,petabyte:1e-15},kilobit:{bit:1e3,byte:125,kilobit:1,kilobyte:.125,megabit:.001,megabyte:125e-6,gigabit:1e-6,gigabyte:125e-9,terabit:1e-9,terabyte:125e-12,petabyte:125e-15},kilobyte:{bit:8e3,byte:1e3,kilobit:8,kilobyte:1,megabit:.008,megabyte:.001,gigabit:8e-6,gigabyte:1e-6,terabit:8e-9,terabyte:1e-9,petabyte:1e-12},megabit:{bit:1e6,byte:125e3,kilobit:1e3,kilobyte:125,megabit:1,megabyte:.125,gigabit:.001,gigabyte:125e-6,terabit:1e-6,terabyte:125e-9,petabyte:125e-12},megabyte:{bit:8e6,byte:1e6,kilobit:8e3,kilobyte:1e3,megabit:8,megabyte:1,gigabit:.008,gigabyte:.001,terabit:8e-6,terabyte:1e-6,petabyte:1e-9},gigabit:{bit:1e9,byte:125e6,kilobit:1e6,kilobyte:125e3,megabit:1e3,megabyte:125,gigabit:1,gigabyte:.125,terabit:.001,terabyte:125e-6,petabyte:125e-9},gigabyte:{bit:8e9,byte:1e9,kilobit:8e6,kilobyte:1e6,megabit:8e3,megabyte:1e3,gigabit:8,gigabyte:1,terabit:.008,terabyte:.001,petabyte:1e-6},terabit:{bit:1e12,byte:125e9,kilobit:1e9,kilobyte:125e6,megabit:1e6,megabyte:125e3,gigabit:1e3,gigabyte:125,terabit:1,terabyte:.125,petabyte:125e-6},terabyte:{bit:8e12,byte:1e12,kilobit:8e9,kilobyte:1e9,megabit:8e6,megabyte:1e6,gigabit:8e3,gigabyte:1e3,terabit:8,terabyte:1,petabyte:.001},petabyte:{bit:1e15,byte:125e12,kilobit:1e12,kilobyte:125e9,megabit:1e9,megabyte:125e6,gigabit:1e6,gigabyte:125e3,terabit:1e3,terabyte:125,petabyte:1}};function iu(e){let t=!1;function r(p){var u,c,f;const d=(`${p}`.match(/\-/g)||[]).length%2==1;p=(function(S){if(S=(function(g){return g.replace(/[\u0660-\u0669\u06f0-\u06f9]/g,_=>(15&_.charCodeAt(0)).toString())})(`${S}`),isNaN(S)&&(S=S.split(e.props.unitParts.decimal).map(g=>g.replace(/[^0-9]/g,"")).join(".")),S=S.replace(/[^0-9\.]/g,""),S.includes(".")){const g=S.split(".");e.props.decimals===0?S=g[0]:e.props.type==="currency"&&(g[1]=g[1].padEnd(l(),"0").slice(0,l()),S=g.join("."))}return S})(p);const $={};s()!=="unit"&&s()!=="decimal"||($.minimumFractionDigits=p.includes(".")?1:0),$.maximumFractionDigits=e.props.type==="currency"?l():e.props.decimals,e.props.minDecimals&&($.minimumFractionDigits=e.props.minDecimals,p&&!p.includes(".")&&(p+=".".padEnd(e.props.minDecimals+1,"0"))),$.maximumFractionDigits===0&&p.includes(".")&&(p=p.split(".")[0]);let h="";if(!isNaN(p)&&p.trim()!==""&&(p=d?`-${p}`:p,e.props.max&&!isNaN(e.props.max)&&(p=Number(p)>e.props.max?`${e.props.max}`:p),e.props.min&&!isNaN(e.props.min)&&(p=Number(p)<e.props.min?`${e.props.min}`:p),p.includes(".")&&e.props.type==="currency"?p=p.split(".")[0].padStart(1,"0")+"."+((u=p.split(".")[1])!==null&&u!==void 0?u:"0"):e.props.type==="currency"&&($.maximumFractionDigits=(c=$.minimumFractionDigits)!==null&&c!==void 0?c:0),h=a(e.props.displayLocale,$).format(p),e.props.type==="unit"&&p[p.length-1]===".")){const S=h.lastIndexOf(e.props.unitParts.decimal);h=h.slice(0,S+1)+h.slice(S+2),p=p.slice(0,-1)}let y,m=p.split(".");e.props.type==="currency"&&(m=m[0]+((f=m[1])!==null&&f!==void 0?f:"").padEnd(l(),"0"),m.length>1&&(m=m.replace(/^0+/,""),m=p!==""&&m===""?"0":m)),e.props.valueStore={number:p,integer:m,string:h},t=!0,e.props.valueStore&&(y=e.props.valueStore.hasOwnProperty(e.props.valueFormat)?e.props.valueStore[e.props.valueFormat]:e.props.valueStore.number),e.input(y===""?void 0:y).then(()=>(t=!1,Promise.resolve()))}function n(){me(`${e.props.id}`,p=>{var u,c;p instanceof HTMLInputElement&&(p.value=(c=(u=e.props.valueStore)===null||u===void 0?void 0:u.string)!==null&&c!==void 0?c:"")},e.props.__root)}function o(){var p,u;const c=(p=e.props.__root)===null||p===void 0?void 0:p.querySelector(`#${e.props.id}_inner input`);return(u=c?.value)!==null&&u!==void 0?u:""}function s(){return e.props.currency?"currency":e.props.unit?"unit":"decimal"}function a(p,u={}){const c=s(),f=Object.assign({},{style:c,roundingMode:"trunc"},u);return e.props.type==="unit"&&(f.unitDisplay=e.props.unitDisplay),e.props.type==="currency"&&(f.currencyDisplay=e.props.currencyDisplay),f[c]=e.props[c],new Intl.NumberFormat(p,f)}function i(p,u){var c,f,d,$,h;const y=(c=e.props.__root)===null||c===void 0?void 0:c.querySelector(`#${e.props.id}_inner input`);if(!y)return;const m=((d=(f=e.props.unitParts.unit)===null||f===void 0?void 0:f.length)!==null&&d!==void 0?d:0)+((h=($=e.props.unitParts.literal)===null||$===void 0?void 0:$.length)!==null&&h!==void 0?h:0);e.props.unitParts.unitLeft?p=Math.max(p,m):(p=Math.min(p,o().length-m),u==="insertText"&&p===0&&(p=1)),y.setSelectionRange(p,p)}function l(){return e.props.decimals!==void 0?e.props.decimals:e.props.minDecimals!==void 0&&e.props.minDecimals>e.props.unitParts.fractionLength?e.props.minDecimals:e.props.unitParts.fractionLength}e.props.valueStore=null,e.on("input",({payload:p})=>{t||(r(p),n())}),e.context&&(e.context.handlers.init=(p=null)=>{var u;e.props.skipInit?e.props.skipInit=!1:(function(){var f,d,$,h,y,m,S;e.props.skipInit=!0;const g=a(e.props.displayLocale).formatToParts(1234567812345678e-8);e.props.unitParts={decimal:(f=g.find(_=>_.type=="decimal"))===null||f===void 0?void 0:f.value,group:(d=g.find(_=>_.type=="group"))===null||d===void 0?void 0:d.value,unit:($=g.find(_=>["unit","currency"].includes(_.type)))===null||$===void 0?void 0:$.value,unitLeft:["unit","currency"].includes(g[0].type),literal:(y=(h=g.find(_=>_.type=="literal"))===null||h===void 0?void 0:h.value)!==null&&y!==void 0?y:"",fractionLength:(S=(m=g.find(_=>_.type=="fraction"))===null||m===void 0?void 0:m.value.length)!==null&&S!==void 0?S:0}})();let c=(u=p??e._value)!==null&&u!==void 0?u:"";e.props.valueStore?c=e.props.valueStore.number:e.props.valueFormat==="integer"&&(c=(function(f){var d;return(parseFloat(`${f}`)/Math.pow(10,(d=l())!==null&&d!==void 0?d:0)).toString().replace(".",l())})(`${c??""}`)),e.props.type==="unit"&&e.props.valueUnit&&e.props.unit&&e.props.valueUnit!==e.props.unit&&e.hook.input((f,d)=>{const $=(function(h,y,m){if(Eo[h]&&Eo[h][m])return y*Eo[h][m];if(Mo[h]&&Mo[h][m])return Mo[h][m](y);if(Oo[h]&&Oo[h][m])return y*Oo[h][m];if(Po[h]&&Po[h][m])return y*Po[h][m];if(Vo[h]&&Vo[h][m])return y*Vo[h][m];if(Fo[h]&&Fo[h][m])return y*Fo[h][m];if(No[h]&&No[h][m])return y*No[h][m];throw new Error("Conversion not supported")})(e.props.unit,f,e.props.valueUnit);return isNaN($)?d(f):d(+$.toFixed(Number(e.props.valueDecimals)||2))}),r(c),n()},e.context.handlers.handleBeforeInput=p=>{var u,c,f,d,$,h,y,m,S;if(!e.props.inExecCommand&&p.inputType!=="insertLineBreak"&&(p.preventDefault(),p.stopPropagation(),p.target instanceof HTMLInputElement)){const g=p.target,_=(u=p.data)!==null&&u!==void 0?u:"",C=(c=p.target.value)!==null&&c!==void 0?c:"",k=(f=p.target.selectionStart)!==null&&f!==void 0?f:0,D=(d=p.target.selectionEnd)!==null&&d!==void 0?d:0,w=D-k,L=C.indexOf(e.props.unitParts.decimal);let x=(($=p.target.selectionStart)!==null&&$!==void 0?$:0)+(p.data?0:-1),b=C,v=1;if(C.includes(e.props.unitParts.decimal)&&_===e.props.unitParts.decimal)return _===e.props.unitParts.decimal&&(x=b.indexOf(e.props.unitParts.decimal)+1),void i(x);if(!(e.props.min===null||e.props.min<0||e.props.max<0)&&_==="-"||_.match(/[a-zA-Z]/)||_===e.props.unitParts.decimal&&e.props.decimals===0)return;if(p.inputType==="deleteByCut"&&w>0&&(b=b.slice(0,k)+b.slice(D),x=D),p.inputType==="insertFromPaste"){const T=(h=p.data)!==null&&h!==void 0?h:"";b=b.slice(0,k)+T+b.slice(D)}if(p.inputType==="deleteContentBackward"&&C[k-1]===e.props.unitParts.group?(v+=1,x-=1):p.inputType==="deleteContentForward"&&C[k]===e.props.unitParts.group&&(v+=1,x+=1),L!==-1&&x>L&&p.inputType==="insertText"?b=(function(T,N,q){return T.substring(0,N)+q+T.substring(N+q.length)})(b,x,(y=p.data)!==null&&y!==void 0?y:"0"):p.inputType==="insertText"?(x=D,b=b.slice(0,k)+p.data+b.slice(D)):p.inputType==="deleteContentForward"?(x+=2,b=w===0?b.slice(0,k)+b.slice(D+v):b.slice(0,k)+b.slice(D)):p.inputType==="deleteContentBackward"&&(x+=1,w===0?b=b.slice(0,Math.max(k-v,0))+b.slice(D):w>0&&(b=b.slice(0,k)+b.slice(D))),p.inputType==="deleteContentForward"&&C[k]===e.props.unitParts.decimal){const T=b.slice(k-1);b=b.slice(0,k),T.includes(e.props.unitParts.unit)&&(b+=" "+e.props.unitParts.unit)}else if(p.inputType==="deleteContentBackward"&&C[k-1]===e.props.unitParts.decimal){const T=b.slice(k-1);b=b.slice(0,k-1),T.includes(e.props.unitParts.unit)&&(b+=" "+e.props.unitParts.unit)}if(r(b),b=((m=e.props.valueStore)===null||m===void 0?void 0:m.string)||((S=e.props.valueStore)===null||S===void 0?void 0:S.number)||"",x=b.length-C.length+x,b.length===C.length&&x>L&&(x+=p.inputType.includes("delete")?-1:1),g.setSelectionRange(0,C.length),e.props.inExecCommand=!0,document.execCommand("insertText",void 0,b),e.props.inExecCommand=!1,_===e.props.unitParts.decimal?x=b.indexOf(e.props.unitParts.decimal)+1:C.includes(e.props.unitParts.decimal)&&!b.includes(e.props.unitParts.decimal)&&(x=b.length),p.inputType==="insertText"&&e.props.minDecimals&&(!e.value||k===0&&D===C.length||L===-1&&e.props.minDecimals&&C)){let T=0;T=e.props.unitParts.unit?e.props.unitParts.unit.length+1:0,x-=e.props.minDecimals,e.props.unitParts.unitLeft?x-=T-1:x-=T+1}i(Math.max(0,x),p.inputType)}},e.context.handlers.handleInput=p=>{e.emit("dom-input-event",p),p.target instanceof HTMLInputElement&&(e.props.inputText=p.target.value,r(p.target.value))},e.context.handlers.handleKeyDown=p=>{var u,c;if(p.target instanceof HTMLInputElement&&(p.key==="ArrowUp"||p.key==="ArrowDown")){const f=p.key==="ArrowUp"?1*e.props.step:-1*e.props.step;r((function(d,$){var h,y,m,S;const g=`${d}`.split("."),_=`${$}`.split(".");let C=(h=g[0])!==null&&h!==void 0?h:"0",k=(y=_[0])!==null&&y!==void 0?y:"0";const D=(m=g[1])!==null&&m!==void 0?m:"",w=(S=_[1])!==null&&S!==void 0?S:"",L=Math.max(D.length,w.length);L>0&&(C+=D.padEnd(L,"0"),k+=w.padEnd(L,"0"));const x=BigInt(BigInt(C)+BigInt(k)).toString();return L>0?x.slice(0,-1*L)+"."+x.slice(-1*L):x})((c=(u=e.props.valueStore)===null||u===void 0?void 0:u.number)!==null&&c!==void 0?c:0,f)),n(),setTimeout(()=>{i(o().length)},1)}})}const r1={schema:Zw(qw(zw("$label"),Uw(Ei("prefix"),Gw(),t1(),Xw(),Ei("suffix"))),Jw("$help"),Qw(e1("$message.value"))),type:"input",family:"text",features:[function(e){var t,r,n,o,s,a;const i=["unit","decimals","minDecimals","displayLocale","min","max","step","valueFormat","unitDisplay","placeholder","unitParts","valueUnit","valueDecimals"];e.addProps(i),(t=(o=e.props).displayLocale)!==null&&t!==void 0||(o.displayLocale=e.props.locale||"en-US"),e.props.unitDisplay=e.props.unitDisplay||"short",e.props.decimals==="false"||e.props.decimals===!1?e.props.decimals=0:e.props.decimals!==void 0?e.props.decimals=Number(e.props.decimals):e.props.decimals=2,e.props.minDecimals=e.props.minDecimals!==void 0?Number(e.props.minDecimals):void 0,e.props.min!==void 0&&(e.props.min=Number(e.props.min)),e.props.max!==void 0&&(e.props.max=Number(e.props.max)),(r=(s=e.props).step)!==null&&r!==void 0||(s.step=1),(n=(a=e.props).valueFormat)!==null&&n!==void 0||(a.valueFormat="number"),["string","number"].indexOf(e.props.valueFormat)===-1&&(e.props.valueFormat="number"),e.on("created",()=>{e.context&&(e.context.handlers.unitBlur=l=>{if(!(l.target instanceof HTMLInputElement))return;let p=l.target.value;(function(u){u=u.trim();const c=/\d+\,\s*%?$/;return/\d+\.\s*%?$/.test(u)||c.test(u)})(p)&&(p=p.replace(e.props.unitParts.decimal,""),l.target.value=p),e.context&&e.context.handlers.blur(l)},iu(e),e.context.handlers.init(),i.forEach(l=>{e.on(`prop:${l}`,()=>{var p;(p=e?.context)===null||p===void 0||p.handlers.init()})}))})}]},lu=Ee("cr"),{outer:n1,inner:o1,wrapper:s1,label:a1,prefix:i1,suffix:l1,help:p1,messages:u1,message:c1,icon:Mi}=Me(lu),d1=lu("input",()=>({$el:"input",bind:"$attrs",attrs:{name:"$node.name",autocomplete:"$attrs.autocomplete || off",id:"$id",onChange:"$handlers.handleInput",onBlur:"$handlers.blur",onInput:"$handlers.handleInput",onKeydown:"$handlers.handleKeyDown",onBeforeinput:"$handlers.handleBeforeInput",readonly:"$readonly",disabled:"$disabled",placeholder:"$placeholder || $unitParts.unit",inputmode:"decimal","data-unit":"$unit","data-currency":"$currency","data-display-locale":"$displayLocale","data-value-locale":"$valueLocale","data-decimals":"$decimals","data-trailing":"$trailingZeros","data-numeric-value":"$_numericValue","data-align":"$_valueAlignAuto","aria-required":"$state.required || undefined"}})),f1={schema:n1(s1(a1("$label"),o1(Mi("prefix"),i1(),d1(),l1(),Mi("suffix"))),p1("$help"),u1(c1("$message.value"))),type:"input",family:"text",props:["options"],features:[function(e){var t,r,n,o,s,a,i,l;const p=["currency","decimals","maxDecimals","minDecimals","displayLocale","min","max","step","valueFormat","currencyDisplay","placeholder","unitParts"];e.addProps(p),e.addProps(["inputText"]),(t=(s=e.props).displayLocale)!==null&&t!==void 0||(s.displayLocale=e.props.locale||"en-US"),(r=(a=e.props).currency)!==null&&r!==void 0||(a.currency=e.props.currency||"USD"),e.props.decimals==="false"||e.props.decimals===!1?e.props.decimals=0:e.props.decimals!==void 0&&(e.props.decimals=Number(e.props.decimals)),e.props.minDecimals=e.props.minDecimals!==void 0?Number(e.props.minDecimals):void 0,e.props.min!==void 0&&(e.props.min=Number(e.props.min)),e.props.max!==void 0&&(e.props.max=Number(e.props.max)),(n=(i=e.props).step)!==null&&n!==void 0||(i.step=1),(o=(l=e.props).valueFormat)!==null&&o!==void 0||(l.valueFormat="number"),["string","number","integer"].indexOf(e.props.valueFormat)===-1&&(e.props.valueFormat="number"),e.on("created",()=>{e.context&&(iu(e),e.context.handlers.init(),p.forEach(u=>{e.on(`prop:${u}`,()=>{var c;(c=e?.context)===null||c===void 0||c.handlers.init()})}))})}]};var m1=Object.freeze({__proto__:null,autocomplete:M0,colorpicker:Ow,currency:f1,datepicker:jy,dropdown:Yv,mask:Tb,rating:m0,repeater:F$,slider:Zx,taglist:cb,toggle:p$,togglebuttons:Yw,transferlist:$x,unit:r1});const h1=typeof window<"u"?setInterval:()=>0,Oi=new WeakSet;function g1(e,t={}){const r=e;try{let n=function(o){Oi.has(o)&&(function(a,i){Tr[a]?Tr[a].add(i):Tr[a]=new Set([i])})(e,a=>{o.props.definition&&(o.props.definition.schema=a||[{$el:rt(13919),children:`${rt(451228594)}${rt(32863693)}`}]),o.emit("schema"),setTimeout(()=>o.destroy(),1e3)})};return(function(o){const s=()=>{throw new Error(`InvalidFormKitKey ${o}`)};if(!/^fk-/i.test(o))return s();const a=o.substring(3);if(!kg.test(a))return s();const i=parseInt(a,16).toString(),l=Number(i[0])<6?Number(i[0]):6,p=i.substring(l,l+(i.length-6)),u=i.substring(0,l)+i.substring(l+p.length),c=u.slice(0,2),f=`${u[u.length-1]}${u[0]}`;Number(p)!==Math.floor(Number(u)*Number(c)/Number(f))&&s()})(r),n.library=o=>{if(o.props.type in t){const{schema:s,...a}=t[o.props.type];Oi.add(o),o.define({...a,schema:s(e)})}h1(()=>Xn.has(e)&&o.emit("schema"),4e3)},n}catch(n){throw n instanceof Error&&(function(o){if(o.message==="FormKitNoKey")throw new Error("A FormKit API key is required, please visit https://formkit.com/pro")})(n),n}}const v1=g1("fk-2e7e557c8",m1),pu=async e=>{let t,r=!1;return{set:async n=>{const o=document.getElementById(e.f.name("vue-root"));return r||(t=O.createApp(mh,{schema:n.data?.curr?.data,_p:e,_$p:n}),t.use(Km,ws({plugins:[v1]})),t.mount(o),r=!0),{r:"",style:"",evt:{}}}}};exports.hydrator=pu;exports.index=pu;
