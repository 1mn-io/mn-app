"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const m=require("./hydrator.cjs.js"),y=require("./renderer.cjs.js"),h=async()=>({f:{name:n=>`${n.name}${n.id}`}}),f=()=>({set:()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const a=Math.random()*16|0;return(n=="x"?a:a&3|8).toString(16)})}),x=async n=>{const a=await h();return{set:async(c,o)=>{const i={r:""},d=c.data.curr||{id:f().set(),type:"text",data:{data:""}},u=await y.index({f:{...n.f,name:r=>a.f.name({id:d.id,name:r})}}),l=await m.index({f:{...n.f,name:r=>a.f.name({id:d.id,name:r})}}),s=await u.set({data:{curr:d}});return setTimeout(async()=>{const r=await l.set({data:{curr:d}},{add:e=>{let t=e.el;t?.setAttribute("contenteditable","true"),t?.classList.add("block-content"),t?.addEventListener("click",()=>{}),t?.addEventListener("input",function(p){t.innerHTML})},change:e=>{o?.change(e)}});(e=>{const t=document.createElement("style");t.innerHTML=`${r.style}`,e.appendChild(t)})(document.head)},200),i.r=s.r,(r=>{const e=document.createElement("style");e.innerHTML=`${s.style}`,r.appendChild(e)})(document.head),i}}};exports.editor=x;exports.index=x;
